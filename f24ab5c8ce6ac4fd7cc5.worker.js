!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=t.type,n=t.meta,o=t.payload;switch(e){case v.SETUP:return s(o,n);case v.LOOP:return x(o,n)}}function s(t,e){var n=[],o=[],r={};for(var i in t){var a=l({},t[i],{name:i});i===e?u(a)&&(r[i]=l({},t[i],{visible:!0})):-1!==v.BODIES.indexOf(a.type)?o.push(a):-1!==v.JOINTS.indexOf(a.type)&&n.push(a)}var s=!0,c=!1,p=void 0;try{for(var h,d=o[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;C(f)&&(r[f.name]=l({},t[f.name],{visible:!0}))}}catch(y){c=!0,p=y}finally{try{!s&&d["return"]&&d["return"]()}finally{if(c)throw p}}var m=!0,g=!1,b=void 0;try{for(var w,x=n[Symbol.iterator]();!(m=(w=x.next()).done);m=!0){var S=w.value;E(S)&&(r[S.name]=l({},t[S.name],{visible:!0}))}}catch(y){g=!0,b=y}finally{try{!m&&x["return"]&&x["return"]()}finally{if(g)throw b}}return r}function u(t){var e=t.G,n=t.iterations,o=t.timestep,r=t.broadphase;switch(g.gravity=new p["default"].Vec3(0,e,0),g.solver.iterations=n,g.dt=o,r){case v.BRUTE:g.broadPhase=new p["default"].NaiveBroadphase;break;case v.SWEEP:default:g.broadPhase=new p["default"].SAPBroadphase;break;case v.TREE:g.broadPhase=new p["default"].GridBroadphase}return!0}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},c=n(90),p=r(c),h=n(89),d=n(88),f=n(87),v=o(f),y=n(91),m=(r(y),Date.now()),g=new p["default"].World,b={},w={};self.onmessage=function(t){var e=t.data;return self.postMessage({type:e.type,meta:e.meta,payload:a(e)})};var x=function(t,e){g.step(g.dt,m),m=Date.now();var n={};for(var o in b){var r=b[o];if(r.sleepState!==p["default"].Body.SLEEPING){var a=h.Vec3.scale(r.position,1),s=h.Quat.scale(r.quaternion,1);n=l({},n,i({},o,{pos:a,qua:s}))}}for(var o in w){var u=w[o],c=h.Vec3.scale(u.bodyA.position,1),d=h.Vec3.scale(u.bodyB.position,1);n=l({},n,i({},o,{anchors:[c,d]}))}return n},C=function(t){var e=t.name,n=t.type,o=t.pos,r=t.qua,i=t.dim,a=t.density,s=t.friction,u=t.restituition,l=t.dynamic,c=new p["default"].Vec3(o.x,o.y,o.z),h=new p["default"].Quaternion(r.x,r.y,r.z,r.w),d=i.width,f=i.height,y=i.depth,m=i.radius,w=void 0;switch(n){case v.BOX:w=new p["default"].Box(new p["default"].Vec3(d/2,f/2,y/2));break;case v.SPHERE:w=new p["default"].Sphere(m);break;case v.CYLINDER:w=new p["default"].Cylinder(m,m,f,12)}var x=l?w.volume()*a:0,C=new p["default"].Material({friction:s,restituition:u}),E=l?p["default"].Body.DYNAMIC:p["default"].Body.STATIC,S=new p["default"].Body({position:c,quaternion:h,shape:w,mass:x,material:C,type:E});return g.addBody(S),b[e]=S,!0},E=function(t){var e=t.name,n=t.type,o=t.bodies,r=t.anchors,i=t.limits,a=t.axis,s=(t.damping,t.stiffness,t.maxForce),u=(t.maxTorque,b[(0,d.uniqueUnion)(o[0],(0,d.getParent)(e))]),l=b[(0,d.uniqueUnion)(o[1],(0,d.getParent)(e))],c=new p["default"].Vec3(r[0].x,r[0].y,r[0].z),h=new p["default"].Vec3(r[1].x,r[1].y,r[1].z),f=new p["default"].Vec3(a[0].x,a[0].y,a[0].z),y=new p["default"].Vec3(a[1].x,a[1].y,a[1].z),m=void 0;switch(n){case v.JOINT_BALL_AND_SOCKET:m=new p["default"].PointToPointConstraint(u,c,l,h,s);break;case v.JOINT_HINGE:m=new p["default"].HingeConstraint(u,l,{pivotA:c,pivotB:h,axisA:f,axisB:y,maxForce:s});break;case v.JOINT_DISTANCE:m=new p["default"].DistanceConstraint(u,l,i[0],s)}return g.addConstraint(m),n===v.JOINT_DISTANCE&&(w[e]=m),!0}},function(t,e,n){"use strict";var o=function(t,e,n,o,r,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,r,i,a,s],c=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}};t.exports=o},function(t,e){"use strict";function n(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),o=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){var a=Object(i);for(var s in a)o.call(a,s)&&(n[s]=a[s])}}return n}t.exports=n},function(t,e,n){"use strict";var o=n(9),r=o;t.exports=r},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=o},function(t,e,n){"use strict";function o(t,e){for(var n=Math.min(t.length,e.length),o=0;n>o;o++)if(t.charAt(o)!==e.charAt(o))return o;return t.length===e.length?-1:n}function r(t){return t?t.nodeType===z?t.documentElement:t.firstChild:null}function i(t){var e=r(t);return e&&Q.getID(e)}function a(t){var e=s(t);if(e)if(j.hasOwnProperty(e)){var n=j[e];n!==t&&(p(n,e)?k(!1):void 0,j[e]=t)}else j[e]=t;return e}function s(t){return t&&t.getAttribute&&t.getAttribute(V)||""}function u(t,e){var n=s(t);n!==e&&delete j[n],t.setAttribute(V,e),j[e]=t}function l(t){return j.hasOwnProperty(t)&&p(j[t],t)||(j[t]=Q.findReactNodeByID(t)),j[t]}function c(t){var e=_.get(t)._rootNodeID;return S.isNullComponentID(e)?null:(j.hasOwnProperty(e)&&p(j[e],e)||(j[e]=Q.findReactNodeByID(e)),j[e])}function p(t,e){if(t){s(t)!==e?k(!1):void 0;var n=Q.findReactContainerForID(e);if(n&&D(n,t))return!0}return!1}function h(t){delete j[t]}function d(t){var e=j[t];return e&&p(e,t)?void(Y=e):!1}function f(t){Y=null,M.traverseAncestors(t,d);var e=Y;return Y=null,e}function v(t,e,n,o,r,i){C.useCreateElement&&(i=I({},i),n.nodeType===z?i[U]=n:i[U]=n.ownerDocument);var a=A.mountComponent(t,e,o,i);t._renderedComponent._topLevelWrapper=t,Q._mountImageIntoNode(a,n,r,o)}function y(t,e,n,o,r){var i=T.ReactReconcileTransaction.getPooled(o);i.perform(v,null,t,e,n,i,o,r),T.ReactReconcileTransaction.release(i)}function m(t,e){for(A.unmountComponent(t),e.nodeType===z&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function g(t){var e=i(t);return e?e!==M.getReactRootIDFromNodeID(e):!1}function b(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=s(t);if(e){var n,o=M.getReactRootIDFromNodeID(e),r=t;do if(n=s(r),r=r.parentNode,null==r)return null;while(n!==o);if(r===K[o])return t}}return null}var w=n(16),x=n(24),C=(n(11),n(60)),E=n(6),S=n(67),M=n(17),_=n(20),P=n(70),R=n(7),A=n(14),N=n(40),T=n(8),I=n(2),B=n(22),D=n(82),O=n(47),k=n(1),L=n(31),F=n(50),V=(n(52),n(3),w.ID_ATTRIBUTE_NAME),j={},q=1,z=9,W=11,U="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),H={},K={},G=[],Y=null,X=function(){};X.prototype.isReactComponent={},X.prototype.render=function(){return this.props};var Q={TopLevelWrapper:X,_instancesByReactRootID:H,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,o){return Q.scrollMonitor(n,function(){N.enqueueElementInternal(t,e),o&&N.enqueueCallbackInternal(t,o)}),t},_registerComponent:function(t,e){!e||e.nodeType!==q&&e.nodeType!==z&&e.nodeType!==W?k(!1):void 0,x.ensureScrollValueMonitoring();var n=Q.registerContainer(e);return H[n]=t,n},_renderNewRootComponent:function(t,e,n,o){var r=O(t,null),i=Q._registerComponent(r,e);return T.batchedUpdates(y,r,i,e,n,o),r},renderSubtreeIntoContainer:function(t,e,n,o){return null==t||null==t._reactInternalInstance?k(!1):void 0,Q._renderSubtreeIntoContainer(t,e,n,o)},_renderSubtreeIntoContainer:function(t,e,n,o){E.isValidElement(e)?void 0:k(!1);var a=new E(X,null,null,null,null,null,e),u=H[i(n)];if(u){var l=u._currentElement,c=l.props;if(F(c,e)){var p=u._renderedComponent.getPublicInstance(),h=o&&function(){o.call(p)};return Q._updateRootComponent(u,a,n,h),p}Q.unmountComponentAtNode(n)}var d=r(n),f=d&&!!s(d),v=g(n),y=f&&!u&&!v,m=Q._renderNewRootComponent(a,n,y,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):B)._renderedComponent.getPublicInstance();return o&&o.call(m),m},render:function(t,e,n){return Q._renderSubtreeIntoContainer(null,t,e,n)},registerContainer:function(t){var e=i(t);return e&&(e=M.getReactRootIDFromNodeID(e)),e||(e=M.createReactRootID()),K[e]=t,e},unmountComponentAtNode:function(t){!t||t.nodeType!==q&&t.nodeType!==z&&t.nodeType!==W?k(!1):void 0;var e=i(t),n=H[e];if(!n){var o=(g(t),s(t));o&&o===M.getReactRootIDFromNodeID(o);return!1}return T.batchedUpdates(m,n,t),delete H[e],delete K[e],!0},findReactContainerForID:function(t){var e=M.getReactRootIDFromNodeID(t),n=K[e];return n},findReactNodeByID:function(t){var e=Q.findReactContainerForID(t);return Q.findComponentRoot(e,t)},getFirstReactDOM:function(t){return b(t)},findComponentRoot:function(t,e){var n=G,o=0,r=f(e)||t;for(n[0]=r.firstChild,n.length=1;o<n.length;){for(var i,a=n[o++];a;){var s=Q.getID(a);s?e===s?i=a:M.isAncestorIDOf(s,e)&&(n.length=o=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(i)return n.length=0,i}n.length=0,k(!1)},_mountImageIntoNode:function(t,e,n,i){if(!e||e.nodeType!==q&&e.nodeType!==z&&e.nodeType!==W?k(!1):void 0,n){var a=r(e);if(P.canReuseMarkup(t,a))return;var s=a.getAttribute(P.CHECKSUM_ATTR_NAME);a.removeAttribute(P.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(P.CHECKSUM_ATTR_NAME,s);var l=t,c=o(l,u);" (client) "+l.substring(c-20,c+20)+"\n (server) "+u.substring(c-20,c+20);e.nodeType===z?k(!1):void 0}if(e.nodeType===z?k(!1):void 0,i.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else L(e,t)},ownerDocumentContextKey:U,getReactRootID:i,getID:a,setID:u,getNode:l,getNodeFromInstance:c,isValid:p,purgeID:h};R.measureMethods(Q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=Q},function(t,e,n){"use strict";var o=n(11),r=n(2),i=(n(29),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(t,e,n,o,r,a,s){var u={$$typeof:i,type:t,key:e,ref:n,props:s,_owner:a};return u};s.createElement=function(t,e,n){var r,i={},u=null,l=null,c=null,p=null;if(null!=e){l=void 0===e.ref?null:e.ref,u=void 0===e.key?null:""+e.key,c=void 0===e.__self?null:e.__self,p=void 0===e.__source?null:e.__source;for(r in e)e.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(i[r]=e[r])}var h=arguments.length-2;if(1===h)i.children=n;else if(h>1){for(var d=Array(h),f=0;h>f;f++)d[f]=arguments[f+2];i.children=d}if(t&&t.defaultProps){var v=t.defaultProps;for(r in v)"undefined"==typeof i[r]&&(i[r]=v[r])}return s(t,u,l,c,p,o.current,i)},s.createFactory=function(t){var e=s.createElement.bind(null,t);return e.type=t,e},s.cloneAndReplaceKey=function(t,e){var n=s(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},s.cloneAndReplaceProps=function(t,e){var n=s(t.type,t.key,t.ref,t._self,t._source,t._owner,e);return n},s.cloneElement=function(t,e,n){var i,u=r({},t.props),l=t.key,c=t.ref,p=t._self,h=t._source,d=t._owner;if(null!=e){void 0!==e.ref&&(c=e.ref,d=o.current),void 0!==e.key&&(l=""+e.key);for(i in e)e.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(u[i]=e[i])}var f=arguments.length-2;if(1===f)u.children=n;else if(f>1){for(var v=Array(f),y=0;f>y;y++)v[y]=arguments[y+2];u.children=v}return s(t.type,l,c,p,h,d,u)},s.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},t.exports=s},function(t,e,n){"use strict";function o(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:o,measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){r.storedMeasure=t}}};t.exports=r},function(t,e,n){"use strict";function o(){_.ReactReconcileTransaction&&w?void 0:y(!1)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=_.ReactReconcileTransaction.getPooled(!1)}function i(t,e,n,r,i,a){o(),w.batchedUpdates(t,e,n,r,i,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==m.length?y(!1):void 0,m.sort(a);for(var n=0;e>n;n++){var o=m[n],r=o._pendingCallbacks;if(o._pendingCallbacks=null,d.performUpdateIfNecessary(o,t.reconcileTransaction),r)for(var i=0;i<r.length;i++)t.callbackQueue.enqueue(r[i],o.getPublicInstance())}}function u(t){return o(),w.isBatchingUpdates?void m.push(t):void w.batchedUpdates(u,t)}function l(t,e){w.isBatchingUpdates?void 0:y(!1),g.enqueue(t,e),b=!0}var c=n(34),p=n(12),h=n(7),d=n(14),f=n(28),v=n(2),y=n(1),m=[],g=c.getPooled(),b=!1,w=null,x={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),S()):m.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[x,C];v(r.prototype,f.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,_.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(r);var S=function(){for(;m.length||b;){if(m.length){var t=r.getPooled();t.perform(s,null,t),r.release(t)}if(b){b=!1;var e=g;g=c.getPooled(),e.notifyAll(),c.release(e)}}};S=h.measure("ReactUpdates","flushBatchedUpdates",S);var M={injectReconcileTransaction:function(t){t?void 0:y(!1),_.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:y(!1),"function"!=typeof t.batchedUpdates?y(!1):void 0,"boolean"!=typeof t.isBatchingUpdates?y(!1):void 0,w=t}},_={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:S,injection:M,asap:l};t.exports=_},function(t,e){"use strict";function n(t){return function(){return t}}function o(){}o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";var o=n(32),r=o({bubbled:null,captured:null}),i=o({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:r};t.exports=a},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e,n){"use strict";var o=n(1),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},i=function(t,e){var n=this;if(n.instancePool.length){var o=n.instancePool.pop();return n.call(o,t,e),o}return new n(t,e)},a=function(t,e,n){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,t,e,n),r}return new o(t,e,n)},s=function(t,e,n,o){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n,o),i}return new r(t,e,n,o)},u=function(t,e,n,o,r){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,t,e,n,o,r),a}return new i(t,e,n,o,r)},l=function(t){var e=this;t instanceof e?void 0:o(!1),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,p=r,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||p,n.poolSize||(n.poolSize=c),n.release=l,n},d={addPoolingTo:h,oneArgumentPooler:r,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};t.exports=d},function(t,e){"use strict";var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){"use strict";function o(){r.attachRefs(this,this._currentElement)}var r=n(136),i={mountComponent:function(t,e,n,r){var i=t.mountComponent(e,n,r);return t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(o,t),i},unmountComponent:function(t){r.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,i){var a=t._currentElement;if(e!==a||i!==t._context){var s=r.shouldUpdateRefs(a,e);s&&r.detachRefs(t,a),t.receiveComponent(e,n,i),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(o,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=i},function(t,e,n){"use strict";function o(t,e,n,o){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n,this.target=o,this.currentTarget=o;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s?this[i]=s(n):this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var r=n(12),i=n(2),a=n(9),s=(n(3),{type:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});i(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),o.Interface=s,o.augmentClass=function(t,e){var n=this,o=Object.create(n.prototype);i(o,t.prototype),t.prototype=o,t.prototype.constructor=t,t.Interface=i({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.fourArgumentPooler)},r.addPoolingTo(o,r.fourArgumentPooler),t.exports=o},function(t,e,n){"use strict";function o(t,e){return(t&e)===e}var r=n(1),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=i,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},u=t.DOMAttributeNames||{},l=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?r(!1):void 0;var h=p.toLowerCase(),d=n[p],f={attributeName:h,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:o(d,e.MUST_USE_ATTRIBUTE),mustUseProperty:o(d,e.MUST_USE_PROPERTY),hasSideEffects:o(d,e.HAS_SIDE_EFFECTS),hasBooleanValue:o(d,e.HAS_BOOLEAN_VALUE),hasNumericValue:o(d,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(d,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(d,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?r(!1):void 0,!f.mustUseProperty&&f.hasSideEffects?r(!1):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:r(!1),u.hasOwnProperty(p)){var v=u[p];f.attributeName=v}a.hasOwnProperty(p)&&(f.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(f.propertyName=l[p]),c.hasOwnProperty(p)&&(f.mutationMethod=c[p]),s.properties[p]=f}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,o=a[t];return o||(a[t]=o={}),e in o||(n=document.createElement(t),o[e]=n[e]),o[e]},injection:i};t.exports=s},function(t,e,n){"use strict";function o(t){return d+t.toString(36)}function r(t,e){return t.charAt(e)===d||e===t.length}function i(t){return""===t||t.charAt(0)===d&&t.charAt(t.length-1)!==d}function a(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function s(t){return t?t.substr(0,t.lastIndexOf(d)):""}function u(t,e){if(i(t)&&i(e)?void 0:h(!1),a(t,e)?void 0:h(!1),t===e)return t;var n,o=t.length+f;for(n=o;n<e.length&&!r(e,n);n++);return e.substr(0,n)}function l(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var o=0,a=0;n>=a;a++)if(r(t,a)&&r(e,a))o=a;else if(t.charAt(a)!==e.charAt(a))break;var s=t.substr(0,o);return i(s)?void 0:h(!1),s}function c(t,e,n,o,r,i){t=t||"",e=e||"",t===e?h(!1):void 0;var l=a(e,t);l||a(t,e)?void 0:h(!1);for(var c=0,p=l?s:u,d=t;;d=p(d,e)){var f;if(r&&d===t||i&&d===e||(f=n(d,l,o)),f===!1||d===e)break;c++<v?void 0:h(!1)}}var p=n(75),h=n(1),d=".",f=d.length,v=1e4,y={createReactRootID:function(){return o(p.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===d&&t.length>1){var e=t.indexOf(d,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,o,r){var i=l(t,e);i!==t&&c(t,i,n,o,!1,!0),i!==e&&c(i,e,n,r,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(c("",t,e,n,!0,!1),c(t,"",e,n,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,n){t&&(c("",t,e,n,!0,!0),c(t,"",e,n,!0,!0))},traverseAncestors:function(t,e,n){c("",t,e,n,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:d};t.exports=y},function(t,e,n){"use strict";var o=n(56),r=n(113),i=n(68),a=n(77),s=n(78),u=n(1),l=(n(3),{}),c=null,p=function(t,e){t&&(r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},h=function(t){return p(t,!0)},d=function(t){return p(t,!1)},f=null,v={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(t){f=t},getInstanceHandle:function(){return f},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(t,e,n){"function"!=typeof n?u(!1):void 0;var r=l[e]||(l[e]={});r[t]=n;var i=o.registrationNameModules[e];i&&i.didPutListener&&i.didPutListener(t,e,n)},getListener:function(t,e){var n=l[e];return n&&n[t]},deleteListener:function(t,e){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=l[e];r&&delete r[t]},deleteAllListeners:function(t){for(var e in l)if(l[e][t]){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete l[e][t]}},extractEvents:function(t,e,n,r,i){for(var s,u=o.plugins,l=0;l<u.length;l++){var c=u[l];if(c){var p=c.extractEvents(t,e,n,r,i);p&&(s=a(s,p))}}return s},enqueueEvents:function(t){t&&(c=a(c,t))},processEventQueue:function(t){var e=c;c=null,t?s(e,h):s(e,d),c?u(!1):void 0,i.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=v},function(t,e,n){"use strict";function o(t,e,n){var o=e.dispatchConfig.phasedRegistrationNames[n];return g(t,o)}function r(t,e,n){var r=e?m.bubbled:m.captured,i=o(t,n,r);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchIDs=v(n._dispatchIDs,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function a(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,r,t)}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var o=n.dispatchConfig.registrationName,r=g(t,o);r&&(n._dispatchListeners=v(n._dispatchListeners,r),n._dispatchIDs=v(n._dispatchIDs,t))}}function u(t){t&&t.dispatchConfig.registrationName&&s(t.dispatchMarker,null,t)}function l(t){y(t,i)}function c(t){y(t,a)}function p(t,e,n,o){f.injection.getInstanceHandle().traverseEnterLeave(n,o,s,t,e)}function h(t){y(t,u)}var d=n(10),f=n(18),v=(n(3),n(77)),y=n(78),m=d.PropagationPhases,g=f.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:p};t.exports=b},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(15),i=n(45),a={view:function(t){if(t.view)return t.view;var e=i(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(o,a),t.exports=o},function(t,e,n){"use strict";var o={};t.exports=o},function(t,e){function n(t){return!!t&&"object"==typeof t}function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&i(p(t))}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function a(t){return n(t)&&r(t)&&u.call(t,"callee")&&!l.call(t,"callee")}var s=Object.prototype,u=s.hasOwnProperty,l=s.propertyIsEnumerable,c=9007199254740991,p=o("length");t.exports=a},function(t,e,n){"use strict";function o(t){return Object.prototype.hasOwnProperty.call(t,y)||(t[y]=f++,h[t[y]]={}),h[t[y]]}var r=n(10),i=n(18),a=n(56),s=n(129),u=n(7),l=n(76),c=n(2),p=n(48),h={},d=!1,f=0,v={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),m=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,i=o(n),s=a.registrationNameDependencies[t],u=r.topLevelTypes,l=0;l<s.length;l++){var c=s[l];i.hasOwnProperty(c)&&i[c]||(c===u.topWheel?p("wheel")?m.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):p("mousewheel")?m.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?p("scroll",!0)?m.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(p("focus",!0)?(m.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),m.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):p("focusin")&&(m.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):v.hasOwnProperty(c)&&m.ReactEventListener.trapBubbledEvent(c,v[c],n),i[c]=!0)}},trapBubbledEvent:function(t,e,n){return m.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return m.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!d){var t=l.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),d=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});u.measureMethods(m,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=m},function(t,e,n){"use strict";var o={};t.exports=o},function(t,e,n){"use strict";var o=n(32),r=o({prop:null,context:null,childContext:null});t.exports=r},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(21),i=n(76),a=n(44),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+i.currentScrollTop}};r.augmentClass(o,s),t.exports=o},function(t,e,n){"use strict";var o=n(1),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,i,a,s,u){this.isInTransaction()?o(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(e,n,r,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o=e[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=o.initialize?o.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){this.isInTransaction()?void 0:o(!1);for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r,a=e[n],s=this.wrapperInitData[n];try{r=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},i={Mixin:r,OBSERVED_ERROR:{}};t.exports=i},function(t,e,n){"use strict";var o=!1;t.exports=o},function(t,e){"use strict";function n(t){return r[t]}function o(t){return(""+t).replace(i,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;t.exports=o;
},function(t,e,n){"use strict";var o=n(4),r=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),o.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||"<"===e[0]&&i.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=a},function(t,e,n){"use strict";var o=n(1),r=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:o(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function i(t){return a(t)&&f.call(t)==l}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:i(t)?v.test(h.call(t)):n(t)&&c.test(t)}var u="[object Array]",l="[object Function]",c=/^\[object .+?Constructor\]$/,p=Object.prototype,h=Function.prototype.toString,d=p.hasOwnProperty,f=p.toString,v=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=o(Array,"isArray"),m=9007199254740991,g=y||function(t){return n(t)&&r(t.length)&&f.call(t)==u};t.exports=g},function(t,e,n){"use strict";function o(){this._callbacks=null,this._contexts=null}var r=n(12),i=n(2),a=n(1);i(o.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(o),t.exports=o},function(t,e,n){"use strict";function o(t){return c.hasOwnProperty(t)?!0:l.hasOwnProperty(t)?!1:u.test(t)?(c[t]=!0,!0):(l[t]=!0,!1)}function r(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&1>e||t.hasOverloadedBooleanValue&&e===!1}var i=n(16),a=n(7),s=n(159),u=(n(3),/^[a-zA-Z_][\w\.\-]*$/),l={},c={},p={createMarkupForID:function(t){return i.ID_ATTRIBUTE_NAME+"="+s(t)},setAttributeForID:function(t,e){t.setAttribute(i.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,e){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){if(r(n,e))return"";var o=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?o+'=""':o+"="+s(e)}return i.isCustomAttribute(t)?null==e?"":t+"="+s(e):null},createMarkupForCustomAttribute:function(t,e){return o(t)&&null!=e?t+"="+s(e):""},setValueForProperty:function(t,e,n){var o=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(o){var a=o.mutationMethod;if(a)a(t,n);else if(r(o,n))this.deleteValueForProperty(t,e);else if(o.mustUseAttribute){var s=o.attributeName,u=o.attributeNamespace;u?t.setAttributeNS(u,s,""+n):o.hasBooleanValue||o.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}else{var l=o.propertyName;o.hasSideEffects&&""+t[l]==""+n||(t[l]=n)}}else i.isCustomAttribute(e)&&p.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){o(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,e){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){var o=n.mutationMethod;if(o)o(t,void 0);else if(n.mustUseAttribute)t.removeAttribute(n.attributeName);else{var r=n.propertyName,a=i.getDefaultValueForProperty(t.nodeName,r);n.hasSideEffects&&""+t[r]===a||(t[r]=a)}}else i.isCustomAttribute(e)&&t.removeAttribute(e)}};a.measureMethods(p,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=p},function(t,e,n){"use strict";function o(t){null!=t.checkedLink&&null!=t.valueLink?l(!1):void 0}function r(t){o(t),null!=t.value||null!=t.onChange?l(!1):void 0}function i(t){o(t),null!=t.checked||null!=t.onChange?l(!1):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var s=n(74),u=n(26),l=n(1),c=(n(3),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(t,e,n){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},h={},d={checkPropTypes:function(t,e,n){for(var o in p){if(p.hasOwnProperty(o))var r=p[o](e,o,t,u.prop);if(r instanceof Error&&!(r.message in h)){h[r.message]=!0;a(n)}}},getValue:function(t){return t.valueLink?(r(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(i(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(r(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(i(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=d},function(t,e,n){"use strict";var o=n(39),r=n(5),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:o.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){r.purgeID(t)}};t.exports=i},function(t,e,n){"use strict";var o=n(1),r=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){r?o(!1):void 0,i.unmountIDFromEnvironment=t.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,i.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};t.exports=i},function(t,e,n){"use strict";var o=n(55),r=n(35),i=n(5),a=n(7),s=n(1),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(t,e,n){var o=i.getNode(t);u.hasOwnProperty(e)?s(!1):void 0,null!=n?r.setValueForProperty(o,e,n):r.deleteValueForProperty(o,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=i.getNode(t);o.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=i.getNode(t[n].parentID);o.processUpdates(t,e)}};a.measureMethods(l,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=l},function(t,e,n){"use strict";function o(t){s.enqueueUpdate(t)}function r(t,e){var n=a.get(t);return n?n:null}var i=(n(11),n(6)),a=n(20),s=n(8),u=n(2),l=n(1),c=(n(3),{isMounted:function(t){var e=a.get(t);return e?!!e._renderedComponent:!1},enqueueCallback:function(t,e){"function"!=typeof e?l(!1):void 0;var n=r(t);return n?(n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],void o(n)):null},enqueueCallbackInternal:function(t,e){"function"!=typeof e?l(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],o(t)},enqueueForceUpdate:function(t){var e=r(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,o(e))},enqueueReplaceState:function(t,e){var n=r(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,o(n))},enqueueSetState:function(t,e){var n=r(t,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(e),o(n)}},enqueueSetProps:function(t,e){var n=r(t,"setProps");n&&c.enqueueSetPropsInternal(n,e)},enqueueSetPropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:l(!1);var r=n._pendingElement||n._currentElement,a=r.props,s=u({},a.props,e);n._pendingElement=i.cloneAndReplaceProps(r,i.cloneAndReplaceProps(a,s)),o(n)},enqueueReplaceProps:function(t,e){var n=r(t,"replaceProps");n&&c.enqueueReplacePropsInternal(n,e)},enqueueReplacePropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:l(!1);var r=n._pendingElement||n._currentElement,a=r.props;n._pendingElement=i.cloneAndReplaceProps(r,i.cloneAndReplaceProps(a,e)),o(n)},enqueueElementInternal:function(t,e){t._pendingElement=e,o(t)}});t.exports=c},function(t,e){"use strict";t.exports="0.14.3"},function(t,e,n){"use strict";function o(t){return null==t?null:1===t.nodeType?t:r.has(t)?i.getNodeFromInstance(t):(null!=t.render&&"function"==typeof t.render?a(!1):void 0,void a(!1))}var r=(n(11),n(20)),i=n(5),a=n(1);n(3);t.exports=o},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var o=r[t];return o?!!n[o]:!1}function o(t){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e){"use strict";function n(t){var e=t&&(o&&t[o]||t[r]);return"function"==typeof e?e:void 0}var o="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},function(t,e,n){"use strict";function o(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t){var e;if(null===t||t===!1)e=new a(r);else if("object"==typeof t){var n=t;!n||"function"!=typeof n.type&&"string"!=typeof n.type?l(!1):void 0,e="string"==typeof n.type?s.createInternalComponent(n):o(n.type)?new n.type(n):new c}else"string"==typeof t||"number"==typeof t?e=s.createInstanceForText(t):l(!1);return e.construct(t),e._mountIndex=0,e._mountImage=null,e}var i=n(119),a=n(66),s=n(72),u=n(2),l=n(1),c=(n(3),function(){});u(c.prototype,i.Mixin,{_instantiateReactComponent:r}),t.exports=r},function(t,e,n){"use strict";function o(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"==typeof a[n]}return!o&&r&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var r,i=n(4);i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=o},function(t,e,n){"use strict";var o=n(4),r=n(30),i=n(31),a=function(t,e){t.textContent=e};o.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){i(t,r(e))})),t.exports=a},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,o=null===e||e===!1;if(n||o)return n===o;var r=typeof t,i=typeof e;return"string"===r||"number"===r?"string"===i||"number"===i:"object"===i&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e,n){"use strict";function o(t){return v[t]}function r(t,e){return t&&null!=t.key?a(t.key):e.toString(36)}function i(t){return(""+t).replace(y,o)}function a(t){return"$"+i(t)}function s(t,e,n,o){var i=typeof t;if(("undefined"===i||"boolean"===i)&&(t=null),null===t||"string"===i||"number"===i||l.isValidElement(t))return n(o,t,""===e?d+r(t,0):e),1;var u,c,v=0,y=""===e?d:e+f;if(Array.isArray(t))for(var m=0;m<t.length;m++)u=t[m],c=y+r(u,m),v+=s(u,c,n,o);else{var g=p(t);if(g){var b,w=g.call(t);if(g!==t.entries)for(var x=0;!(b=w.next()).done;)u=b.value,c=y+r(u,x++),v+=s(u,c,n,o);else for(;!(b=w.next()).done;){var C=b.value;C&&(u=C[1],c=y+a(C[0])+f+r(u,0),v+=s(u,c,n,o))}}else if("object"===i){String(t);h(!1)}}return v}function u(t,e,n){return null==t?0:s(t,"",e,n)}var l=(n(11),n(6)),c=n(17),p=n(46),h=n(1),d=(n(3),c.SEPARATOR),f=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g;t.exports=u},function(t,e,n){"use strict";var o=(n(2),n(9)),r=(n(3),o);t.exports=r},function(t,e,n){function o(t,e){return t="number"==typeof t||l.test(t)?+t:-1,e=null==e?h:e,t>-1&&t%1==0&&e>t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){if(null==t)return[];i(t)||(t=Object(t));var e=t.length;e=e&&r(e)&&(u(t)||s(t))&&e||0;for(var n=t.constructor,a=-1,l="function"==typeof n&&n.prototype===t,c=Array(e),h=e>0;++a<e;)c[a]=a+"";for(var d in t)h&&o(d,e)||"constructor"==d&&(l||!p.call(t,d))||c.push(d);return c}var s=n(23),u=n(33),l=/^\d+$/,c=Object.prototype,p=c.hasOwnProperty,h=9007199254740991;t.exports=a},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(t){r.forEach(function(e){o[n(e,t)]=o[t]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:o,shorthandPropertyExpansions:i};t.exports=a},function(t,e,n){"use strict";function o(t,e,n){var o=n>=t.childNodes.length?null:t.childNodes.item(n);t.insertBefore(e,o)}var r=n(110),i=n(71),a=n(7),s=n(31),u=n(49),l=n(1),c={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(t,e){for(var n,a=null,c=null,p=0;p<t.length;p++)if(n=t[p],n.type===i.MOVE_EXISTING||n.type===i.REMOVE_NODE){var h=n.fromIndex,d=n.parentNode.childNodes[h],f=n.parentID;d?void 0:l(!1),a=a||{},a[f]=a[f]||[],a[f][h]=d,c=c||[],c.push(d)}var v;if(v=e.length&&"string"==typeof e[0]?r.dangerouslyRenderMarkup(e):e,c)for(var y=0;y<c.length;y++)c[y].parentNode.removeChild(c[y]);for(var m=0;m<t.length;m++)switch(n=t[m],n.type){case i.INSERT_MARKUP:o(n.parentNode,v[n.markupIndex],n.toIndex);break;case i.MOVE_EXISTING:o(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case i.SET_MARKUP:s(n.parentNode,n.content);break;case i.TEXT_CONTENT:u(n.parentNode,n.content);break;case i.REMOVE_NODE:}}};a.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},function(t,e,n){"use strict";function o(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(n>-1?void 0:a(!1),!l.plugins[n]){e.extractEvents?void 0:a(!1),l.plugins[n]=e;var o=e.eventTypes;for(var i in o)r(o[i],e,i)?void 0:a(!1)}}}function r(t,e,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,l.eventNameDispatchConfigs[n]=t;var o=t.phasedRegistrationNames;if(o){for(var r in o)if(o.hasOwnProperty(r)){var s=o[r];i(s,e,n)}return!0}return t.registrationName?(i(t.registrationName,e,n),!0):!1}function i(t,e,n){l.registrationNameModules[t]?a(!1):void 0,l.registrationNameModules[t]=e,l.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=n(1),s=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){s?a(!1):void 0,s=Array.prototype.slice.call(t),o()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];u.hasOwnProperty(n)&&u[n]===r||(u[n]?a(!1):void 0,u[n]=r,e=!0)}e&&o()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var o=l.registrationNameModules[e.phasedRegistrationNames[n]];if(o)return o}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var o=l.registrationNameModules;for(var r in o)o.hasOwnProperty(r)&&delete o[r]}};t.exports=l},function(t,e,n){"use strict";function o(t){return(""+t).replace(w,"//")}function r(t,e){this.func=t,this.context=e,this.count=0}function i(t,e,n){var o=t.func,r=t.context;o.call(r,e,t.count++)}function a(t,e,n){if(null==t)return t;var o=r.getPooled(e,n);m(t,i,o),r.release(o)}function s(t,e,n,o){this.result=t,this.keyPrefix=e,this.func=n,this.context=o,this.count=0}function u(t,e,n){var r=t.result,i=t.keyPrefix,a=t.func,s=t.context,u=a.call(s,e,t.count++);Array.isArray(u)?l(u,r,n,y.thatReturnsArgument):null!=u&&(v.isValidElement(u)&&(u=v.cloneAndReplaceKey(u,i+(u!==e?o(u.key||"")+"/":"")+n)),r.push(u))}function l(t,e,n,r,i){var a="";null!=n&&(a=o(n)+"/");var l=s.getPooled(e,a,r,i);m(t,u,l),s.release(l)}function c(t,e,n){if(null==t)return t;var o=[];return l(t,o,null,e,n),o}function p(t,e,n){return null}function h(t,e){return m(t,p,null)}function d(t){var e=[];return l(t,e,null,y.thatReturnsArgument),e}var f=n(12),v=n(6),y=n(9),m=n(51),g=f.twoArgumentPooler,b=f.fourArgumentPooler,w=/\/(?!\/)/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(r,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:h,toArray:d};t.exports=x},function(t,e,n){"use strict";function o(t,e){var n=C.hasOwnProperty(e)?C[e]:null;S.hasOwnProperty(e)&&(n!==w.OVERRIDE_BASE?y(!1):void 0),t.hasOwnProperty(e)&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?y(!1):void 0)}function r(t,e){if(e){"function"==typeof e?y(!1):void 0,h.isValidElement(e)?y(!1):void 0;var n=t.prototype;e.hasOwnProperty(b)&&E.mixins(t,e.mixins);for(var r in e)if(e.hasOwnProperty(r)&&r!==b){var i=e[r];if(o(n,r),E.hasOwnProperty(r))E[r](t,i);else{var a=C.hasOwnProperty(r),l=n.hasOwnProperty(r),c="function"==typeof i,p=c&&!a&&!l&&e.autobind!==!1;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=i,n[r]=i;else if(l){var d=C[r];!a||d!==w.DEFINE_MANY_MERGED&&d!==w.DEFINE_MANY?y(!1):void 0,d===w.DEFINE_MANY_MERGED?n[r]=s(n[r],i):d===w.DEFINE_MANY&&(n[r]=u(n[r],i))}else n[r]=i}}}}function i(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var r=n in E;r?y(!1):void 0;var i=n in t;i?y(!1):void 0,t[n]=o}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:y(!1);for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?y(!1):void 0,t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var r={};return a(r,n),a(r,o),r}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,e){var n=e.bind(t);return n}function c(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=l(t,n)}}var p=n(59),h=n(6),d=(n(26),n(25),n(73)),f=n(2),v=n(22),y=n(1),m=n(32),g=n(13),b=(n(3),g({mixins:null})),w=m({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],C={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},E={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)r(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=f({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=f({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=f({},t.propTypes,e)},statics:function(t,e){i(t,e)},autobind:function(){}},S={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,e){this.updater.enqueueSetProps(this,t),e&&this.updater.enqueueCallback(this,e)},replaceProps:function(t,e){this.updater.enqueueReplaceProps(this,t),e&&this.updater.enqueueCallback(this,e)}},M=function(){};f(M.prototype,p.prototype,S);var _={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindMap&&c(this),this.props=t,this.context=e,this.refs=v,this.updater=n||d,this.state=null;var o=this.getInitialState?this.getInitialState():null;"object"!=typeof o||Array.isArray(o)?y(!1):void 0,this.state=o};e.prototype=new M,e.prototype.constructor=e,x.forEach(r.bind(null,e)),r(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:y(!1);for(var n in C)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};t.exports=_},function(t,e,n){"use strict";function o(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||r}var r=n(73),i=(n(29),n(22)),a=n(1);n(3);o.prototype.isReactComponent={},o.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?a(!1):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e)},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)};t.exports=o},function(t,e){"use strict";var n={useCreateElement:!1};t.exports=n},function(t,e,n){"use strict";function o(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=a.getValue(t);null!=e&&r(this,t,e)}}function r(t,e,n){var o,r,i=s.getNode(t._rootNodeID).options;if(e){for(o={},r=0;r<n.length;r++)o[""+n[r]]=!0;for(r=0;r<i.length;r++){var a=o.hasOwnProperty(i[r].value);i[r].selected!==a&&(i[r].selected=a)}}else{for(o=""+n,r=0;r<i.length;r++)if(i[r].value===o)return void(i[r].selected=!0);i.length&&(i[0].selected=!0)}}function i(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,u.asap(o,this),n}var a=n(36),s=n(5),u=n(8),l=n(2),c=(n(3),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),p={valueContextKey:c,getNativeProps:function(t,e,n){return l({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=a.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,onChange:i.bind(t),wasMultiple:Boolean(e.multiple)}},processChildContext:function(t,e,n){var o=l({},n);return o[c]=t._wrapperState.initialValue,o},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var o=a.getValue(e);null!=o?(t._wrapperState.pendingUpdate=!1,r(t,Boolean(e.multiple),o)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?r(t,Boolean(e.multiple),e.defaultValue):r(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=p},function(t,e,n){"use strict";var o=n(55),r=n(35),i=n(37),a=n(5),s=n(2),u=n(30),l=n(49),c=(n(52),function(t){});s(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){if(this._rootNodeID=t,e.useCreateElement){var o=n[a.ownerDocumentContextKey],i=o.createElement("span");return r.setAttributeForID(i,t),a.getID(i),l(i,this._stringText),i}var s=u(this._stringText);return e.renderToStaticMarkup?s:"<span "+r.createMarkupForID(t)+">"+s+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=a.getNode(this._rootNodeID);o.updateTextContent(r,n)}}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},function(t,e,n){"use strict";function o(){this.reinitializeTransaction()}var r=n(8),i=n(28),a=n(2),s=n(9),u={initialize:s,close:function(){h.isBatchingUpdates=!1}},l={initialize:s,close:r.flushBatchedUpdates.bind(r)},c=[l,u];a(o.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var p=new o,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,o,r,i){var a=h.isBatchingUpdates;h.isBatchingUpdates=!0,a?t(e,n,o,r,i):p.perform(t,null,e,n,o,r,i)}};t.exports=h},function(t,e,n){"use strict";function o(){if(!M){M=!0,m.EventEmitter.injectReactEventListener(y),m.EventPluginHub.injectEventPluginOrder(s),m.EventPluginHub.injectInstanceHandle(g),m.EventPluginHub.injectMount(b),m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:i,SelectEventPlugin:x,BeforeInputEventPlugin:r}),m.NativeComponent.injectGenericComponentClass(f),m.NativeComponent.injectTextComponentClass(v),m.Class.injectMixin(p),m.DOMProperty.injectDOMPropertyConfig(c),m.DOMProperty.injectDOMPropertyConfig(S),m.EmptyComponent.injectEmptyComponent("noscript"),m.Updates.injectReconcileTransaction(w),m.Updates.injectBatchingStrategy(d),m.RootIndex.injectCreateReactRootIndex(l.canUseDOM?a.createReactRootIndex:C.createReactRootIndex),m.Component.injectEnvironment(h)}}var r=n(106),i=n(108),a=n(109),s=n(111),u=n(112),l=n(4),c=n(115),p=n(117),h=n(37),d=n(63),f=n(122),v=n(62),y=n(130),m=n(131),g=n(17),b=n(5),w=n(135),x=n(141),C=n(142),E=n(143),S=n(140),M=!1;t.exports={inject:o}},function(t,e,n){"use strict";function o(){if(p.current){var t=p.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;i("uniqueKey",t,e)}}function i(t,e,n){var r=o();if(!r){var i="string"==typeof n?n:n.displayName||n.name;i&&(r=" Check the top-level render call using <"+i+">.")}var a=f[t]||(f[t]={});if(a[r])return null;a[r]=!0;var s={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return e&&e._owner&&e._owner!==p.current&&(s.childOwner=" It was passed a child from "+e._owner.getName()+"."),s}function a(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var o=t[n];l.isValidElement(o)&&r(o,e)}else if(l.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var i=h(t);if(i&&i!==t.entries)for(var a,s=i.call(t);!(a=s.next()).done;)l.isValidElement(a.value)&&r(a.value,e)}}function s(t,e,n,r){for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?d(!1):void 0,a=e[i](n,i,t,r)}catch(s){a=s}if(a instanceof Error&&!(a.message in v)){v[a.message]=!0;o()}}}function u(t){var e=t.type;if("function"==typeof e){var n=e.displayName||e.name;e.propTypes&&s(n,e.propTypes,t.props,c.prop),"function"==typeof e.getDefaultProps}}var l=n(6),c=n(26),p=(n(25),n(11)),h=(n(29),n(46)),d=n(1),f=(n(3),{}),v={},y={createElement:function(t,e,n){var o="string"==typeof t||"function"==typeof t,r=l.createElement.apply(this,arguments);if(null==r)return r;if(o)for(var i=2;i<arguments.length;i++)a(arguments[i],t);return u(r),r},createFactory:function(t){var e=y.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var o=l.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)a(arguments[r],o.type);return u(o),o}};t.exports=y},function(t,e,n){"use strict";var o,r=n(6),i=n(67),a=n(14),s=n(2),u={injectEmptyComponent:function(t){o=r.createElement(t)}},l=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(o)};s(l.prototype,{construct:function(t){},mountComponent:function(t,e,n){return i.registerNullComponentID(t),this._rootNodeID=t,a.mountComponent(this._renderedComponent,t,e,n)},receiveComponent:function(){},unmountComponent:function(t,e,n){a.unmountComponent(this._renderedComponent),i.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=u,t.exports=l},function(t,e){"use strict";function n(t){return!!i[t]}function o(t){i[t]=!0}function r(t){delete i[t]}var i={},a={isNullComponentID:n,registerNullComponentID:o,deregisterNullComponentID:r};t.exports=a},function(t,e,n){"use strict";function o(t,e,n,o){try{return e(n,o)}catch(i){return void(null===r&&(r=i))}}var r=null,i={invokeGuardedCallback:o,invokeGuardedCallbackWithCatch:o,rethrowCaughtError:function(){if(r){var t=r;throw r=null,t}}};t.exports=i},function(t,e,n){"use strict";function o(t){return i(document.documentElement,t)}var r=n(126),i=n(82),a=n(83),s=n(84),u={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,r=t.selectionRange;e!==n&&o(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,r),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,o=e.end;if("undefined"==typeof o&&(o=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(o,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",o-n),i.select()}else r.setOffsets(t,e)}};t.exports=u},function(t,e,n){"use strict";var o=n(152),r=/\/?>/,i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=o(t);return t.replace(r," "+i.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=o(t);return r===n}};t.exports=i},function(t,e,n){"use strict";var o=n(32),r=o({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=r},function(t,e,n){"use strict";function o(t){if("function"==typeof t.type)return t.type;var e=t.type,n=p[e];return null==n&&(p[e]=n=l(e)),n}function r(t){return c?void 0:u(!1),new c(t.type,t.props)}function i(t){return new h(t)}function a(t){return t instanceof h}var s=n(2),u=n(1),l=null,c=null,p={},h=null,d={injectGenericComponentClass:function(t){c=t},injectTextComponentClass:function(t){h=t},injectComponentClasses:function(t){s(p,t)}},f={getComponentClassForElement:o,createInternalComponent:r,createInstanceForText:i,isTextComponent:a,injection:d};t.exports=f},function(t,e,n){"use strict";function o(t,e){}
var r=(n(3),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){o(t,"forceUpdate")},enqueueReplaceState:function(t,e){o(t,"replaceState")},enqueueSetState:function(t,e){o(t,"setState")},enqueueSetProps:function(t,e){o(t,"setProps")},enqueueReplaceProps:function(t,e){o(t,"replaceProps")}});t.exports=r},function(t,e,n){"use strict";function o(t){function e(e,n,o,r,i,a){if(r=r||C,a=a||o,null==n[o]){var s=b[i];return e?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+r+"`.")):null}return t(n,o,r,i,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,o,r,i){var a=e[n],s=v(a);if(s!==t){var u=b[r],l=y(a);return new Error("Invalid "+u+" `"+i+"` of type "+("`"+l+"` supplied to `"+o+"`, expected ")+("`"+t+"`."))}return null}return o(e)}function i(){return o(w.thatReturns(null))}function a(t){function e(e,n,o,r,i){var a=e[n];if(!Array.isArray(a)){var s=b[r],u=v(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+o+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=t(a,l,o,r,i+"["+l+"]");if(c instanceof Error)return c}return null}return o(e)}function s(){function t(t,e,n,o,r){if(!g.isValidElement(t[e])){var i=b[o];return new Error("Invalid "+i+" `"+r+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(t)}function u(t){function e(e,n,o,r,i){if(!(e[n]instanceof t)){var a=b[r],s=t.name||C,u=m(e[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+u+"` supplied to `"+o+"`, expected ")+("instance of `"+s+"`."))}return null}return o(e)}function l(t){function e(e,n,o,r,i){for(var a=e[n],s=0;s<t.length;s++)if(a===t[s])return null;var u=b[r],l=JSON.stringify(t);return new Error("Invalid "+u+" `"+i+"` of value `"+a+"` "+("supplied to `"+o+"`, expected one of "+l+"."))}return o(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(t){function e(e,n,o,r,i){var a=e[n],s=v(a);if("object"!==s){var u=b[r];return new Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+o+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=t(a,l,o,r,i+"."+l);if(c instanceof Error)return c}return null}return o(e)}function p(t){function e(e,n,o,r,i){for(var a=0;a<t.length;a++){var s=t[a];if(null==s(e,n,o,r,i))return null}var u=b[r];return new Error("Invalid "+u+" `"+i+"` supplied to "+("`"+o+"`."))}return o(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function t(t,e,n,o,r){if(!f(t[e])){var i=b[o];return new Error("Invalid "+i+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(t)}function d(t){function e(e,n,o,r,i){var a=e[n],s=v(a);if("object"!==s){var u=b[r];return new Error("Invalid "+u+" `"+i+"` of type `"+s+"` "+("supplied to `"+o+"`, expected `object`."))}for(var l in t){var c=t[l];if(c){var p=c(a,l,o,r,i+"."+l);if(p)return p}}return null}return o(e)}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||g.isValidElement(t))return!0;var e=x(t);if(!e)return!1;var n,o=e.call(t);if(e!==t.entries){for(;!(n=o.next()).done;)if(!f(n.value))return!1}else for(;!(n=o.next()).done;){var r=n.value;if(r&&!f(r[1]))return!1}return!0;default:return!1}}function v(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function y(t){var e=v(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function m(t){return t.constructor&&t.constructor.name?t.constructor.name:"<<anonymous>>"}var g=n(6),b=n(25),w=n(9),x=n(46),C="<<anonymous>>",E={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:i(),arrayOf:a,element:s(),instanceOf:u,node:h(),objectOf:c,oneOf:l,oneOfType:p,shape:d};t.exports=E},function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){o.createReactRootIndex=t}},o={createReactRootIndex:null,injection:n};t.exports=o},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){"use strict";function o(t,e){if(null==e?r(!1):void 0,null==t)return e;var n=Array.isArray(t),o=Array.isArray(e);return n&&o?(t.push.apply(t,e),t):n?(t.push(e),t):o?[t].concat(e):[t,e]}var r=n(1);t.exports=o},function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=n},function(t,e,n){"use strict";function o(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=n(4),i=null;t.exports=o},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&o[t.type]||"textarea"===e)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){"use strict";var o=n(9),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:o}},registerDefault:function(){}};t.exports=r},function(t,e,n){"use strict";function o(t,e){var n=!0;t:for(;n;){var o=t,i=e;if(n=!1,o&&i){if(o===i)return!0;if(r(o))return!1;if(r(i)){t=o,e=i.parentNode,n=!0;continue t}return o.contains?o.contains(i):o.compareDocumentPosition?!!(16&o.compareDocumentPosition(i)):!1}return!1}}var r=n(169);t.exports=o},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e,n){"use strict";function o(t){return a?void 0:i(!1),h.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?h[t]:null}var r=n(4),i=n(1),a=r.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(t){h[t]=p,s[t]=!0}),t.exports=o},function(t,e){"use strict";function n(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=o.bind(e),a=0;a<n.length;a++)if(!i(n[a])||t[n[a]]!==e[n[a]])return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.BOX="box",o=e.SPHERE="sphere",r=e.CYLINDER="cylinder",i=e.JOINT_DISTANCE="jointDistance",a=e.JOINT_BALL_AND_SOCKET="jointBall",s=e.JOINT_HINGE="jointHinge",u=e.JOINT_WHEEL="jointWheel",l=e.JOINT_SLIDER="jointSlider",c=e.JOINT_PRISMATIC="jointPrismatic",p=e.BRUTE=1,h=e.SWEEP=2,d=e.TREE=3,f=(e.BROADPHASES=[p,h,d],e.SPAWN="SPAWN"),v=e.SETUP="SETUP",y=e.LOOP="LOOP",m=e.TERMINATE="TERMINATE",g=e.BODIES=[n,o,r],b=e.JOINTS=[i,a,s,u,l,c];e.OBJECTS=[].concat(g,b),e.ACTIONS=[f,v,y,m]},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(-1!==t.indexOf(","))throw new Error("name can't have any commas!");return e?[e,t].join(","):t}function u(t){return t.substring(0,t.lastIndexOf(","))}var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueUnion=s,e.getParent=u;var c=n(173),p=o(c),h=function(t){var e=function(e){function n(){return r(this,n),i(this,Object.getPrototypeOf(n).apply(this,arguments))}return a(n,e),l(n,[{key:"getChildContext",value:function(){return{id:s(this.props.name,this.context.id)}}},{key:"render",value:function(){return p["default"].createElement(t,this.props)}}]),n}(c.Component);return e.propTypes={name:c.PropTypes.string.isRequired},e.contextTypes={id:c.PropTypes.string.isRequired},e.childContextTypes={id:c.PropTypes.string},e};e["default"]=h},function(t,e){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=e.Vec3={add:function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},scale:function(t,e){return{x:e*t.x,y:e*t.y,z:e*t.z}}},r=e.Quat={scale:function(t,e){return{x:e*t.x,y:e*t.y,z:e*t.z,w:e*t.w}},mult:function(t,e){return{x:t.x*e.w+t.w*e.x+t.y*e.z-t.z*e.y,y:t.y*e.w+t.w*e.y+t.z*e.x-t.x*e.z,z:t.z*e.w+t.w*e.z+t.x*e.y-t.y*e.x,w:t.w*e.w-t.x*e.x-t.y*e.y-t.z*e.z}},conjugate:function(t){return{x:-x,y:-y,z:-z,w:w}},toEuler:function(t){var e=t.x,n=t.y,o=t.z,r=t.w;return{x:Math.atan2(2*(e*n+o*r),1-2*(n*n+o*o)),y:Math.asin(2*(e*o-r*n)),z:Math.atan2(2*(e*r+n*o),1-2*(o*o+r*r))}}},i=e.Pose={translate:o.add,rotate3:function(t,e){var o=n({},t,{w:1});return r.mult(r.mult(e,o),r.conjugate(e))}};e["default"]={Vec3:o,Quat:r,Pose:i}},function(t,e,n){var o,o;!function(e){t.exports=e()}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof o&&o;if(!u&&l)return o(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){e.exports={name:"cannon",version:"0.6.2",description:"A lightweight 3D physics engine written in JavaScript.",homepage:"https://github.com/schteppe/cannon.js",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["cannon.js","cannon","physics","engine","3d"],main:"./build/cannon.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/cannon.js.git"},bugs:{url:"https://github.com/schteppe/cannon.js/issues"},licenses:[{type:"MIT"}],devDependencies:{jshint:"latest","uglify-js":"latest",nodeunit:"^0.9.0",grunt:"~0.4.0","grunt-contrib-jshint":"~0.1.1","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-concat":"~0.1.3","grunt-contrib-uglify":"^0.5.1","grunt-browserify":"^2.1.4","grunt-contrib-yuidoc":"^0.5.2",browserify:"*"},dependencies:{}}},{}],2:[function(t,e,n){e.exports={version:t("../package.json").version,AABB:t("./collision/AABB"),ArrayCollisionMatrix:t("./collision/ArrayCollisionMatrix"),Body:t("./objects/Body"),Box:t("./shapes/Box"),Broadphase:t("./collision/Broadphase"),Constraint:t("./constraints/Constraint"),ContactEquation:t("./equations/ContactEquation"),Narrowphase:t("./world/Narrowphase"),ConeTwistConstraint:t("./constraints/ConeTwistConstraint"),ContactMaterial:t("./material/ContactMaterial"),ConvexPolyhedron:t("./shapes/ConvexPolyhedron"),Cylinder:t("./shapes/Cylinder"),DistanceConstraint:t("./constraints/DistanceConstraint"),Equation:t("./equations/Equation"),EventTarget:t("./utils/EventTarget"),FrictionEquation:t("./equations/FrictionEquation"),GSSolver:t("./solver/GSSolver"),GridBroadphase:t("./collision/GridBroadphase"),Heightfield:t("./shapes/Heightfield"),HingeConstraint:t("./constraints/HingeConstraint"),LockConstraint:t("./constraints/LockConstraint"),Mat3:t("./math/Mat3"),Material:t("./material/Material"),NaiveBroadphase:t("./collision/NaiveBroadphase"),ObjectCollisionMatrix:t("./collision/ObjectCollisionMatrix"),Pool:t("./utils/Pool"),Particle:t("./shapes/Particle"),Plane:t("./shapes/Plane"),PointToPointConstraint:t("./constraints/PointToPointConstraint"),Quaternion:t("./math/Quaternion"),Ray:t("./collision/Ray"),RaycastVehicle:t("./objects/RaycastVehicle"),RaycastResult:t("./collision/RaycastResult"),RigidVehicle:t("./objects/RigidVehicle"),RotationalEquation:t("./equations/RotationalEquation"),RotationalMotorEquation:t("./equations/RotationalMotorEquation"),SAPBroadphase:t("./collision/SAPBroadphase"),SPHSystem:t("./objects/SPHSystem"),Shape:t("./shapes/Shape"),Solver:t("./solver/Solver"),Sphere:t("./shapes/Sphere"),SplitSolver:t("./solver/SplitSolver"),Spring:t("./objects/Spring"),Trimesh:t("./shapes/Trimesh"),Vec3:t("./math/Vec3"),Vec3Pool:t("./utils/Vec3Pool"),World:t("./world/World")}},{"../package.json":1,"./collision/AABB":3,"./collision/ArrayCollisionMatrix":4,"./collision/Broadphase":5,"./collision/GridBroadphase":6,"./collision/NaiveBroadphase":7,"./collision/ObjectCollisionMatrix":8,"./collision/Ray":9,"./collision/RaycastResult":10,"./collision/SAPBroadphase":11,"./constraints/ConeTwistConstraint":12,"./constraints/Constraint":13,"./constraints/DistanceConstraint":14,"./constraints/HingeConstraint":15,"./constraints/LockConstraint":16,"./constraints/PointToPointConstraint":17,"./equations/ContactEquation":19,"./equations/Equation":20,"./equations/FrictionEquation":21,"./equations/RotationalEquation":22,"./equations/RotationalMotorEquation":23,"./material/ContactMaterial":24,"./material/Material":25,"./math/Mat3":27,"./math/Quaternion":28,"./math/Vec3":30,"./objects/Body":31,"./objects/RaycastVehicle":32,"./objects/RigidVehicle":33,"./objects/SPHSystem":34,"./objects/Spring":35,"./shapes/Box":37,"./shapes/ConvexPolyhedron":38,"./shapes/Cylinder":39,"./shapes/Heightfield":40,"./shapes/Particle":41,"./shapes/Plane":42,"./shapes/Shape":43,"./shapes/Sphere":44,"./shapes/Trimesh":45,"./solver/GSSolver":46,"./solver/Solver":47,"./solver/SplitSolver":48,"./utils/EventTarget":49,"./utils/Pool":51,"./utils/Vec3Pool":54,"./world/Narrowphase":55,"./world/World":56}],3:[function(t,e,n){function o(t){t=t||{},this.lowerBound=new r,t.lowerBound&&this.lowerBound.copy(t.lowerBound),this.upperBound=new r,t.upperBound&&this.upperBound.copy(t.upperBound)}var r=t("../math/Vec3");t("../utils/Utils");e.exports=o;var i=new r;o.prototype.setFromPoints=function(t,e,n,o){var r=this.lowerBound,a=this.upperBound,s=n;r.copy(t[0]),s&&s.vmult(r,r),a.copy(r);for(var u=1;u<t.length;u++){var l=t[u];s&&(s.vmult(l,i),l=i),l.x>a.x&&(a.x=l.x),l.x<r.x&&(r.x=l.x),l.y>a.y&&(a.y=l.y),l.y<r.y&&(r.y=l.y),l.z>a.z&&(a.z=l.z),l.z<r.z&&(r.z=l.z)}return e&&(e.vadd(r,r),e.vadd(a,a)),o&&(r.x-=o,r.y-=o,r.z-=o,a.x+=o,a.y+=o,a.z+=o),this},o.prototype.copy=function(t){return this.lowerBound.copy(t.lowerBound),this.upperBound.copy(t.upperBound),this},o.prototype.clone=function(){return(new o).copy(this)},o.prototype.extend=function(t){var e=t.lowerBound.x;this.lowerBound.x>e&&(this.lowerBound.x=e);var n=t.upperBound.x;this.upperBound.x<n&&(this.upperBound.x=n);var e=t.lowerBound.y;this.lowerBound.y>e&&(this.lowerBound.y=e);var n=t.upperBound.y;this.upperBound.y<n&&(this.upperBound.y=n);var e=t.lowerBound.z;this.lowerBound.z>e&&(this.lowerBound.z=e);var n=t.upperBound.z;this.upperBound.z<n&&(this.upperBound.z=n)},o.prototype.overlaps=function(t){var e=this.lowerBound,n=this.upperBound,o=t.lowerBound,r=t.upperBound;return(o.x<=n.x&&n.x<=r.x||e.x<=r.x&&r.x<=n.x)&&(o.y<=n.y&&n.y<=r.y||e.y<=r.y&&r.y<=n.y)&&(o.z<=n.z&&n.z<=r.z||e.z<=r.z&&r.z<=n.z)},o.prototype.contains=function(t){var e=this.lowerBound,n=this.upperBound,o=t.lowerBound,r=t.upperBound;return e.x<=o.x&&n.x>=r.x&&e.y<=o.y&&n.y>=r.y&&e.z<=o.z&&n.z>=r.z},o.prototype.getCorners=function(t,e,n,o,r,i,a,s){var u=this.lowerBound,l=this.upperBound;t.copy(u),e.set(l.x,u.y,u.z),n.set(l.x,l.y,u.z),o.set(u.x,l.y,l.z),r.set(l.x,u.y,u.z),i.set(u.x,l.y,u.z),a.set(u.x,u.y,l.z),s.copy(l)};var a=[new r,new r,new r,new r,new r,new r,new r,new r];o.prototype.toLocalFrame=function(t,e){var n=a,o=n[0],r=n[1],i=n[2],s=n[3],u=n[4],l=n[5],c=n[6],p=n[7];this.getCorners(o,r,i,s,u,l,c,p);for(var h=0;8!==h;h++){var d=n[h];t.pointToLocal(d,d)}return e.setFromPoints(n)},o.prototype.toWorldFrame=function(t,e){var n=a,o=n[0],r=n[1],i=n[2],s=n[3],u=n[4],l=n[5],c=n[6],p=n[7];this.getCorners(o,r,i,s,u,l,c,p);for(var h=0;8!==h;h++){var d=n[h];t.pointToWorld(d,d)}return e.setFromPoints(n)}},{"../math/Vec3":30,"../utils/Utils":53}],4:[function(t,e,n){function o(){this.matrix=[]}e.exports=o,o.prototype.get=function(t,e){if(t=t.index,e=e.index,e>t){var n=e;e=t,t=n}return this.matrix[(t*(t+1)>>1)+e-1]},o.prototype.set=function(t,e,n){if(t=t.index,e=e.index,e>t){var o=e;e=t,t=o}this.matrix[(t*(t+1)>>1)+e-1]=n?1:0},o.prototype.reset=function(){for(var t=0,e=this.matrix.length;t!==e;t++)this.matrix[t]=0},o.prototype.setNumObjects=function(t){this.matrix.length=t*(t-1)>>1}},{}],5:[function(t,e,n){function o(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}var r=t("../objects/Body"),i=t("../math/Vec3"),a=t("../math/Quaternion");t("../shapes/Shape"),t("../shapes/Plane");e.exports=o,o.prototype.collisionPairs=function(t,e,n){throw new Error("collisionPairs not implemented for this BroadPhase class!")};var s=r.STATIC|r.KINEMATIC;o.prototype.needBroadphaseCollision=function(t,e){return 0===(t.collisionFilterGroup&e.collisionFilterMask)||0===(e.collisionFilterGroup&t.collisionFilterMask)?!1:0===(t.type&s)&&t.sleepState!==r.SLEEPING||0===(e.type&s)&&e.sleepState!==r.SLEEPING?!0:!1},o.prototype.intersectionTest=function(t,e,n,o){this.useBoundingBoxes?this.doBoundingBoxBroadphase(t,e,n,o):this.doBoundingSphereBroadphase(t,e,n,o)};var u=new i;new i,new a,new i;o.prototype.doBoundingSphereBroadphase=function(t,e,n,o){var r=u;e.position.vsub(t.position,r);var i=Math.pow(t.boundingRadius+e.boundingRadius,2),a=r.norm2();i>a&&(n.push(t),o.push(e))},o.prototype.doBoundingBoxBroadphase=function(t,e,n,o){t.aabbNeedsUpdate&&t.computeAABB(),e.aabbNeedsUpdate&&e.computeAABB(),t.aabb.overlaps(e.aabb)&&(n.push(t),o.push(e))};var l={keys:[]},c=[],p=[];o.prototype.makePairsUnique=function(t,e){for(var n=l,o=c,r=p,i=t.length,a=0;a!==i;a++)o[a]=t[a],r[a]=e[a];t.length=0,e.length=0;for(var a=0;a!==i;a++){var s=o[a].id,u=r[a].id,h=u>s?s+","+u:u+","+s;n[h]=a,n.keys.push(h)}for(var a=0;a!==n.keys.length;a++){var h=n.keys.pop(),d=n[h];t.push(o[d]),e.push(r[d]),delete n[h]}},o.prototype.setWorld=function(t){};var h=new i;o.boundingSphereCheck=function(t,e){var n=h;return t.position.vsub(e.position,n),Math.pow(t.shape.boundingSphereRadius+e.shape.boundingSphereRadius,2)>n.norm2()},o.prototype.aabbQuery=function(t,e,n){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}},{"../math/Quaternion":28,"../math/Vec3":30,"../objects/Body":31,"../shapes/Plane":42,"../shapes/Shape":43}],6:[function(t,e,n){function o(t,e,n,o,a){r.apply(this),this.nx=n||10,this.ny=o||10,this.nz=a||10,this.aabbMin=t||new i(100,100,100),this.aabbMax=e||new i(-100,-100,-100);var s=this.nx*this.ny*this.nz;if(0>=s)throw"GridBroadphase: Each dimension's n must be >0";this.bins=[],this.binLengths=[],this.bins.length=s,this.binLengths.length=s;for(var u=0;s>u;u++)this.bins[u]=[],this.binLengths[u]=0}e.exports=o;var r=t("./Broadphase"),i=t("../math/Vec3"),a=t("../shapes/Shape");o.prototype=new r,o.prototype.constructor=o;var s=new i;new i;o.prototype.collisionPairs=function(t,e,n){function o(t,e,n,o,r,i,a){var s=(t-b)*C|0,u=(e-w)*E|0,l=(n-x)*S|0,y=k((o-b)*C),m=k((r-w)*E),g=k((i-x)*S);0>s?s=0:s>=c&&(s=c-1),0>u?u=0:u>=p&&(u=p-1),0>l?l=0:l>=h&&(l=h-1),0>y?y=0:y>=c&&(y=c-1),0>m?m=0:m>=p&&(m=p-1),0>g?g=0:g>=h&&(g=h-1),s*=d,u*=f,l*=v,y*=d,m*=f,g*=v;for(var M=s;y>=M;M+=d)for(var _=u;m>=_;_+=f)for(var P=l;g>=P;P+=v){var R=M+_+P;I[R][B[R]++]=a}}for(var r=t.numObjects(),i=t.bodies,u=this.aabbMax,l=this.aabbMin,c=this.nx,p=this.ny,h=this.nz,d=p*h,f=h,v=1,y=u.x,m=u.y,g=u.z,b=l.x,w=l.y,x=l.z,C=c/(y-b),E=p/(m-w),S=h/(g-x),M=(y-b)/c,_=(m-w)/p,P=(g-x)/h,R=.5*Math.sqrt(M*M+_*_+P*P),A=a.types,N=A.SPHERE,T=A.PLANE,I=(A.BOX,A.COMPOUND,A.CONVEXPOLYHEDRON,this.bins),B=this.binLengths,D=this.bins.length,O=0;O!==D;O++)B[O]=0;for(var k=Math.ceil,l=Math.min,u=Math.max,O=0;O!==r;O++){var L=i[O],F=L.shape;switch(F.type){case N:var V=L.position.x,j=L.position.y,q=L.position.z,z=F.radius;o(V-z,j-z,q-z,V+z,j+z,q+z,L);break;case T:F.worldNormalNeedsUpdate&&F.computeWorldNormal(L.quaternion);var W=F.worldNormal,U=b+.5*M-L.position.x,H=w+.5*_-L.position.y,K=x+.5*P-L.position.z,G=s;G.set(U,H,K);for(var Y=0,X=0;Y!==c;Y++,X+=d,G.y=H,G.x+=M)for(var Q=0,Z=0;Q!==p;Q++,Z+=f,G.z=K,G.y+=_)for(var $=0,J=0;$!==h;$++,J+=v,G.z+=P)if(G.dot(W)<R){var tt=X+Z+J;I[tt][B[tt]++]=L}break;default:L.aabbNeedsUpdate&&L.computeAABB(),o(L.aabb.lowerBound.x,L.aabb.lowerBound.y,L.aabb.lowerBound.z,L.aabb.upperBound.x,L.aabb.upperBound.y,L.aabb.upperBound.z,L)}}for(var O=0;O!==D;O++){var et=B[O];if(et>1)for(var nt=I[O],Y=0;Y!==et;Y++)for(var L=nt[Y],Q=0;Q!==Y;Q++){var ot=nt[Q];this.needBroadphaseCollision(L,ot)&&this.intersectionTest(L,ot,e,n)}}this.makePairsUnique(e,n)}},{"../math/Vec3":30,"../shapes/Shape":43,"./Broadphase":5}],7:[function(t,e,n){function o(){r.apply(this)}e.exports=o;var r=t("./Broadphase"),i=t("./AABB");o.prototype=new r,o.prototype.constructor=o,o.prototype.collisionPairs=function(t,e,n){var o,r,i,a,s=t.bodies,u=s.length;for(o=0;o!==u;o++)for(r=0;r!==o;r++)i=s[o],a=s[r],this.needBroadphaseCollision(i,a)&&this.intersectionTest(i,a,e,n)};new i;o.prototype.aabbQuery=function(t,e,n){n=n||[];for(var o=0;o<t.bodies.length;o++){var r=t.bodies[o];r.aabbNeedsUpdate&&r.computeAABB(),r.aabb.overlaps(e)&&n.push(r)}return n}},{"./AABB":3,"./Broadphase":5}],8:[function(t,e,n){function o(){this.matrix={}}e.exports=o,o.prototype.get=function(t,e){if(t=t.id,e=e.id,e>t){var n=e;e=t,t=n}return t+"-"+e in this.matrix},o.prototype.set=function(t,e,n){if(t=t.id,e=e.id,e>t){var o=e;e=t,t=o}n?this.matrix[t+"-"+e]=!0:delete this.matrix[t+"-"+e]},o.prototype.reset=function(){this.matrix={}},o.prototype.setNumObjects=function(t){}},{}],9:[function(t,e,n){function o(t,e){this.from=t?t.clone():new a,this.to=e?e.clone():new a,this._direction=new a,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=o.ANY,this.result=new l,this.hasHit=!1,this.callback=function(t){}}function r(t,e,n,o){o.vsub(e,O),n.vsub(e,f),t.vsub(e,v);var r,i,a=O.dot(O),s=O.dot(f),u=O.dot(v),l=f.dot(f),c=f.dot(v);return(r=l*u-s*c)>=0&&(i=a*c-s*u)>=0&&a*l-s*s>r+i}function i(t,e,n){n.vsub(t,O);var o=O.dot(e);e.mult(o,k),k.vadd(t,k);var r=n.distanceTo(k);return r}e.exports=o;var a=t("../math/Vec3"),s=t("../math/Quaternion"),u=t("../math/Transform"),l=(t("../shapes/ConvexPolyhedron"),t("../shapes/Box"),t("../collision/RaycastResult")),c=t("../shapes/Shape"),p=t("../collision/AABB");o.prototype.constructor=o,o.CLOSEST=1,o.ANY=2,o.ALL=4;var h=new p,d=[];o.prototype.intersectWorld=function(t,e){return this.mode=e.mode||o.ANY,this.result=e.result||new l,this.skipBackfaces=!!e.skipBackfaces,this.collisionFilterMask="undefined"!=typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionFilterGroup="undefined"!=typeof e.collisionFilterGroup?e.collisionFilterGroup:-1,e.from&&this.from.copy(e.from),e.to&&this.to.copy(e.to),this.callback=e.callback||function(){},this.hasHit=!1,this.result.reset(),this._updateDirection(),this.getAABB(h),d.length=0,t.broadphase.aabbQuery(t,h,d),this.intersectBodies(d),this.hasHit};var f=new a,v=new a;o.pointInTriangle=r;var y=new a,m=new s;o.prototype.intersectBody=function(t,e){e&&(this.result=e,this._updateDirection());var n=this.checkCollisionResponse;if((!n||t.collisionResponse)&&0!==(this.collisionFilterGroup&t.collisionFilterMask)&&0!==(t.collisionFilterGroup&this.collisionFilterMask))for(var o=y,r=m,i=0,a=t.shapes.length;a>i;i++){var s=t.shapes[i];if((!n||s.collisionResponse)&&(t.quaternion.mult(t.shapeOrientations[i],r),t.quaternion.vmult(t.shapeOffsets[i],o),o.vadd(t.position,o),this.intersectShape(s,r,o,t),this.result._shouldStop))break}},o.prototype.intersectBodies=function(t,e){e&&(this.result=e,this._updateDirection());for(var n=0,o=t.length;!this.result._shouldStop&&o>n;n++)this.intersectBody(t[n])},o.prototype._updateDirection=function(){this.to.vsub(this.from,this._direction),this._direction.normalize()},o.prototype.intersectShape=function(t,e,n,o){var r=this.from,a=i(r,this._direction,n);if(!(a>t.boundingSphereRadius)){var s=this[t.type];s&&s.call(this,t,e,n,o)}};var g=(new a,new a,new a),b=new a,w=new a,x=new a;new a,new l;o.prototype.intersectBox=function(t,e,n,o){return this.intersectConvex(t.convexPolyhedronRepresentation,e,n,o)},o.prototype[c.types.BOX]=o.prototype.intersectBox,o.prototype.intersectPlane=function(t,e,n,o){var r=this.from,i=this.to,s=this._direction,u=new a(0,0,1);e.vmult(u,u);var l=new a;r.vsub(n,l);var c=l.dot(u);i.vsub(n,l);var p=l.dot(u);if(!(c*p>0||r.distanceTo(i)<c)){var h=u.dot(s);if(!(Math.abs(h)<this.precision)){var d=new a,f=new a,v=new a;r.vsub(n,d);var y=-u.dot(d)/h;s.scale(y,f),r.vadd(f,v),this.reportIntersection(u,v,t,o,-1)}}},o.prototype[c.types.PLANE]=o.prototype.intersectPlane,o.prototype.getAABB=function(t){var e=this.to,n=this.from;t.lowerBound.x=Math.min(e.x,n.x),t.lowerBound.y=Math.min(e.y,n.y),t.lowerBound.z=Math.min(e.z,n.z),t.upperBound.x=Math.max(e.x,n.x),t.upperBound.y=Math.max(e.y,n.y),t.upperBound.z=Math.max(e.z,n.z)};var C={faceList:[0]};o.prototype.intersectHeightfield=function(t,e,n,r){var i=(t.data,t.elementSize,new a),s=new o(this.from,this.to);u.pointToLocalFrame(n,e,s.from,s.from),u.pointToLocalFrame(n,e,s.to,s.to);var l=[],c=null,p=null,h=null,d=null,f=t.getIndexOfPosition(s.from.x,s.from.y,l,!1);if(f&&(c=l[0],p=l[1],h=l[0],d=l[1]),f=t.getIndexOfPosition(s.to.x,s.to.y,l,!1),f&&((null===c||l[0]<c)&&(c=l[0]),(null===h||l[0]>h)&&(h=l[0]),(null===p||l[1]<p)&&(p=l[1]),(null===d||l[1]>d)&&(d=l[1])),null!==c){var v=[];t.getRectMinMax(c,p,h,d,v);for(var y=(v[0],v[1],c);h>=y;y++)for(var m=p;d>=m;m++){if(this.result._shouldStop)return;if(t.getConvexTrianglePillar(y,m,!1),u.pointToWorldFrame(n,e,t.pillarOffset,i),this.intersectConvex(t.pillarConvex,e,i,r,C),this.result._shouldStop)return;t.getConvexTrianglePillar(y,m,!0),u.pointToWorldFrame(n,e,t.pillarOffset,i),this.intersectConvex(t.pillarConvex,e,i,r,C)}}},o.prototype[c.types.HEIGHTFIELD]=o.prototype.intersectHeightfield;var E=new a,S=new a;o.prototype.intersectSphere=function(t,e,n,o){var r=this.from,i=this.to,a=t.radius,s=Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)+Math.pow(i.z-r.z,2),u=2*((i.x-r.x)*(r.x-n.x)+(i.y-r.y)*(r.y-n.y)+(i.z-r.z)*(r.z-n.z)),l=Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2)+Math.pow(r.z-n.z,2)-Math.pow(a,2),c=Math.pow(u,2)-4*s*l,p=E,h=S;if(!(0>c))if(0===c)r.lerp(i,c,p),p.vsub(n,h),h.normalize(),this.reportIntersection(h,p,t,o,-1);else{var d=(-u-Math.sqrt(c))/(2*s),f=(-u+Math.sqrt(c))/(2*s);if(d>=0&&1>=d&&(r.lerp(i,d,p),p.vsub(n,h),h.normalize(),this.reportIntersection(h,p,t,o,-1)),this.result._shouldStop)return;f>=0&&1>=f&&(r.lerp(i,f,p),p.vsub(n,h),h.normalize(),this.reportIntersection(h,p,t,o,-1))}},o.prototype[c.types.SPHERE]=o.prototype.intersectSphere;var M=new a,_=(new a,new a,new a);o.prototype.intersectConvex=function(t,e,n,o,i){for(var a=M,s=_,u=i&&i.faceList||null,l=t.faces,c=t.vertices,p=t.faceNormals,h=this._direction,d=this.from,f=this.to,v=d.distanceTo(f),y=u?u.length:l.length,m=this.result,C=0;!m._shouldStop&&y>C;C++){var E=u?u[C]:C,S=l[E],P=p[E],R=e,A=n;s.copy(c[S[0]]),R.vmult(s,s),s.vadd(A,s),s.vsub(d,s),R.vmult(P,a);var N=h.dot(a);if(!(Math.abs(N)<this.precision)){var T=a.dot(s)/N;if(!(0>T)){h.mult(T,g),g.vadd(d,g),b.copy(c[S[0]]),R.vmult(b,b),A.vadd(b,b);for(var I=1;!m._shouldStop&&I<S.length-1;I++){w.copy(c[S[I]]),x.copy(c[S[I+1]]),R.vmult(w,w),R.vmult(x,x),A.vadd(w,w),A.vadd(x,x);var B=g.distanceTo(d);!r(g,b,w,x)&&!r(g,w,b,x)||B>v||this.reportIntersection(a,g,t,o,E)}}}}},o.prototype[c.types.CONVEXPOLYHEDRON]=o.prototype.intersectConvex;var P=new a,R=new a,A=new a,N=new a,T=new a,I=new a,B=(new p,[]),D=new u;o.prototype.intersectTrimesh=function(t,e,n,o,i){var a=P,s=B,l=D,c=_,p=R,h=A,d=N,f=I,v=T,y=(i&&i.faceList||null,t.indices),m=(t.vertices,t.faceNormals,this.from),C=this.to,E=this._direction;l.position.copy(n),l.quaternion.copy(e),u.vectorToLocalFrame(n,e,E,p),u.pointToLocalFrame(n,e,m,h),u.pointToLocalFrame(n,e,C,d);var S=h.distanceSquared(d);t.tree.rayQuery(this,l,s);for(var M=0,O=s.length;!this.result._shouldStop&&M!==O;M++){var k=s[M];t.getNormal(k,a),t.getVertex(y[3*k],b),b.vsub(h,c);var L=p.dot(a),F=a.dot(c)/L;if(!(0>F)){p.scale(F,g),g.vadd(h,g),t.getVertex(y[3*k+1],w),t.getVertex(y[3*k+2],x);var V=g.distanceSquared(h);!r(g,w,b,x)&&!r(g,b,w,x)||V>S||(u.vectorToWorldFrame(e,a,v),u.pointToWorldFrame(n,e,g,f),this.reportIntersection(v,f,t,o,k))}}s.length=0},o.prototype[c.types.TRIMESH]=o.prototype.intersectTrimesh,o.prototype.reportIntersection=function(t,e,n,r,i){var a=this.from,s=this.to,u=a.distanceTo(e),l=this.result;if(!(this.skipBackfaces&&t.dot(this._direction)>0))switch(l.hitFaceIndex="undefined"!=typeof i?i:-1,this.mode){case o.ALL:this.hasHit=!0,l.set(a,s,t,e,n,r,u),l.hasHit=!0,this.callback(l);break;case o.CLOSEST:(u<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(a,s,t,e,n,r,u));break;case o.ANY:this.hasHit=!0,l.hasHit=!0,l.set(a,s,t,e,n,r,u),l._shouldStop=!0}};var O=new a,k=new a},{"../collision/AABB":3,"../collision/RaycastResult":10,"../math/Quaternion":28,"../math/Transform":29,"../math/Vec3":30,"../shapes/Box":37,"../shapes/ConvexPolyhedron":38,"../shapes/Shape":43}],10:[function(t,e,n){function o(){this.rayFromWorld=new r,this.rayToWorld=new r,this.hitNormalWorld=new r,this.hitPointWorld=new r,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this._shouldStop=!1}var r=t("../math/Vec3");e.exports=o,o.prototype.reset=function(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this._shouldStop=!1},o.prototype.abort=function(){this._shouldStop=!0},o.prototype.set=function(t,e,n,o,r,i,a){this.rayFromWorld.copy(t),this.rayToWorld.copy(e),this.hitNormalWorld.copy(n),this.hitPointWorld.copy(o),this.shape=r,this.body=i,this.distance=a}},{"../math/Vec3":30}],11:[function(t,e,n){function o(t){r.apply(this),this.axisList=[],this.world=null,this.axisIndex=0;var e=this.axisList;this._addBodyHandler=function(t){e.push(t.body)},this._removeBodyHandler=function(t){var n=e.indexOf(t.body);-1!==n&&e.splice(n,1)},t&&this.setWorld(t)}var r=(t("../shapes/Shape"),t("../collision/Broadphase"));e.exports=o,o.prototype=new r,o.prototype.setWorld=function(t){this.axisList.length=0;for(var e=0;e<t.bodies.length;e++)this.axisList.push(t.bodies[e]);t.removeEventListener("addBody",this._addBodyHandler),
t.removeEventListener("removeBody",this._removeBodyHandler),t.addEventListener("addBody",this._addBodyHandler),t.addEventListener("removeBody",this._removeBodyHandler),this.world=t,this.dirty=!0},o.insertionSortX=function(t){for(var e=1,n=t.length;n>e;e++){for(var o=t[e],r=e-1;r>=0&&!(t[r].aabb.lowerBound.x<=o.aabb.lowerBound.x);r--)t[r+1]=t[r];t[r+1]=o}return t},o.insertionSortY=function(t){for(var e=1,n=t.length;n>e;e++){for(var o=t[e],r=e-1;r>=0&&!(t[r].aabb.lowerBound.y<=o.aabb.lowerBound.y);r--)t[r+1]=t[r];t[r+1]=o}return t},o.insertionSortZ=function(t){for(var e=1,n=t.length;n>e;e++){for(var o=t[e],r=e-1;r>=0&&!(t[r].aabb.lowerBound.z<=o.aabb.lowerBound.z);r--)t[r+1]=t[r];t[r+1]=o}return t},o.prototype.collisionPairs=function(t,e,n){var r,i,a=this.axisList,s=a.length,u=this.axisIndex;for(this.dirty&&(this.sortList(),this.dirty=!1),r=0;r!==s;r++){var l=a[r];for(i=r+1;s>i;i++){var c=a[i];if(this.needBroadphaseCollision(l,c)){if(!o.checkBounds(l,c,u))break;this.intersectionTest(l,c,e,n)}}}},o.prototype.sortList=function(){for(var t=this.axisList,e=this.axisIndex,n=t.length,r=0;r!==n;r++){var i=t[r];i.aabbNeedsUpdate&&i.computeAABB()}0===e?o.insertionSortX(t):1===e?o.insertionSortY(t):2===e&&o.insertionSortZ(t)},o.checkBounds=function(t,e,n){var o,r;0===n?(o=t.position.x,r=e.position.x):1===n?(o=t.position.y,r=e.position.y):2===n&&(o=t.position.z,r=e.position.z);var i=t.boundingRadius,a=e.boundingRadius,s=o+i,u=r-a;return s>u},o.prototype.autoDetectAxis=function(){for(var t=0,e=0,n=0,o=0,r=0,i=0,a=this.axisList,s=a.length,u=1/s,l=0;l!==s;l++){var c=a[l],p=c.position.x;t+=p,e+=p*p;var h=c.position.y;n+=h,o+=h*h;var d=c.position.z;r+=d,i+=d*d}var f=e-t*t*u,v=o-n*n*u,y=i-r*r*u;f>v?f>y?this.axisIndex=0:this.axisIndex=2:v>y?this.axisIndex=1:this.axisIndex=2},o.prototype.aabbQuery=function(t,e,n){n=n||[],this.dirty&&(this.sortList(),this.dirty=!1);var o=this.axisIndex,r="x";1===o&&(r="y"),2===o&&(r="z");for(var i=this.axisList,a=(e.lowerBound[r],e.upperBound[r],0);a<i.length;a++){var s=i[a];s.aabbNeedsUpdate&&s.computeAABB(),s.aabb.overlaps(e)&&n.push(s)}return n}},{"../collision/Broadphase":5,"../shapes/Shape":43}],12:[function(t,e,n){function o(t,e,n){n=n||{};var o="undefined"!=typeof n.maxForce?n.maxForce:1e6,u=n.pivotA?n.pivotA.clone():new s,l=n.pivotB?n.pivotB.clone():new s;this.axisA=n.axisA?n.axisA.clone():new s,this.axisB=n.axisB?n.axisB.clone():new s,r.call(this,t,u,e,l,o),this.collideConnected=!!n.collideConnected,this.angle="undefined"!=typeof n.angle?n.angle:0;var c=this.coneEquation=new i(t,e,n),p=this.twistEquation=new a(t,e,n);this.twistAngle="undefined"!=typeof n.twistAngle?n.twistAngle:0,c.maxForce=0,c.minForce=-o,p.maxForce=0,p.minForce=-o,this.equations.push(c,p)}e.exports=o;var r=(t("./Constraint"),t("./PointToPointConstraint")),i=t("../equations/ConeEquation"),a=t("../equations/RotationalEquation"),s=(t("../equations/ContactEquation"),t("../math/Vec3"));o.prototype=new r,o.constructor=o;new s,new s;o.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.coneEquation,o=this.twistEquation;r.prototype.update.call(this),t.vectorToWorldFrame(this.axisA,n.axisA),e.vectorToWorldFrame(this.axisB,n.axisB),this.axisA.tangents(o.axisA,o.axisA),t.vectorToWorldFrame(o.axisA,o.axisA),this.axisB.tangents(o.axisB,o.axisB),e.vectorToWorldFrame(o.axisB,o.axisB),n.angle=this.angle,o.maxAngle=this.twistAngle}},{"../equations/ConeEquation":18,"../equations/ContactEquation":19,"../equations/RotationalEquation":22,"../math/Vec3":30,"./Constraint":13,"./PointToPointConstraint":17}],13:[function(t,e,n){function o(t,e,n){n=r.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.id=o.idCounter++,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}e.exports=o;var r=t("../utils/Utils");o.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},o.prototype.enable=function(){for(var t=this.equations,e=0;e<t.length;e++)t[e].enabled=!0},o.prototype.disable=function(){for(var t=this.equations,e=0;e<t.length;e++)t[e].enabled=!1},o.idCounter=0},{"../utils/Utils":53}],14:[function(t,e,n){function o(t,e,n,o){r.call(this,t,e),"undefined"==typeof n&&(n=t.position.distanceTo(e.position)),"undefined"==typeof o&&(o=1e6),this.distance=n;var a=this.distanceEquation=new i(t,e);this.equations.push(a),a.minForce=-o,a.maxForce=o}e.exports=o;var r=t("./Constraint"),i=t("../equations/ContactEquation");o.prototype=new r,o.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.distanceEquation,o=.5*this.distance,r=n.ni;e.position.vsub(t.position,r),r.normalize(),r.mult(o,n.ri),r.mult(-o,n.rj)}},{"../equations/ContactEquation":19,"./Constraint":13}],15:[function(t,e,n){function o(t,e,n){n=n||{};var o="undefined"!=typeof n.maxForce?n.maxForce:1e6,u=n.pivotA?n.pivotA.clone():new s,l=n.pivotB?n.pivotB.clone():new s;r.call(this,t,u,e,l,o);var c=this.axisA=n.axisA?n.axisA.clone():new s(1,0,0);c.normalize();var p=this.axisB=n.axisB?n.axisB.clone():new s(1,0,0);p.normalize();var h=this.rotationalEquation1=new i(t,e,n),d=this.rotationalEquation2=new i(t,e,n),f=this.motorEquation=new a(t,e,o);f.enabled=!1,this.equations.push(h,d,f)}e.exports=o;var r=(t("./Constraint"),t("./PointToPointConstraint")),i=t("../equations/RotationalEquation"),a=t("../equations/RotationalMotorEquation"),s=(t("../equations/ContactEquation"),t("../math/Vec3"));o.prototype=new r,o.constructor=o,o.prototype.enableMotor=function(){this.motorEquation.enabled=!0},o.prototype.disableMotor=function(){this.motorEquation.enabled=!1},o.prototype.setMotorSpeed=function(t){this.motorEquation.targetVelocity=t},o.prototype.setMotorMaxForce=function(t){this.motorEquation.maxForce=t,this.motorEquation.minForce=-t};var u=new s,l=new s;o.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.motorEquation,o=this.rotationalEquation1,i=this.rotationalEquation2,a=u,s=l,c=this.axisA,p=this.axisB;r.prototype.update.call(this),t.quaternion.vmult(c,a),e.quaternion.vmult(p,s),a.tangents(o.axisA,i.axisA),o.axisB.copy(s),i.axisB.copy(s),this.motorEquation.enabled&&(t.quaternion.vmult(this.axisA,n.axisA),e.quaternion.vmult(this.axisB,n.axisB))}},{"../equations/ContactEquation":19,"../equations/RotationalEquation":22,"../equations/RotationalMotorEquation":23,"../math/Vec3":30,"./Constraint":13,"./PointToPointConstraint":17}],16:[function(t,e,n){function o(t,e,n){n=n||{};var o="undefined"!=typeof n.maxForce?n.maxForce:1e6,s=new a,u=new a,l=new a;t.position.vadd(e.position,l),l.scale(.5,l),e.pointToLocalFrame(l,u),t.pointToLocalFrame(l,s),r.call(this,t,s,e,u,o);var c=this.rotationalEquation1=new i(t,e,n),p=this.rotationalEquation2=new i(t,e,n),h=this.rotationalEquation3=new i(t,e,n);this.equations.push(c,p,h)}e.exports=o;var r=(t("./Constraint"),t("./PointToPointConstraint")),i=t("../equations/RotationalEquation"),a=(t("../equations/RotationalMotorEquation"),t("../equations/ContactEquation"),t("../math/Vec3"));o.prototype=new r,o.constructor=o;new a,new a;o.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=(this.motorEquation,this.rotationalEquation1),o=this.rotationalEquation2,i=this.rotationalEquation3;r.prototype.update.call(this),t.vectorToWorldFrame(a.UNIT_X,n.axisA),e.vectorToWorldFrame(a.UNIT_Y,n.axisB),t.vectorToWorldFrame(a.UNIT_Y,o.axisA),e.vectorToWorldFrame(a.UNIT_Z,o.axisB),t.vectorToWorldFrame(a.UNIT_Z,i.axisA),e.vectorToWorldFrame(a.UNIT_X,i.axisB)}},{"../equations/ContactEquation":19,"../equations/RotationalEquation":22,"../equations/RotationalMotorEquation":23,"../math/Vec3":30,"./Constraint":13,"./PointToPointConstraint":17}],17:[function(t,e,n){function o(t,e,n,o,s){r.call(this,t,n),s="undefined"!=typeof s?s:1e6,this.pivotA=e?e.clone():new a,this.pivotB=o?o.clone():new a;var u=this.equationX=new i(t,n),l=this.equationY=new i(t,n),c=this.equationZ=new i(t,n);this.equations.push(u,l,c),u.minForce=l.minForce=c.minForce=-s,u.maxForce=l.maxForce=c.maxForce=s,u.ni.set(1,0,0),l.ni.set(0,1,0),c.ni.set(0,0,1)}e.exports=o;var r=t("./Constraint"),i=t("../equations/ContactEquation"),a=t("../math/Vec3");o.prototype=new r,o.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.equationX,o=this.equationY,r=this.equationZ;t.quaternion.vmult(this.pivotA,n.ri),e.quaternion.vmult(this.pivotB,n.rj),o.ri.copy(n.ri),o.rj.copy(n.rj),r.ri.copy(n.ri),r.rj.copy(n.rj)}},{"../equations/ContactEquation":19,"../math/Vec3":30,"./Constraint":13}],18:[function(t,e,n){function o(t,e,n){n=n||{};var o="undefined"!=typeof n.maxForce?n.maxForce:1e6;i.call(this,t,e,-o,o),this.axisA=n.axisA?n.axisA.clone():new r(1,0,0),this.axisB=n.axisB?n.axisB.clone():new r(0,1,0),this.angle="undefined"!=typeof n.angle?n.angle:0}e.exports=o;var r=t("../math/Vec3"),i=(t("../math/Mat3"),t("./Equation"));o.prototype=new i,o.prototype.constructor=o;var a=new r,s=new r;o.prototype.computeB=function(t){var e=this.a,n=this.b,o=this.axisA,r=this.axisB,i=a,u=s,l=this.jacobianElementA,c=this.jacobianElementB;o.cross(r,i),r.cross(o,u),l.rotational.copy(u),c.rotational.copy(i);var p=Math.cos(this.angle)-o.dot(r),h=this.computeGW(),d=this.computeGiMf(),f=-p*e-h*n-t*d;return f}},{"../math/Mat3":27,"../math/Vec3":30,"./Equation":20}],19:[function(t,e,n){function o(t,e,n){n="undefined"!=typeof n?n:1e6,r.call(this,t,e,0,n),this.restitution=0,this.ri=new i,this.rj=new i,this.ni=new i}e.exports=o;var r=t("./Equation"),i=t("../math/Vec3");t("../math/Mat3");o.prototype=new r,o.prototype.constructor=o;var a=new i,s=new i,u=new i;o.prototype.computeB=function(t){var e=this.a,n=this.b,o=this.bi,r=this.bj,i=this.ri,l=this.rj,c=a,p=s,h=o.velocity,d=o.angularVelocity,f=(o.force,o.torque,r.velocity),v=r.angularVelocity,y=(r.force,r.torque,u),m=this.jacobianElementA,g=this.jacobianElementB,b=this.ni;i.cross(b,c),l.cross(b,p),b.negate(m.spatial),c.negate(m.rotational),g.spatial.copy(b),g.rotational.copy(p),y.copy(r.position),y.vadd(l,y),y.vsub(o.position,y),y.vsub(i,y);var w=b.dot(y),x=this.restitution+1,C=x*f.dot(b)-x*h.dot(b)+v.dot(p)-d.dot(c),E=this.computeGiMf(),S=-w*e-C*n-t*E;return S};var l=new i,c=new i,p=new i,h=new i,d=new i;o.prototype.getImpactVelocityAlongNormal=function(){var t=l,e=c,n=p,o=h,r=d;return this.bi.position.vadd(this.ri,n),this.bj.position.vadd(this.rj,o),this.bi.getVelocityAtWorldPoint(n,t),this.bj.getVelocityAtWorldPoint(o,e),t.vsub(e,r),this.ni.dot(r)}},{"../math/Mat3":27,"../math/Vec3":30,"./Equation":20}],20:[function(t,e,n){function o(t,e,n,i){this.id=o.id++,this.minForce="undefined"==typeof n?-1e6:n,this.maxForce="undefined"==typeof i?1e6:i,this.bi=t,this.bj=e,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new r,this.jacobianElementB=new r,this.enabled=!0,this.setSpookParams(1e7,4,1/60)}e.exports=o;var r=t("../math/JacobianElement"),i=t("../math/Vec3");o.prototype.constructor=o,o.id=0,o.prototype.setSpookParams=function(t,e,n){var o=e,r=t,i=n;this.a=4/(i*(1+4*o)),this.b=4*o/(1+4*o),this.eps=4/(i*i*r*(1+4*o))},o.prototype.computeB=function(t,e,n){var o=this.computeGW(),r=this.computeGq(),i=this.computeGiMf();return-r*t-o*e-i*n},o.prototype.computeGq=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,o=this.bj,r=n.position,i=o.position;return t.spatial.dot(r)+e.spatial.dot(i)};var a=new i;o.prototype.computeGW=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,o=this.bj,r=n.velocity,i=o.velocity,s=n.angularVelocity||a,u=o.angularVelocity||a;return t.multiplyVectors(r,s)+e.multiplyVectors(i,u)},o.prototype.computeGWlambda=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,o=this.bj,r=n.vlambda,i=o.vlambda,s=n.wlambda||a,u=o.wlambda||a;return t.multiplyVectors(r,s)+e.multiplyVectors(i,u)};var s=new i,u=new i,l=new i,c=new i;o.prototype.computeGiMf=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,o=this.bj,r=n.force,i=n.torque,a=o.force,p=o.torque,h=n.invMassSolve,d=o.invMassSolve;return n.invInertiaWorldSolve?n.invInertiaWorldSolve.vmult(i,l):l.set(0,0,0),o.invInertiaWorldSolve?o.invInertiaWorldSolve.vmult(p,c):c.set(0,0,0),r.mult(h,s),a.mult(d,u),t.multiplyVectors(s,l)+e.multiplyVectors(u,c)};var p=new i;o.prototype.computeGiMGt=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,o=this.bj,r=n.invMassSolve,i=o.invMassSolve,a=n.invInertiaWorldSolve,s=o.invInertiaWorldSolve,u=r+i;return a&&(a.vmult(t.rotational,p),u+=p.dot(t.rotational)),s&&(s.vmult(e.rotational,p),u+=p.dot(e.rotational)),u};var h=new i;new i,new i,new i,new i,new i;o.prototype.addToWlambda=function(t){var e=this.jacobianElementA,n=this.jacobianElementB,o=this.bi,r=this.bj,i=h;e.spatial.mult(o.invMassSolve*t,i),o.vlambda.vadd(i,o.vlambda),n.spatial.mult(r.invMassSolve*t,i),r.vlambda.vadd(i,r.vlambda),o.invInertiaWorldSolve&&(o.invInertiaWorldSolve.vmult(e.rotational,i),i.mult(t,i),o.wlambda.vadd(i,o.wlambda)),r.invInertiaWorldSolve&&(r.invInertiaWorldSolve.vmult(n.rotational,i),i.mult(t,i),r.wlambda.vadd(i,r.wlambda))},o.prototype.computeC=function(){return this.computeGiMGt()+this.eps}},{"../math/JacobianElement":26,"../math/Vec3":30}],21:[function(t,e,n){function o(t,e,n){r.call(this,t,e,-n,n),this.ri=new i,this.rj=new i,this.t=new i}e.exports=o;var r=t("./Equation"),i=t("../math/Vec3");t("../math/Mat3");o.prototype=new r,o.prototype.constructor=o;var a=new i,s=new i;o.prototype.computeB=function(t){var e=(this.a,this.b),n=(this.bi,this.bj,this.ri),o=this.rj,r=a,i=s,u=this.t;n.cross(u,r),o.cross(u,i);var l=this.jacobianElementA,c=this.jacobianElementB;u.negate(l.spatial),r.negate(l.rotational),c.spatial.copy(u),c.rotational.copy(i);var p=this.computeGW(),h=this.computeGiMf(),d=-p*e-t*h;return d}},{"../math/Mat3":27,"../math/Vec3":30,"./Equation":20}],22:[function(t,e,n){function o(t,e,n){n=n||{};var o="undefined"!=typeof n.maxForce?n.maxForce:1e6;i.call(this,t,e,-o,o),this.axisA=n.axisA?n.axisA.clone():new r(1,0,0),this.axisB=n.axisB?n.axisB.clone():new r(0,1,0),this.maxAngle=Math.PI/2}e.exports=o;var r=t("../math/Vec3"),i=(t("../math/Mat3"),t("./Equation"));o.prototype=new i,o.prototype.constructor=o;var a=new r,s=new r;o.prototype.computeB=function(t){var e=this.a,n=this.b,o=this.axisA,r=this.axisB,i=a,u=s,l=this.jacobianElementA,c=this.jacobianElementB;o.cross(r,i),r.cross(o,u),l.rotational.copy(u),c.rotational.copy(i);var p=Math.cos(this.maxAngle)-o.dot(r),h=this.computeGW(),d=this.computeGiMf(),f=-p*e-h*n-t*d;return f}},{"../math/Mat3":27,"../math/Vec3":30,"./Equation":20}],23:[function(t,e,n){function o(t,e,n){n="undefined"!=typeof n?n:1e6,i.call(this,t,e,-n,n),this.axisA=new r,this.axisB=new r,this.targetVelocity=0}e.exports=o;var r=t("../math/Vec3"),i=(t("../math/Mat3"),t("./Equation"));o.prototype=new i,o.prototype.constructor=o,o.prototype.computeB=function(t){var e=(this.a,this.b),n=(this.bi,this.bj,this.axisA),o=this.axisB,r=this.jacobianElementA,i=this.jacobianElementB;r.rotational.copy(n),o.negate(i.rotational);var a=this.computeGW()-this.targetVelocity,s=this.computeGiMf(),u=-a*e-t*s;return u}},{"../math/Mat3":27,"../math/Vec3":30,"./Equation":20}],24:[function(t,e,n){function o(t,e,n){n=r.defaults(n,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=o.idCounter++,this.materials=[t,e],this.friction=n.friction,this.restitution=n.restitution,this.contactEquationStiffness=n.contactEquationStiffness,this.contactEquationRelaxation=n.contactEquationRelaxation,this.frictionEquationStiffness=n.frictionEquationStiffness,this.frictionEquationRelaxation=n.frictionEquationRelaxation}var r=t("../utils/Utils");e.exports=o,o.idCounter=0},{"../utils/Utils":53}],25:[function(t,e,n){function o(t){var e="";t=t||{},"string"==typeof t?(e=t,t={}):"object"==typeof t&&(e=""),this.name=e,this.id=o.idCounter++,this.friction="undefined"!=typeof t.friction?t.friction:-1,this.restitution="undefined"!=typeof t.restitution?t.restitution:-1}e.exports=o,o.idCounter=0},{}],26:[function(t,e,n){function o(){this.spatial=new r,this.rotational=new r}e.exports=o;var r=t("./Vec3");o.prototype.multiplyElement=function(t){return t.spatial.dot(this.spatial)+t.rotational.dot(this.rotational)},o.prototype.multiplyVectors=function(t,e){return t.dot(this.spatial)+e.dot(this.rotational)}},{"./Vec3":30}],27:[function(t,e,n){function o(t){t?this.elements=t:this.elements=[0,0,0,0,0,0,0,0,0]}e.exports=o;var r=t("./Vec3");o.prototype.identity=function(){var t=this.elements;t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1},o.prototype.setZero=function(){var t=this.elements;t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0},o.prototype.setTrace=function(t){var e=this.elements;e[0]=t.x,e[4]=t.y,e[8]=t.z},o.prototype.getTrace=function(t){var t=t||new r,e=this.elements;t.x=e[0],t.y=e[4],t.z=e[8]},o.prototype.vmult=function(t,e){e=e||new r;var n=this.elements,o=t.x,i=t.y,a=t.z;return e.x=n[0]*o+n[1]*i+n[2]*a,e.y=n[3]*o+n[4]*i+n[5]*a,e.z=n[6]*o+n[7]*i+n[8]*a,e},o.prototype.smult=function(t){for(var e=0;e<this.elements.length;e++)this.elements[e]*=t},o.prototype.mmult=function(t,e){for(var n=e||new o,r=0;3>r;r++)for(var i=0;3>i;i++){for(var a=0,s=0;3>s;s++)a+=t.elements[r+3*s]*this.elements[s+3*i];n.elements[r+3*i]=a}return n},o.prototype.scale=function(t,e){e=e||new o;for(var n=this.elements,r=e.elements,i=0;3!==i;i++)r[3*i+0]=t.x*n[3*i+0],r[3*i+1]=t.y*n[3*i+1],r[3*i+2]=t.z*n[3*i+2];return e},o.prototype.solve=function(t,e){e=e||new r;for(var n=3,o=4,i=[],a=0;n*o>a;a++)i.push(0);var a,s;for(a=0;3>a;a++)for(s=0;3>s;s++)i[a+o*s]=this.elements[a+3*s];i[3]=t.x,i[7]=t.y,i[11]=t.z;var u,l,c=3,p=c,h=4;do{if(a=p-c,0===i[a+o*a])for(s=a+1;p>s;s++)if(0!==i[a+o*s]){u=h;do l=h-u,i[l+o*a]+=i[l+o*s];while(--u);break}if(0!==i[a+o*a])for(s=a+1;p>s;s++){var d=i[a+o*s]/i[a+o*a];u=h;do l=h-u,i[l+o*s]=a>=l?0:i[l+o*s]-i[l+o*a]*d;while(--u)}}while(--c);if(e.z=i[2*o+3]/i[2*o+2],e.y=(i[1*o+3]-i[1*o+2]*e.z)/i[1*o+1],e.x=(i[0*o+3]-i[0*o+2]*e.z-i[0*o+1]*e.y)/i[0*o+0],isNaN(e.x)||isNaN(e.y)||isNaN(e.z)||e.x===1/0||e.y===1/0||e.z===1/0)throw"Could not solve equation! Got x=["+e.toString()+"], b=["+t.toString()+"], A=["+this.toString()+"]";return e},o.prototype.e=function(t,e,n){return void 0===n?this.elements[e+3*t]:void(this.elements[e+3*t]=n)},o.prototype.copy=function(t){for(var e=0;e<t.elements.length;e++)this.elements[e]=t.elements[e];return this},o.prototype.toString=function(){for(var t="",e=",",n=0;9>n;n++)t+=this.elements[n]+e;return t},o.prototype.reverse=function(t){t=t||new o;for(var e=3,n=6,r=[],i=0;e*n>i;i++)r.push(0);var i,a;for(i=0;3>i;i++)for(a=0;3>a;a++)r[i+n*a]=this.elements[i+3*a];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;var s,u,l=3,c=l,p=n;do{if(i=c-l,0===r[i+n*i])for(a=i+1;c>a;a++)if(0!==r[i+n*a]){s=p;do u=p-s,r[u+n*i]+=r[u+n*a];while(--s);break}if(0!==r[i+n*i])for(a=i+1;c>a;a++){var h=r[i+n*a]/r[i+n*i];s=p;do u=p-s,r[u+n*a]=i>=u?0:r[u+n*a]-r[u+n*i]*h;while(--s)}}while(--l);i=2;do{a=i-1;do{var h=r[i+n*a]/r[i+n*i];s=n;do u=n-s,r[u+n*a]=r[u+n*a]-r[u+n*i]*h;while(--s)}while(a--)}while(--i);i=2;do{var h=1/r[i+n*i];s=n;do u=n-s,r[u+n*i]=r[u+n*i]*h;while(--s)}while(i--);i=2;do{a=2;do{if(u=r[e+a+n*i],isNaN(u)||u===1/0)throw"Could not reverse! A=["+this.toString()+"]";t.e(i,a,u)}while(a--)}while(i--);return t},o.prototype.setRotationFromQuaternion=function(t){var e=t.x,n=t.y,o=t.z,r=t.w,i=e+e,a=n+n,s=o+o,u=e*i,l=e*a,c=e*s,p=n*a,h=n*s,d=o*s,f=r*i,v=r*a,y=r*s,m=this.elements;return m[0]=1-(p+d),m[1]=l-y,m[2]=c+v,m[3]=l+y,m[4]=1-(u+d),m[5]=h-f,m[6]=c-v,m[7]=h+f,m[8]=1-(u+p),this},o.prototype.transpose=function(t){t=t||new o;for(var e=t.elements,n=this.elements,r=0;3!==r;r++)for(var i=0;3!==i;i++)e[3*r+i]=n[3*i+r];return t}},{"./Vec3":30}],28:[function(t,e,n){function o(t,e,n,o){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0,this.w=void 0!==o?o:1}e.exports=o;var r=t("./Vec3");o.prototype.set=function(t,e,n,o){this.x=t,this.y=e,this.z=n,this.w=o},o.prototype.toString=function(){return this.x+","+this.y+","+this.z+","+this.w},o.prototype.toArray=function(){return[this.x,this.y,this.z,this.w]},o.prototype.setFromAxisAngle=function(t,e){var n=Math.sin(.5*e);this.x=t.x*n,this.y=t.y*n,this.z=t.z*n,this.w=Math.cos(.5*e)},o.prototype.toAxisAngle=function(t){t=t||new r,this.normalize();var e=2*Math.acos(this.w),n=Math.sqrt(1-this.w*this.w);return.001>n?(t.x=this.x,t.y=this.y,t.z=this.z):(t.x=this.x/n,t.y=this.y/n,t.z=this.z/n),[t,e]};var i=new r,a=new r;o.prototype.setFromVectors=function(t,e){if(t.isAntiparallelTo(e)){var n=i,o=a;t.tangents(n,o),this.setFromAxisAngle(n,Math.PI)}else{var r=t.cross(e);this.x=r.x,this.y=r.y,this.z=r.z,this.w=Math.sqrt(Math.pow(t.norm(),2)*Math.pow(e.norm(),2))+t.dot(e),this.normalize()}};var s=new r,u=new r,l=new r;o.prototype.mult=function(t,e){e=e||new o;var n=this.w,r=s,i=u,a=l;return r.set(this.x,this.y,this.z),i.set(t.x,t.y,t.z),e.w=n*t.w-r.dot(i),r.cross(i,a),e.x=n*i.x+t.w*r.x+a.x,e.y=n*i.y+t.w*r.y+a.y,e.z=n*i.z+t.w*r.z+a.z,e},o.prototype.inverse=function(t){var e=this.x,n=this.y,r=this.z,i=this.w;t=t||new o,this.conjugate(t);var a=1/(e*e+n*n+r*r+i*i);return t.x*=a,t.y*=a,t.z*=a,t.w*=a,t},o.prototype.conjugate=function(t){return t=t||new o,t.x=-this.x,t.y=-this.y,t.z=-this.z,t.w=this.w,t},o.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===t?(this.x=0,this.y=0,this.z=0,this.w=0):(t=1/t,this.x*=t,this.y*=t,this.z*=t,this.w*=t)},o.prototype.normalizeFast=function(){var t=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;0===t?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=t,this.y*=t,this.z*=t,this.w*=t)},o.prototype.vmult=function(t,e){e=e||new r;var n=t.x,o=t.y,i=t.z,a=this.x,s=this.y,u=this.z,l=this.w,c=l*n+s*i-u*o,p=l*o+u*n-a*i,h=l*i+a*o-s*n,d=-a*n-s*o-u*i;return e.x=c*l+d*-a+p*-u-h*-s,e.y=p*l+d*-s+h*-a-c*-u,e.z=h*l+d*-u+c*-s-p*-a,e},o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},o.prototype.toEuler=function(t,e){e=e||"YZX";var n,o,r,i=this.x,a=this.y,s=this.z,u=this.w;switch(e){case"YZX":var l=i*a+s*u;if(l>.499&&(n=2*Math.atan2(i,u),o=Math.PI/2,r=0),-.499>l&&(n=-2*Math.atan2(i,u),o=-Math.PI/2,r=0),isNaN(n)){var c=i*i,p=a*a,h=s*s;n=Math.atan2(2*a*u-2*i*s,1-2*p-2*h),o=Math.asin(2*l),r=Math.atan2(2*i*u-2*a*s,1-2*c-2*h)}break;default:throw new Error("Euler order "+e+" not supported yet.")}t.y=n,t.z=o,t.x=r},o.prototype.setFromEuler=function(t,e,n,o){o=o||"XYZ";var r=Math.cos(t/2),i=Math.cos(e/2),a=Math.cos(n/2),s=Math.sin(t/2),u=Math.sin(e/2),l=Math.sin(n/2);return"XYZ"===o?(this.x=s*i*a+r*u*l,this.y=r*u*a-s*i*l,this.z=r*i*l+s*u*a,this.w=r*i*a-s*u*l):"YXZ"===o?(this.x=s*i*a+r*u*l,this.y=r*u*a-s*i*l,this.z=r*i*l-s*u*a,this.w=r*i*a+s*u*l):"ZXY"===o?(this.x=s*i*a-r*u*l,this.y=r*u*a+s*i*l,this.z=r*i*l+s*u*a,this.w=r*i*a-s*u*l):"ZYX"===o?(this.x=s*i*a-r*u*l,this.y=r*u*a+s*i*l,this.z=r*i*l-s*u*a,this.w=r*i*a+s*u*l):"YZX"===o?(this.x=s*i*a+r*u*l,this.y=r*u*a+s*i*l,this.z=r*i*l-s*u*a,this.w=r*i*a-s*u*l):"XZY"===o&&(this.x=s*i*a-r*u*l,this.y=r*u*a-s*i*l,this.z=r*i*l+s*u*a,this.w=r*i*a+s*u*l),this},o.prototype.clone=function(){return new o(this.x,this.y,this.z,this.w)}},{"./Vec3":30}],29:[function(t,e,n){function o(t){t=t||{},this.position=new r,t.position&&this.position.copy(t.position),this.quaternion=new i,t.quaternion&&this.quaternion.copy(t.quaternion)}var r=t("./Vec3"),i=t("./Quaternion");e.exports=o;var a=new i;o.pointToLocalFrame=function(t,e,n,o){var o=o||new r;return n.vsub(t,o),e.conjugate(a),a.vmult(o,o),o},o.prototype.pointToLocal=function(t,e){return o.pointToLocalFrame(this.position,this.quaternion,t,e)},o.pointToWorldFrame=function(t,e,n,o){var o=o||new r;return e.vmult(n,o),o.vadd(t,o),o},o.prototype.pointToWorld=function(t,e){return o.pointToWorldFrame(this.position,this.quaternion,t,e)},o.prototype.vectorToWorldFrame=function(t,e){var e=e||new r;return this.quaternion.vmult(t,e),e},o.vectorToWorldFrame=function(t,e,n){return t.vmult(e,n),n},o.vectorToLocalFrame=function(t,e,n,o){var o=o||new r;return e.w*=-1,e.vmult(n,o),e.w*=-1,o}},{"./Quaternion":28,"./Vec3":30}],30:[function(t,e,n){function o(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}e.exports=o;var r=t("./Mat3");o.ZERO=new o(0,0,0),o.UNIT_X=new o(1,0,0),o.UNIT_Y=new o(0,1,0),o.UNIT_Z=new o(0,0,1),o.prototype.cross=function(t,e){var n=t.x,r=t.y,i=t.z,a=this.x,s=this.y,u=this.z;return e=e||new o,e.x=s*i-u*r,e.y=u*n-a*i,e.z=a*r-s*n,e},o.prototype.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},o.prototype.setZero=function(){this.x=this.y=this.z=0},o.prototype.vadd=function(t,e){return e?(e.x=t.x+this.x,e.y=t.y+this.y,e.z=t.z+this.z,void 0):new o(this.x+t.x,this.y+t.y,this.z+t.z)},o.prototype.vsub=function(t,e){return e?(e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z,void 0):new o(this.x-t.x,this.y-t.y,this.z-t.z)},o.prototype.crossmat=function(){return new r([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])},o.prototype.normalize=function(){var t=this.x,e=this.y,n=this.z,o=Math.sqrt(t*t+e*e+n*n);if(o>0){var r=1/o;this.x*=r,this.y*=r,this.z*=r}else this.x=0,this.y=0,this.z=0;return o},o.prototype.unit=function(t){t=t||new o;var e=this.x,n=this.y,r=this.z,i=Math.sqrt(e*e+n*n+r*r);return i>0?(i=1/i,t.x=e*i,t.y=n*i,t.z=r*i):(t.x=1,t.y=0,t.z=0),t},o.prototype.norm=function(){var t=this.x,e=this.y,n=this.z;return Math.sqrt(t*t+e*e+n*n)},o.prototype.length=o.prototype.norm,o.prototype.norm2=function(){return this.dot(this)},o.prototype.lengthSquared=o.prototype.norm2,o.prototype.distanceTo=function(t){var e=this.x,n=this.y,o=this.z,r=t.x,i=t.y,a=t.z;return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n)+(a-o)*(a-o))},o.prototype.distanceSquared=function(t){var e=this.x,n=this.y,o=this.z,r=t.x,i=t.y,a=t.z;return(r-e)*(r-e)+(i-n)*(i-n)+(a-o)*(a-o)},o.prototype.mult=function(t,e){e=e||new o;var n=this.x,r=this.y,i=this.z;return e.x=t*n,e.y=t*r,e.z=t*i,e},o.prototype.scale=o.prototype.mult,o.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},o.prototype.isZero=function(){return 0===this.x&&0===this.y&&0===this.z},o.prototype.negate=function(t){return t=t||new o,t.x=-this.x,t.y=-this.y,t.z=-this.z,t};var i=new o,a=new o;o.prototype.tangents=function(t,e){var n=this.norm();if(n>0){var o=i,r=1/n;o.set(this.x*r,this.y*r,this.z*r);var s=a;Math.abs(o.x)<.9?(s.set(1,0,0),o.cross(s,t)):(s.set(0,1,0),o.cross(s,t)),o.cross(t,e)}else t.set(1,0,0),e.set(0,1,0)},o.prototype.toString=function(){return this.x+","+this.y+","+this.z},o.prototype.toArray=function(){return[this.x,this.y,this.z]},o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},o.prototype.lerp=function(t,e,n){var o=this.x,r=this.y,i=this.z;n.x=o+(t.x-o)*e,n.y=r+(t.y-r)*e,n.z=i+(t.z-i)*e},o.prototype.almostEquals=function(t,e){return void 0===e&&(e=1e-6),Math.abs(this.x-t.x)>e||Math.abs(this.y-t.y)>e||Math.abs(this.z-t.z)>e?!1:!0},o.prototype.almostZero=function(t){return void 0===t&&(t=1e-6),Math.abs(this.x)>t||Math.abs(this.y)>t||Math.abs(this.z)>t?!1:!0};var s=new o;o.prototype.isAntiparallelTo=function(t,e){return this.negate(s),s.almostEquals(t,e)},o.prototype.clone=function(){return new o(this.x,this.y,this.z)}},{"./Mat3":27}],31:[function(t,e,n){function o(t){t=t||{},r.apply(this),this.id=o.idCounter++,this.world=null,this.preStep=null,this.postStep=null,this.vlambda=new i,this.collisionFilterGroup="number"==typeof t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask="number"==typeof t.collisionFilterMask?t.collisionFilterMask:1,this.collisionResponse=!0,this.position=new i,t.position&&this.position.copy(t.position),this.previousPosition=new i,this.initPosition=new i,this.velocity=new i,t.velocity&&this.velocity.copy(t.velocity),this.initVelocity=new i,this.force=new i;var e="number"==typeof t.mass?t.mass:0;this.mass=e,this.invMass=e>0?1/e:0,this.material=t.material||null,this.linearDamping="number"==typeof t.linearDamping?t.linearDamping:.01,this.type=0>=e?o.STATIC:o.DYNAMIC,typeof t.type==typeof o.STATIC&&(this.type=t.type),this.allowSleep="undefined"!=typeof t.allowSleep?t.allowSleep:!0,this.sleepState=0,this.sleepSpeedLimit="undefined"!=typeof t.sleepSpeedLimit?t.sleepSpeedLimit:.1,this.sleepTimeLimit="undefined"!=typeof t.sleepTimeLimit?t.sleepTimeLimit:1,this.timeLastSleepy=0,this._wakeUpAfterNarrowphase=!1,this.torque=new i,this.quaternion=new s,t.quaternion&&this.quaternion.copy(t.quaternion),this.initQuaternion=new s,this.angularVelocity=new i,t.angularVelocity&&this.angularVelocity.copy(t.angularVelocity),this.initAngularVelocity=new i,this.interpolatedPosition=new i,this.interpolatedQuaternion=new s,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new i,this.invInertia=new i,this.invInertiaWorld=new a,this.invMassSolve=0,this.invInertiaSolve=new i,this.invInertiaWorldSolve=new a,this.fixedRotation="undefined"!=typeof t.fixedRotation?t.fixedRotation:!1,this.angularDamping="undefined"!=typeof t.angularDamping?t.angularDamping:.01,this.aabb=new u,this.aabbNeedsUpdate=!0,this.wlambda=new i,t.shape&&this.addShape(t.shape),this.updateMassProperties()}e.exports=o;var r=t("../utils/EventTarget"),i=(t("../shapes/Shape"),t("../math/Vec3")),a=t("../math/Mat3"),s=t("../math/Quaternion"),u=(t("../material/Material"),t("../collision/AABB")),l=t("../shapes/Box");o.prototype=new r,o.prototype.constructor=o,o.DYNAMIC=1,o.STATIC=2,o.KINEMATIC=4,o.AWAKE=0,o.SLEEPY=1,o.SLEEPING=2,o.idCounter=0,o.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=0,t===o.SLEEPING&&this.dispatchEvent({type:"wakeup"})},o.prototype.sleep=function(){this.sleepState=o.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0)},o.sleepyEvent={type:"sleepy"},o.sleepEvent={type:"sleep"},o.prototype.sleepTick=function(t){if(this.allowSleep){var e=this.sleepState,n=this.velocity.norm2()+this.angularVelocity.norm2(),r=Math.pow(this.sleepSpeedLimit,2);e===o.AWAKE&&r>n?(this.sleepState=o.SLEEPY,this.timeLastSleepy=t,this.dispatchEvent(o.sleepyEvent)):e===o.SLEEPY&&n>r?this.wakeUp():e===o.SLEEPY&&t-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(o.sleepEvent))}},o.prototype.updateSolveMassProperties=function(){this.sleepState===o.SLEEPING||this.type===o.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))},o.prototype.pointToLocalFrame=function(t,e){var e=e||new i;return t.vsub(this.position,e),this.quaternion.conjugate().vmult(e,e),e},o.prototype.vectorToLocalFrame=function(t,e){var e=e||new i;return this.quaternion.conjugate().vmult(t,e),e},o.prototype.pointToWorldFrame=function(t,e){var e=e||new i;return this.quaternion.vmult(t,e),e.vadd(this.position,e),e},o.prototype.vectorToWorldFrame=function(t,e){var e=e||new i;return this.quaternion.vmult(t,e),e};var c=new i,p=new s;o.prototype.addShape=function(t,e,n){var o=new i,r=new s;return e&&o.copy(e),n&&r.copy(n),this.shapes.push(t),this.shapeOffsets.push(o),this.shapeOrientations.push(r),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,this},o.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=this.shapeOffsets,n=t.length,o=0,r=0;r!==n;r++){var i=t[r];i.updateBoundingSphereRadius();var a=e[r].norm(),s=i.boundingSphereRadius;a+s>o&&(o=a+s)}this.boundingRadius=o};var h=new u;o.prototype.computeAABB=function(){for(var t=this.shapes,e=this.shapeOffsets,n=this.shapeOrientations,o=t.length,r=c,i=p,a=this.quaternion,s=this.aabb,u=h,l=0;l!==o;l++){var d=t[l];n[l].mult(a,i),i.vmult(e[l],r),r.vadd(this.position,r),d.calculateWorldAABB(r,i,u.lowerBound,u.upperBound),0===l?s.copy(u):s.extend(u)}this.aabbNeedsUpdate=!1};var d=new a,f=new a;new a;o.prototype.updateInertiaWorld=function(t){var e=this.invInertia;if(e.x!==e.y||e.y!==e.z||t){var n=d,o=f;n.setRotationFromQuaternion(this.quaternion),n.transpose(o),n.scale(e,n),n.mmult(o,this.invInertiaWorld)}else;};var v=new i,y=new i;
o.prototype.applyForce=function(t,e){if(this.type===o.DYNAMIC){var n=v;e.vsub(this.position,n);var r=y;n.cross(t,r),this.force.vadd(t,this.force),this.torque.vadd(r,this.torque)}};var m=new i,g=new i;o.prototype.applyLocalForce=function(t,e){if(this.type===o.DYNAMIC){var n=m,r=g;this.vectorToWorldFrame(t,n),this.pointToWorldFrame(e,r),this.applyForce(n,r)}};var b=new i,w=new i,x=new i;o.prototype.applyImpulse=function(t,e){if(this.type===o.DYNAMIC){var n=b;e.vsub(this.position,n);var r=w;r.copy(t),r.mult(this.invMass,r),this.velocity.vadd(r,this.velocity);var i=x;n.cross(t,i),this.invInertiaWorld.vmult(i,i),this.angularVelocity.vadd(i,this.angularVelocity)}};var C=new i,E=new i;o.prototype.applyLocalImpulse=function(t,e){if(this.type===o.DYNAMIC){var n=C,r=E;this.vectorToWorldFrame(t,n),this.pointToWorldFrame(e,r),this.applyImpulse(n,r)}};var S=new i;o.prototype.updateMassProperties=function(){var t=S;this.invMass=this.mass>0?1/this.mass:0;var e=this.inertia,n=this.fixedRotation;this.computeAABB(),t.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),l.calculateInertia(t,this.mass,e),this.invInertia.set(e.x>0&&!n?1/e.x:0,e.y>0&&!n?1/e.y:0,e.z>0&&!n?1/e.z:0),this.updateInertiaWorld(!0)},o.prototype.getVelocityAtWorldPoint=function(t,e){var n=new i;return t.vsub(this.position,n),this.angularVelocity.cross(n,e),this.velocity.vadd(e,e),e}},{"../collision/AABB":3,"../material/Material":25,"../math/Mat3":27,"../math/Quaternion":28,"../math/Vec3":30,"../shapes/Box":37,"../shapes/Shape":43,"../utils/EventTarget":49}],32:[function(t,e,n){function o(t){this.chassisBody=t.chassisBody,this.wheelInfos=[],this.sliding=!1,this.world=null,this.indexRightAxis="undefined"!=typeof t.indexRightAxis?t.indexRightAxis:1,this.indexForwardAxis="undefined"!=typeof t.indexForwardAxis?t.indexForwardAxis:0,this.indexUpAxis="undefined"!=typeof t.indexUpAxis?t.indexUpAxis:2}function r(t,e,n,o,r){var a=0,s=n,u=x,l=C,c=E;t.getVelocityAtWorldPoint(s,u),e.getVelocityAtWorldPoint(s,l),u.vsub(l,c);var p=o.dot(c),h=i(t,n,o),d=i(e,n,o),f=1,v=f/(h+d);return a=-p*v,a>r&&(a=r),-r>a&&(a=-r),a}function i(t,e,n){var o=S,r=M,i=_,a=P;return e.vsub(t.position,o),o.cross(n,r),t.invInertiaWorld.vmult(r,a),a.cross(o,i),t.invMass+n.dot(i)}function a(t,e,n,o,r,i){var a=r.norm2();if(a>1.1)return 0;var s=R,u=A,l=N;t.getVelocityAtWorldPoint(e,s),n.getVelocityAtWorldPoint(o,u),s.vsub(u,l);var c=r.dot(l),p=.2,h=1/(t.invMass+n.invMass),i=-p*c*h;return i}var s=(t("./Body"),t("../math/Vec3")),u=t("../math/Quaternion"),l=(t("../collision/RaycastResult"),t("../collision/Ray")),c=t("../objects/WheelInfo");e.exports=o;var p=(new s,new s,new s,new s),h=new s,d=new s;new l;o.prototype.addWheel=function(t){t=t||{};var e=new c(t),n=this.wheelInfos.length;return this.wheelInfos.push(e),n},o.prototype.setSteeringValue=function(t,e){var n=this.wheelInfos[e];n.steering=t};new s;o.prototype.applyEngineForce=function(t,e){this.wheelInfos[e].engineForce=t},o.prototype.setBrake=function(t,e){this.wheelInfos[e].brake=t},o.prototype.addToWorld=function(t){this.constraints;t.add(this.chassisBody);var e=this;this.preStepCallback=function(){e.updateVehicle(t.dt)},t.addEventListener("preStep",this.preStepCallback),this.world=t},o.prototype.getVehicleAxisWorld=function(t,e){e.set(0===t?1:0,1===t?1:0,2===t?1:0),this.chassisBody.vectorToWorldFrame(e,e)},o.prototype.updateVehicle=function(t){for(var e=this.wheelInfos,n=e.length,o=this.chassisBody,r=0;n>r;r++)this.updateWheelTransform(r);this.currentVehicleSpeedKmHour=3.6*o.velocity.norm();var i=new s;this.getVehicleAxisWorld(this.indexForwardAxis,i),i.dot(o.velocity)<0&&(this.currentVehicleSpeedKmHour*=-1);for(var r=0;n>r;r++)this.castRay(e[r]);this.updateSuspension(t);for(var a=new s,u=new s,r=0;n>r;r++){var l=e[r],c=l.suspensionForce;c>l.maxSuspensionForce&&(c=l.maxSuspensionForce),l.raycastResult.hitNormalWorld.scale(c*t,a),l.raycastResult.hitPointWorld.vsub(o.position,u),o.applyImpulse(a,l.raycastResult.hitPointWorld)}this.updateFriction(t);var p=new s,h=new s,d=new s;for(r=0;n>r;r++){var l=e[r];o.getVelocityAtWorldPoint(l.chassisConnectionPointWorld,d);var f=1;switch(this.indexUpAxis){case 1:f=-1}if(l.isInContact){this.getVehicleAxisWorld(this.indexForwardAxis,h);var v=h.dot(l.raycastResult.hitNormalWorld);l.raycastResult.hitNormalWorld.scale(v,p),h.vsub(p,h);var y=h.dot(d);l.deltaRotation=f*y*t/l.radius}!l.sliding&&l.isInContact||0===l.engineForce||!l.useCustomSlidingRotationalSpeed||(l.deltaRotation=(l.engineForce>0?1:-1)*l.customSlidingRotationalSpeed*t),Math.abs(l.brake)>Math.abs(l.engineForce)&&(l.deltaRotation=0),l.rotation+=l.deltaRotation,l.deltaRotation*=.99}},o.prototype.updateSuspension=function(t){for(var e=this.chassisBody,n=e.mass,o=this.wheelInfos,r=o.length,i=0;r>i;i++){var a=o[i];if(a.isInContact){var s,u=a.suspensionRestLength,l=a.suspensionLength,c=u-l;s=a.suspensionStiffness*c*a.clippedInvContactDotSuspension;var p,h=a.suspensionRelativeVelocity;p=0>h?a.dampingCompression:a.dampingRelaxation,s-=p*h,a.suspensionForce=s*n,a.suspensionForce<0&&(a.suspensionForce=0)}else a.suspensionForce=0}},o.prototype.removeFromWorld=function(t){this.constraints;t.remove(this.chassisBody),t.removeEventListener("preStep",this.preStepCallback),this.world=null};var f=new s,v=new s;o.prototype.castRay=function(t){var e=f,n=v;this.updateWheelTransformWorld(t);var o=this.chassisBody,r=-1,i=t.suspensionRestLength+t.radius;t.directionWorld.scale(i,e);var a=t.chassisConnectionPointWorld;a.vadd(e,n);var u=t.raycastResult;u.reset();var l=o.collisionResponse;o.collisionResponse=!1,this.world.rayTest(a,n,u),o.collisionResponse=l;var c=u.body;if(t.raycastResult.groundObject=0,c){r=u.distance,t.raycastResult.hitNormalWorld=u.hitNormalWorld,t.isInContact=!0;var p=u.distance;t.suspensionLength=p-t.radius;var h=t.suspensionRestLength-t.maxSuspensionTravel,d=t.suspensionRestLength+t.maxSuspensionTravel;t.suspensionLength<h&&(t.suspensionLength=h),t.suspensionLength>d&&(t.suspensionLength=d,t.raycastResult.reset());var y=t.raycastResult.hitNormalWorld.dot(t.directionWorld),m=new s;o.getVelocityAtWorldPoint(t.raycastResult.hitPointWorld,m);var g=t.raycastResult.hitNormalWorld.dot(m);if(y>=-.1)t.suspensionRelativeVelocity=0,t.clippedInvContactDotSuspension=10;else{var b=-1/y;t.suspensionRelativeVelocity=g*b,t.clippedInvContactDotSuspension=b}}else t.suspensionLength=t.suspensionRestLength+0*t.maxSuspensionTravel,t.suspensionRelativeVelocity=0,t.directionWorld.scale(-1,t.raycastResult.hitNormalWorld),t.clippedInvContactDotSuspension=1;return r},o.prototype.updateWheelTransformWorld=function(t){t.isInContact=!1;var e=this.chassisBody;e.pointToWorldFrame(t.chassisConnectionPointLocal,t.chassisConnectionPointWorld),e.vectorToWorldFrame(t.directionLocal,t.directionWorld),e.vectorToWorldFrame(t.axleLocal,t.axleWorld)},o.prototype.updateWheelTransform=function(t){var e=p,n=h,o=d,r=this.wheelInfos[t];this.updateWheelTransformWorld(r),r.directionLocal.scale(-1,e),n.copy(r.axleLocal),e.cross(n,o),o.normalize(),n.normalize();var i=r.steering,a=new u;a.setFromAxisAngle(e,i);var s=new u;s.setFromAxisAngle(n,r.rotation);var l=r.worldTransform.quaternion;this.chassisBody.quaternion.mult(a,l),l.mult(s,l),l.normalize();var c=r.worldTransform.position;c.copy(r.directionWorld),c.scale(r.suspensionLength,c),c.vadd(r.chassisConnectionPointWorld,c)};var y=[new s(1,0,0),new s(0,1,0),new s(0,0,1)];o.prototype.getWheelTransformWorld=function(t){return this.wheelInfos[t].worldTransform};var m=new s,g=[],b=[],w=1;o.prototype.updateFriction=function(t){for(var e=m,n=this.wheelInfos,o=n.length,i=this.chassisBody,u=b,l=g,c=0,p=0;o>p;p++){var h=n[p],d=h.raycastResult.body;d&&c++,h.sideImpulse=0,h.forwardImpulse=0,u[p]||(u[p]=new s),l[p]||(l[p]=new s)}for(var p=0;o>p;p++){var h=n[p],d=h.raycastResult.body;if(d){var f=l[p],v=this.getWheelTransformWorld(p);v.vectorToWorldFrame(y[this.indexRightAxis],f);var x=h.raycastResult.hitNormalWorld,C=f.dot(x);x.scale(C,e),f.vsub(e,f),f.normalize(),x.cross(f,u[p]),u[p].normalize(),h.sideImpulse=a(i,h.raycastResult.hitPointWorld,d,h.raycastResult.hitPointWorld,f),h.sideImpulse*=w}}var E=1,S=.5;this.sliding=!1;for(var p=0;o>p;p++){var h=n[p],d=h.raycastResult.body,M=0;if(h.slipInfo=1,d){var _=0,P=h.brake?h.brake:_;M=r(i,d,h.raycastResult.hitPointWorld,u[p],P),M+=h.engineForce*t;var R=P/M;h.slipInfo*=R}if(h.forwardImpulse=0,h.skidInfo=1,d){h.skidInfo=1;var A=h.suspensionForce*t*h.frictionSlip,N=A,T=A*N;h.forwardImpulse=M;var I=h.forwardImpulse*S,B=h.sideImpulse*E,D=I*I+B*B;if(h.sliding=!1,D>T){this.sliding=!0,h.sliding=!0;var R=A/Math.sqrt(D);h.skidInfo*=R}}}if(this.sliding)for(var p=0;o>p;p++){var h=n[p];0!==h.sideImpulse&&h.skidInfo<1&&(h.forwardImpulse*=h.skidInfo,h.sideImpulse*=h.skidInfo)}for(var p=0;o>p;p++){var h=n[p],O=new s;if(O.copy(h.raycastResult.hitPointWorld),0!==h.forwardImpulse){var k=new s;u[p].scale(h.forwardImpulse,k),i.applyImpulse(k,O)}if(0!==h.sideImpulse){var d=h.raycastResult.body,L=new s;L.copy(h.raycastResult.hitPointWorld);var F=new s;l[p].scale(h.sideImpulse,F),i.pointToLocalFrame(O,O),O["xyz"[this.indexUpAxis]]*=h.rollInfluence,i.pointToWorldFrame(O,O),i.applyImpulse(F,O),F.scale(-1,F),d.applyImpulse(F,L)}}};var x=new s,C=new s,E=new s,S=new s,M=new s,_=new s,P=new s,R=new s,A=new s,N=new s},{"../collision/Ray":9,"../collision/RaycastResult":10,"../math/Quaternion":28,"../math/Vec3":30,"../objects/WheelInfo":36,"./Body":31}],33:[function(t,e,n){function o(t){if(this.wheelBodies=[],this.coordinateSystem="undefined"==typeof t.coordinateSystem?new s(1,2,3):t.coordinateSystem.clone(),this.chassisBody=t.chassisBody,!this.chassisBody){var e=new a(new s(5,2,.5));this.chassisBody=new r(1,e)}this.constraints=[],this.wheelAxes=[],this.wheelForces=[]}var r=t("./Body"),i=t("../shapes/Sphere"),a=t("../shapes/Box"),s=t("../math/Vec3"),u=t("../constraints/HingeConstraint");e.exports=o,o.prototype.addWheel=function(t){t=t||{};var e=t.body;e||(e=new r(1,new i(1.2))),this.wheelBodies.push(e),this.wheelForces.push(0);var n=(new s,"undefined"!=typeof t.position?t.position.clone():new s),o=new s;this.chassisBody.pointToWorldFrame(n,o),e.position.set(o.x,o.y,o.z);var a="undefined"!=typeof t.axis?t.axis.clone():new s(0,1,0);this.wheelAxes.push(a);var l=new u(this.chassisBody,e,{pivotA:n,axisA:a,pivotB:s.ZERO,axisB:a,collideConnected:!1});return this.constraints.push(l),this.wheelBodies.length-1},o.prototype.setSteeringValue=function(t,e){var n=this.wheelAxes[e],o=Math.cos(t),r=Math.sin(t),i=n.x,a=n.y;this.constraints[e].axisA.set(o*i-r*a,r*i+o*a,0)},o.prototype.setMotorSpeed=function(t,e){var n=this.constraints[e];n.enableMotor(),n.motorTargetVelocity=t},o.prototype.disableMotor=function(t){var e=this.constraints[t];e.disableMotor()};var l=new s;o.prototype.setWheelForce=function(t,e){this.wheelForces[e]=t},o.prototype.applyWheelForce=function(t,e){var n=this.wheelAxes[e],o=this.wheelBodies[e],r=o.torque;n.scale(t,l),o.vectorToWorldFrame(l,l),r.vadd(l,r)},o.prototype.addToWorld=function(t){for(var e=this.constraints,n=this.wheelBodies.concat([this.chassisBody]),o=0;o<n.length;o++)t.add(n[o]);for(var o=0;o<e.length;o++)t.addConstraint(e[o]);t.addEventListener("preStep",this._update.bind(this))},o.prototype._update=function(){for(var t=this.wheelForces,e=0;e<t.length;e++)this.applyWheelForce(t[e],e)},o.prototype.removeFromWorld=function(t){for(var e=this.constraints,n=this.wheelBodies.concat([this.chassisBody]),o=0;o<n.length;o++)t.remove(n[o]);for(var o=0;o<e.length;o++)t.removeConstraint(e[o])};var c=new s;o.prototype.getWheelSpeed=function(t){var e=this.wheelAxes[t],n=this.wheelBodies[t],o=n.angularVelocity;return this.chassisBody.vectorToWorldFrame(e,c),o.dot(c)}},{"../constraints/HingeConstraint":15,"../math/Vec3":30,"../shapes/Box":37,"../shapes/Sphere":44,"./Body":31}],34:[function(t,e,n){function o(){this.particles=[],this.density=1,this.smoothingRadius=1,this.speedOfSound=1,this.viscosity=.01,this.eps=1e-6,this.pressures=[],this.densities=[],this.neighbors=[]}e.exports=o;var r=(t("../shapes/Shape"),t("../math/Vec3"));t("../math/Quaternion"),t("../shapes/Particle"),t("../objects/Body"),t("../material/Material");o.prototype.add=function(t){this.particles.push(t),this.neighbors.length<this.particles.length&&this.neighbors.push([])},o.prototype.remove=function(t){var e=this.particles.indexOf(t);-1!==e&&(this.particles.splice(e,1),this.neighbors.length>this.particles.length&&this.neighbors.pop())};var i=new r;o.prototype.getNeighbors=function(t,e){for(var n=this.particles.length,o=t.id,r=this.smoothingRadius*this.smoothingRadius,a=i,s=0;s!==n;s++){var u=this.particles[s];u.position.vsub(t.position,a),o!==u.id&&a.norm2()<r&&e.push(u)}};var a=new r,s=new r,u=new r,l=new r,c=new r,p=new r;o.prototype.update=function(){for(var t=this.particles.length,e=a,n=this.speedOfSound,o=this.eps,r=0;r!==t;r++){var i=this.particles[r],h=this.neighbors[r];h.length=0,this.getNeighbors(i,h),h.push(this.particles[r]);for(var d=h.length,f=0,v=0;v!==d;v++){i.position.vsub(h[v].position,e);var y=e.norm(),m=this.w(y);f+=h[v].mass*m}this.densities[r]=f,this.pressures[r]=n*n*(this.densities[r]-this.density)}for(var g=s,b=u,w=l,x=c,C=p,r=0;r!==t;r++){var E=this.particles[r];g.set(0,0,0),b.set(0,0,0);for(var S,M,h=this.neighbors[r],d=h.length,v=0;v!==d;v++){var _=h[v];E.position.vsub(_.position,x);var P=x.norm();S=-_.mass*(this.pressures[r]/(this.densities[r]*this.densities[r]+o)+this.pressures[v]/(this.densities[v]*this.densities[v]+o)),this.gradw(x,w),w.mult(S,w),g.vadd(w,g),_.velocity.vsub(E.velocity,C),C.mult(1/(1e-4+this.densities[r]*this.densities[v])*this.viscosity*_.mass,C),M=this.nablaw(P),C.mult(M,C),b.vadd(C,b)}b.mult(E.mass,b),g.mult(E.mass,g),E.force.vadd(b,E.force),E.force.vadd(g,E.force)}},o.prototype.w=function(t){var e=this.smoothingRadius;return 315/(64*Math.PI*Math.pow(e,9))*Math.pow(e*e-t*t,3)},o.prototype.gradw=function(t,e){var n=t.norm(),o=this.smoothingRadius;t.mult(945/(32*Math.PI*Math.pow(o,9))*Math.pow(o*o-n*n,2),e)},o.prototype.nablaw=function(t){var e=this.smoothingRadius,n=945/(32*Math.PI*Math.pow(e,9))*(e*e-t*t)*(7*t*t-3*e*e);return n}},{"../material/Material":25,"../math/Quaternion":28,"../math/Vec3":30,"../objects/Body":31,"../shapes/Particle":41,"../shapes/Shape":43}],35:[function(t,e,n){function o(t,e,n){n=n||{},this.restLength="number"==typeof n.restLength?n.restLength:1,this.stiffness=n.stiffness||100,this.damping=n.damping||1,this.bodyA=t,this.bodyB=e,this.localAnchorA=new r,this.localAnchorB=new r,n.localAnchorA&&this.localAnchorA.copy(n.localAnchorA),n.localAnchorB&&this.localAnchorB.copy(n.localAnchorB),n.worldAnchorA&&this.setWorldAnchorA(n.worldAnchorA),n.worldAnchorB&&this.setWorldAnchorB(n.worldAnchorB)}var r=t("../math/Vec3");e.exports=o,o.prototype.setWorldAnchorA=function(t){this.bodyA.pointToLocalFrame(t,this.localAnchorA)},o.prototype.setWorldAnchorB=function(t){this.bodyB.pointToLocalFrame(t,this.localAnchorB)},o.prototype.getWorldAnchorA=function(t){this.bodyA.pointToWorldFrame(this.localAnchorA,t)},o.prototype.getWorldAnchorB=function(t){this.bodyB.pointToWorldFrame(this.localAnchorB,t)};var i=new r,a=new r,s=new r,u=new r,l=new r,c=new r,p=new r,h=new r,d=new r,f=new r,v=new r;o.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,n=this.restLength,o=this.bodyA,r=this.bodyB,y=i,m=a,g=s,b=u,w=v,x=l,C=c,E=p,S=h,M=d,_=f;this.getWorldAnchorA(x),this.getWorldAnchorB(C),x.vsub(o.position,E),C.vsub(r.position,S),C.vsub(x,y);var P=y.norm();m.copy(y),m.normalize(),r.velocity.vsub(o.velocity,g),r.angularVelocity.cross(S,w),g.vadd(w,g),o.angularVelocity.cross(E,w),g.vsub(w,g),m.mult(-t*(P-n)-e*g.dot(m),b),o.force.vsub(b,o.force),r.force.vadd(b,r.force),E.cross(b,M),S.cross(b,_),o.torque.vsub(M,o.torque),r.torque.vadd(_,r.torque)}},{"../math/Vec3":30}],36:[function(t,e,n){function o(t){t=s.defaults(t,{chassisConnectionPointLocal:new r,chassisConnectionPointWorld:new r,directionLocal:new r,directionWorld:new r,axleLocal:new r,axleWorld:new r,suspensionRestLength:1,suspensionMaxLength:2,radius:1,suspensionStiffness:100,dampingCompression:10,dampingRelaxation:10,frictionSlip:1e4,steering:0,rotation:0,deltaRotation:0,rollInfluence:.01,maxSuspensionForce:Number.MAX_VALUE,isFrontWheel:!0,clippedInvContactDotSuspension:1,suspensionRelativeVelocity:0,suspensionForce:0,skidInfo:0,suspensionLength:0,maxSuspensionTravel:1,useCustomSlidingRotationalSpeed:!1,customSlidingRotationalSpeed:-.1}),this.maxSuspensionTravel=t.maxSuspensionTravel,this.customSlidingRotationalSpeed=t.customSlidingRotationalSpeed,this.useCustomSlidingRotationalSpeed=t.useCustomSlidingRotationalSpeed,this.sliding=!1,this.chassisConnectionPointLocal=t.chassisConnectionPointLocal.clone(),this.chassisConnectionPointWorld=t.chassisConnectionPointWorld.clone(),this.directionLocal=t.directionLocal.clone(),this.directionWorld=t.directionWorld.clone(),this.axleLocal=t.axleLocal.clone(),this.axleWorld=t.axleWorld.clone(),this.suspensionRestLength=t.suspensionRestLength,this.suspensionMaxLength=t.suspensionMaxLength,this.radius=t.radius,this.suspensionStiffness=t.suspensionStiffness,this.dampingCompression=t.dampingCompression,this.dampingRelaxation=t.dampingRelaxation,this.frictionSlip=t.frictionSlip,this.steering=0,this.rotation=0,this.deltaRotation=0,this.rollInfluence=t.rollInfluence,this.maxSuspensionForce=t.maxSuspensionForce,this.engineForce=0,this.brake=0,this.isFrontWheel=t.isFrontWheel,this.clippedInvContactDotSuspension=1,this.suspensionRelativeVelocity=0,this.suspensionForce=0,this.skidInfo=0,this.suspensionLength=0,this.sideImpulse=0,this.forwardImpulse=0,this.raycastResult=new a,this.worldTransform=new i,this.isInContact=!1}var r=t("../math/Vec3"),i=t("../math/Transform"),a=t("../collision/RaycastResult"),s=t("../utils/Utils");e.exports=o;var u=new r,l=new r,u=new r;o.prototype.updateWheel=function(t){var e=this.raycastResult;if(this.isInContact){var n=e.hitNormalWorld.dot(e.directionWorld);e.hitPointWorld.vsub(t.position,l),t.getVelocityAtWorldPoint(l,u);var o=e.hitNormalWorld.dot(u);if(n>=-.1)this.suspensionRelativeVelocity=0,this.clippedInvContactDotSuspension=10;else{var r=-1/n;this.suspensionRelativeVelocity=o*r,this.clippedInvContactDotSuspension=r}}else e.suspensionLength=this.suspensionRestLength,this.suspensionRelativeVelocity=0,e.directionWorld.scale(-1,e.hitNormalWorld),this.clippedInvContactDotSuspension=1}},{"../collision/RaycastResult":10,"../math/Transform":29,"../math/Vec3":30,"../utils/Utils":53}],37:[function(t,e,n){function o(t){r.call(this),this.type=r.types.BOX,this.halfExtents=t,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3"),a=t("./ConvexPolyhedron");o.prototype=new r,o.prototype.constructor=o,o.prototype.updateConvexPolyhedronRepresentation=function(){var t=this.halfExtents.x,e=this.halfExtents.y,n=this.halfExtents.z,o=i,r=[new o(-t,-e,-n),new o(t,-e,-n),new o(t,e,-n),new o(-t,e,-n),new o(-t,-e,n),new o(t,-e,n),new o(t,e,n),new o(-t,e,n)],s=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],u=([new o(0,0,1),new o(0,1,0),new o(1,0,0)],new a(r,s));this.convexPolyhedronRepresentation=u,u.material=this.material},o.prototype.calculateLocalInertia=function(t,e){return e=e||new i,o.calculateInertia(this.halfExtents,t,e),e},o.calculateInertia=function(t,e,n){var o=t;n.x=1/12*e*(2*o.y*2*o.y+2*o.z*2*o.z),n.y=1/12*e*(2*o.x*2*o.x+2*o.z*2*o.z),n.z=1/12*e*(2*o.y*2*o.y+2*o.x*2*o.x)},o.prototype.getSideNormals=function(t,e){var n=t,o=this.halfExtents;if(n[0].set(o.x,0,0),n[1].set(0,o.y,0),n[2].set(0,0,o.z),n[3].set(-o.x,0,0),n[4].set(0,-o.y,0),n[5].set(0,0,-o.z),void 0!==e)for(var r=0;r!==n.length;r++)e.vmult(n[r],n[r]);return n},o.prototype.volume=function(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=this.halfExtents.norm()};var s=new i;new i;o.prototype.forEachWorldCorner=function(t,e,n){for(var o=this.halfExtents,r=[[o.x,o.y,o.z],[-o.x,o.y,o.z],[-o.x,-o.y,o.z],[-o.x,-o.y,-o.z],[o.x,-o.y,-o.z],[o.x,o.y,-o.z],[-o.x,o.y,-o.z],[o.x,-o.y,o.z]],i=0;i<r.length;i++)s.set(r[i][0],r[i][1],r[i][2]),e.vmult(s,s),t.vadd(s,s),n(s.x,s.y,s.z)};var u=[new i,new i,new i,new i,new i,new i,new i,new i];o.prototype.calculateWorldAABB=function(t,e,n,o){var r=this.halfExtents;u[0].set(r.x,r.y,r.z),u[1].set(-r.x,r.y,r.z),u[2].set(-r.x,-r.y,r.z),u[3].set(-r.x,-r.y,-r.z),u[4].set(r.x,-r.y,-r.z),u[5].set(r.x,r.y,-r.z),u[6].set(-r.x,r.y,-r.z),u[7].set(r.x,-r.y,r.z);var i=u[0];e.vmult(i,i),t.vadd(i,i),o.copy(i),n.copy(i);for(var a=1;8>a;a++){var i=u[a];e.vmult(i,i),t.vadd(i,i);var s=i.x,l=i.y,c=i.z;s>o.x&&(o.x=s),l>o.y&&(o.y=l),c>o.z&&(o.z=c),s<n.x&&(n.x=s),l<n.y&&(n.y=l),c<n.z&&(n.z=c)}}},{"../math/Vec3":30,"./ConvexPolyhedron":38,"./Shape":43}],38:[function(t,e,n){function o(t,e,n){r.call(this),this.type=r.types.CONVEXPOLYHEDRON,this.vertices=t||[],this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.faces=e||[],this.faceNormals=[],this.computeNormals(),this.worldFaceNormalsNeedsUpdate=!0,this.worldFaceNormals=[],this.uniqueEdges=[],this.uniqueAxes=n?n.slice():null,this.computeEdges(),this.updateBoundingSphereRadius()}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3"),a=(t("../math/Quaternion"),t("../math/Transform"));o.prototype=new r,o.prototype.constructor=o;var s=new i;o.prototype.computeEdges=function(){var t=this.faces,e=this.vertices,n=(e.length,this.uniqueEdges);n.length=0;for(var o=s,r=0;r!==t.length;r++)for(var i=t[r],a=i.length,u=0;u!==a;u++){var l=(u+1)%a;e[i[u]].vsub(e[i[l]],o),o.normalize();for(var c=!1,p=0;p!==n.length;p++)if(n[p].almostEquals(o)||n[p].almostEquals(o)){c=!0;break}c||n.push(o.clone())}},o.prototype.computeNormals=function(){this.faceNormals.length=this.faces.length;for(var t=0;t<this.faces.length;t++){for(var e=0;e<this.faces[t].length;e++)if(!this.vertices[this.faces[t][e]])throw new Error("Vertex "+this.faces[t][e]+" not found!");var n=this.faceNormals[t]||new i;this.getFaceNormal(t,n),n.negate(n),this.faceNormals[t]=n;var o=this.vertices[this.faces[t][0]];if(n.dot(o)<0){console.error(".faceNormals["+t+"] = Vec3("+n.toString()+") looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.");for(var e=0;e<this.faces[t].length;e++)console.warn(".vertices["+this.faces[t][e]+"] = Vec3("+this.vertices[this.faces[t][e]].toString()+")")}}};var u=new i,l=new i;o.computeNormal=function(t,e,n,o){e.vsub(t,l),n.vsub(e,u),u.cross(l,o),o.isZero()||o.normalize()},o.prototype.getFaceNormal=function(t,e){var n=this.faces[t],r=this.vertices[n[0]],i=this.vertices[n[1]],a=this.vertices[n[2]];return o.computeNormal(r,i,a,e)};var c=new i;o.prototype.clipAgainstHull=function(t,e,n,o,r,a,s,u,l){for(var p=c,h=-1,d=-Number.MAX_VALUE,f=0;f<n.faces.length;f++){p.copy(n.faceNormals[f]),r.vmult(p,p);var v=p.dot(a);v>d&&(d=v,h=f)}for(var y=[],m=n.faces[h],g=m.length,b=0;g>b;b++){var w=n.vertices[m[b]],x=new i;x.copy(w),r.vmult(x,x),o.vadd(x,x),y.push(x)}h>=0&&this.clipFaceAgainstHull(a,t,e,y,s,u,l)};var p=new i,h=new i,d=new i,f=new i,v=new i,y=new i;o.prototype.findSeparatingAxis=function(t,e,n,o,r,i,a,s){var u=p,l=h,c=d,m=f,g=v,b=y,w=Number.MAX_VALUE,x=this,C=0;if(x.uniqueAxes)for(var E=0;E!==x.uniqueAxes.length;E++){n.vmult(x.uniqueAxes[E],u);var S=x.testSepAxis(u,t,e,n,o,r);if(S===!1)return!1;w>S&&(w=S,i.copy(u))}else for(var M=a?a.length:x.faces.length,E=0;M>E;E++){var _=a?a[E]:E;u.copy(x.faceNormals[_]),n.vmult(u,u);var S=x.testSepAxis(u,t,e,n,o,r);if(S===!1)return!1;w>S&&(w=S,i.copy(u))}if(t.uniqueAxes)for(var E=0;E!==t.uniqueAxes.length;E++){r.vmult(t.uniqueAxes[E],l),C++;var S=x.testSepAxis(l,t,e,n,o,r);if(S===!1)return!1;w>S&&(w=S,i.copy(l))}else for(var P=s?s.length:t.faces.length,E=0;P>E;E++){var _=s?s[E]:E;l.copy(t.faceNormals[_]),r.vmult(l,l),C++;var S=x.testSepAxis(l,t,e,n,o,r);if(S===!1)return!1;w>S&&(w=S,i.copy(l))}for(var R=0;R!==x.uniqueEdges.length;R++){n.vmult(x.uniqueEdges[R],m);for(var A=0;A!==t.uniqueEdges.length;A++)if(r.vmult(t.uniqueEdges[A],g),m.cross(g,b),!b.almostZero()){b.normalize();var N=x.testSepAxis(b,t,e,n,o,r);if(N===!1)return!1;w>N&&(w=N,i.copy(b))}}return o.vsub(e,c),c.dot(i)>0&&i.negate(i),!0};var m=[],g=[];o.prototype.testSepAxis=function(t,e,n,r,i,a){var s=this;o.project(s,t,n,r,m),o.project(e,t,i,a,g);var u=m[0],l=m[1],c=g[0],p=g[1];if(p>u||l>c)return!1;var h=u-p,d=c-l,f=d>h?h:d;return f};var b=new i,w=new i;o.prototype.calculateLocalInertia=function(t,e){this.computeLocalAABB(b,w);var n=w.x-b.x,o=w.y-b.y,r=w.z-b.z;e.x=1/12*t*(2*o*2*o+2*r*2*r),e.y=1/12*t*(2*n*2*n+2*r*2*r),e.z=1/12*t*(2*o*2*o+2*n*2*n)},o.prototype.getPlaneConstantOfFace=function(t){var e=this.faces[t],n=this.faceNormals[t],o=this.vertices[e[0]],r=-n.dot(o);return r};var x=new i,C=new i,E=new i,S=new i,M=new i,_=new i,P=new i,R=new i;o.prototype.clipFaceAgainstHull=function(t,e,n,o,r,i,a){for(var s=x,u=C,l=E,c=S,p=M,h=_,d=P,f=R,v=this,y=[],m=o,g=y,b=-1,w=Number.MAX_VALUE,A=0;A<v.faces.length;A++){s.copy(v.faceNormals[A]),n.vmult(s,s);var N=s.dot(t);w>N&&(w=N,b=A)}if(!(0>b)){var T=v.faces[b];T.connectedFaces=[];for(var I=0;I<v.faces.length;I++)for(var B=0;B<v.faces[I].length;B++)-1!==T.indexOf(v.faces[I][B])&&I!==b&&-1===T.connectedFaces.indexOf(I)&&T.connectedFaces.push(I);for(var D=(m.length,T.length),O=0;D>O;O++){var k=v.vertices[T[O]],L=v.vertices[T[(O+1)%D]];k.vsub(L,u),l.copy(u),n.vmult(l,l),e.vadd(l,l),c.copy(this.faceNormals[b]),n.vmult(c,c),e.vadd(c,c),l.cross(c,p),p.negate(p),h.copy(k),n.vmult(h,h),e.vadd(h,h);var F,V=(-h.dot(p),T.connectedFaces[O]);d.copy(this.faceNormals[V]);var j=this.getPlaneConstantOfFace(V);f.copy(d),n.vmult(f,f);var F=j-f.dot(e);for(this.clipFaceAgainstPlane(m,g,f,F);m.length;)m.shift();for(;g.length;)m.push(g.shift())}d.copy(this.faceNormals[b]);var j=this.getPlaneConstantOfFace(b);f.copy(d),n.vmult(f,f);for(var F=j-f.dot(e),I=0;I<m.length;I++){var q=f.dot(m[I])+F;if(r>=q&&(console.log("clamped: depth="+q+" to minDist="+(r+"")),q=r),i>=q){var z=m[I];if(0>=q){var W={point:z,normal:f,depth:q};a.push(W)}}}}},o.prototype.clipFaceAgainstPlane=function(t,e,n,o){var r,a,s=t.length;if(2>s)return e;var u=t[t.length-1],l=t[0];r=n.dot(u)+o;for(var c=0;s>c;c++){if(l=t[c],a=n.dot(l)+o,0>r)if(0>a){var p=new i;p.copy(l),e.push(p)}else{var p=new i;u.lerp(l,r/(r-a),p),e.push(p)}else if(0>a){var p=new i;u.lerp(l,r/(r-a),p),e.push(p),e.push(l)}u=l,r=a}return e},o.prototype.computeWorldVertices=function(t,e){for(var n=this.vertices.length;this.worldVertices.length<n;)this.worldVertices.push(new i);for(var o=this.vertices,r=this.worldVertices,a=0;a!==n;a++)e.vmult(o[a],r[a]),t.vadd(r[a],r[a]);this.worldVerticesNeedsUpdate=!1};new i;o.prototype.computeLocalAABB=function(t,e){var n=this.vertices.length,o=this.vertices;t.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),e.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(var r=0;n>r;r++){var i=o[r];i.x<t.x?t.x=i.x:i.x>e.x&&(e.x=i.x),i.y<t.y?t.y=i.y:i.y>e.y&&(e.y=i.y),i.z<t.z?t.z=i.z:i.z>e.z&&(e.z=i.z)}},o.prototype.computeWorldFaceNormals=function(t){for(var e=this.faceNormals.length;this.worldFaceNormals.length<e;)this.worldFaceNormals.push(new i);for(var n=this.faceNormals,o=this.worldFaceNormals,r=0;r!==e;r++)t.vmult(n[r],o[r]);this.worldFaceNormalsNeedsUpdate=!1},o.prototype.updateBoundingSphereRadius=function(){for(var t=0,e=this.vertices,n=0,o=e.length;n!==o;n++){var r=e[n].norm2();r>t&&(t=r)}this.boundingSphereRadius=Math.sqrt(t)};var A=new i;o.prototype.calculateWorldAABB=function(t,e,n,o){for(var r,i,a,s,u,l,c=this.vertices.length,p=this.vertices,h=0;c>h;h++){A.copy(p[h]),e.vmult(A,A),t.vadd(A,A);var d=A;d.x<r||void 0===r?r=d.x:(d.x>s||void 0===s)&&(s=d.x),d.y<i||void 0===i?i=d.y:(d.y>u||void 0===u)&&(u=d.y),d.z<a||void 0===a?a=d.z:(d.z>l||void 0===l)&&(l=d.z)}n.set(r,i,a),o.set(s,u,l)},o.prototype.volume=function(){return 4*Math.PI*this.boundingSphereRadius/3},o.prototype.getAveragePointLocal=function(t){t=t||new i;for(var e=this.vertices.length,n=this.vertices,o=0;e>o;o++)t.vadd(n[o],t);return t.mult(1/e,t),t},o.prototype.transformAllPoints=function(t,e){var n=this.vertices.length,o=this.vertices;if(e){for(var r=0;n>r;r++){var i=o[r];e.vmult(i,i)}for(var r=0;r<this.faceNormals.length;r++){var i=this.faceNormals[r];e.vmult(i,i)}}if(t)for(var r=0;n>r;r++){var i=o[r];i.vadd(t,i)}};var N=new i,T=new i,I=new i;o.prototype.pointIsInside=function(t){var e=this.vertices.length,n=this.vertices,o=this.faces,r=this.faceNormals,i=null,a=this.faces.length,s=N;this.getAveragePointLocal(s);for(var u=0;a>u;u++){var e=(this.faces[u].length,r[u]),l=n[o[u][0]],c=T;t.vsub(l,c);var p=e.dot(c),h=I;s.vsub(l,h);var d=e.dot(h);if(0>p&&d>0||p>0&&0>d)return!1}return i?1:-1};var B=(new i,new i),D=new i;o.project=function(t,e,n,o,r){var i=t.vertices.length,s=B,u=0,l=0,c=D,p=t.vertices;c.setZero(),a.vectorToLocalFrame(n,o,e,s),a.pointToLocalFrame(n,o,c,c);var h=c.dot(s);l=u=p[0].dot(s);for(var d=1;i>d;d++){var f=p[d].dot(s);f>u&&(u=f),l>f&&(l=f)}if(l-=h,u-=h,l>u){var v=l;l=u,u=v}r[0]=u,r[1]=l}},{"../math/Quaternion":28,"../math/Transform":29,"../math/Vec3":30,"./Shape":43}],39:[function(t,e,n){function o(t,e,n,o){var s=o,u=[],l=[],c=[],p=[],h=[],d=Math.cos,f=Math.sin;u.push(new i(e*d(0),e*f(0),.5*-n)),p.push(0),u.push(new i(t*d(0),t*f(0),.5*n)),h.push(1);for(var v=0;s>v;v++){var y=2*Math.PI/s*(v+1),m=2*Math.PI/s*(v+.5);s-1>v?(u.push(new i(e*d(y),e*f(y),.5*-n)),p.push(2*v+2),u.push(new i(t*d(y),t*f(y),.5*n)),h.push(2*v+3),c.push([2*v+2,2*v+3,2*v+1,2*v])):c.push([0,1,2*v+1,2*v]),(s%2===1||s/2>v)&&l.push(new i(d(m),f(m),0))}c.push(h),l.push(new i(0,0,1));for(var g=[],v=0;v<p.length;v++)g.push(p[p.length-v-1]);c.push(g),this.type=r.types.CONVEXPOLYHEDRON,a.call(this,u,c,l)}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3"),a=(t("../math/Quaternion"),t("./ConvexPolyhedron"));o.prototype=new a},{"../math/Quaternion":28,"../math/Vec3":30,"./ConvexPolyhedron":38,"./Shape":43}],40:[function(t,e,n){function o(t,e){e=s.defaults(e,{maxValue:null,minValue:null,elementSize:1}),this.data=t,this.maxValue=e.maxValue,this.minValue=e.minValue,this.elementSize=e.elementSize,null===e.minValue&&this.updateMinValue(),null===e.maxValue&&this.updateMaxValue(),this.cacheEnabled=!0,r.call(this),this.pillarConvex=new i,this.pillarOffset=new a,this.type=r.types.HEIGHTFIELD,this.updateBoundingSphereRadius(),this._cachedPillars={}}var r=t("./Shape"),i=t("./ConvexPolyhedron"),a=t("../math/Vec3"),s=t("../utils/Utils");e.exports=o,o.prototype=new r,o.prototype.update=function(){this._cachedPillars={}},o.prototype.updateMinValue=function(){for(var t=this.data,e=t[0][0],n=0;n!==t.length;n++)for(var o=0;o!==t[n].length;o++){var r=t[n][o];e>r&&(e=r)}this.minValue=e},o.prototype.updateMaxValue=function(){for(var t=this.data,e=t[0][0],n=0;n!==t.length;n++)for(var o=0;o!==t[n].length;o++){var r=t[n][o];r>e&&(e=r)}this.maxValue=e},o.prototype.setHeightValueAtIndex=function(t,e,n){var o=this.data;o[t][e]=n,this.clearCachedConvexTrianglePillar(t,e,!1),t>0&&(this.clearCachedConvexTrianglePillar(t-1,e,!0),this.clearCachedConvexTrianglePillar(t-1,e,!1)),e>0&&(this.clearCachedConvexTrianglePillar(t,e-1,!0),this.clearCachedConvexTrianglePillar(t,e-1,!1)),e>0&&t>0&&this.clearCachedConvexTrianglePillar(t-1,e-1,!0)},o.prototype.getRectMinMax=function(t,e,n,o,r){r=r||[];for(var i=this.data,a=this.minValue,s=t;n>=s;s++)for(var u=e;o>=u;u++){var l=i[s][u];l>a&&(a=l)}r[0]=this.minValue,r[1]=a},o.prototype.getIndexOfPosition=function(t,e,n,o){var r=this.elementSize,i=this.data,a=Math.floor(t/r),s=Math.floor(e/r);return n[0]=a,n[1]=s,o&&(0>a&&(a=0),0>s&&(s=0),a>=i.length-1&&(a=i.length-1),s>=i[0].length-1&&(s=i[0].length-1)),0>a||0>s||a>=i.length-1||s>=i[0].length-1?!1:!0},o.prototype.getHeightAt=function(t,e,n){var o=[];this.getIndexOfPosition(t,e,o,n);var r=[];return this.getRectMinMax(o[0],o[1]+1,o[0],o[1]+1,r),(r[0]+r[1])/2;
},o.prototype.getCacheConvexTrianglePillarKey=function(t,e,n){return t+"_"+e+"_"+(n?1:0)},o.prototype.getCachedConvexTrianglePillar=function(t,e,n){return this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]},o.prototype.setCachedConvexTrianglePillar=function(t,e,n,o,r){this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]={convex:o,offset:r}},o.prototype.clearCachedConvexTrianglePillar=function(t,e,n){delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]},o.prototype.getConvexTrianglePillar=function(t,e,n){var o=this.pillarConvex,r=this.pillarOffset;if(this.cacheEnabled){var s=this.getCachedConvexTrianglePillar(t,e,n);if(s)return this.pillarConvex=s.convex,void(this.pillarOffset=s.offset);o=new i,r=new a,this.pillarConvex=o,this.pillarOffset=r}var s=this.data,u=this.elementSize,l=o.faces;o.vertices.length=6;for(var c=0;6>c;c++)o.vertices[c]||(o.vertices[c]=new a);l.length=5;for(var c=0;5>c;c++)l[c]||(l[c]=[]);var p=o.vertices,h=(Math.min(s[t][e],s[t+1][e],s[t][e+1],s[t+1][e+1])-this.minValue)/2+this.minValue;n?(r.set((t+.75)*u,(e+.75)*u,h),p[0].set(.25*u,.25*u,s[t+1][e+1]-h),p[1].set(-.75*u,.25*u,s[t][e+1]-h),p[2].set(.25*u,-.75*u,s[t+1][e]-h),p[3].set(.25*u,.25*u,-h-1),p[4].set(-.75*u,.25*u,-h-1),p[5].set(.25*u,-.75*u,-h-1),l[0][0]=0,l[0][1]=1,l[0][2]=2,l[1][0]=5,l[1][1]=4,l[1][2]=3,l[2][0]=2,l[2][1]=5,l[2][2]=3,l[2][3]=0,l[3][0]=3,l[3][1]=4,l[3][2]=1,l[3][3]=0,l[4][0]=1,l[4][1]=4,l[4][2]=5,l[4][3]=2):(r.set((t+.25)*u,(e+.25)*u,h),p[0].set(-.25*u,-.25*u,s[t][e]-h),p[1].set(.75*u,-.25*u,s[t+1][e]-h),p[2].set(-.25*u,.75*u,s[t][e+1]-h),p[3].set(-.25*u,-.25*u,-h-1),p[4].set(.75*u,-.25*u,-h-1),p[5].set(-.25*u,.75*u,-h-1),l[0][0]=0,l[0][1]=1,l[0][2]=2,l[1][0]=5,l[1][1]=4,l[1][2]=3,l[2][0]=0,l[2][1]=2,l[2][2]=5,l[2][3]=3,l[3][0]=1,l[3][1]=0,l[3][2]=3,l[3][3]=4,l[4][0]=4,l[4][1]=5,l[4][2]=2,l[4][3]=1),o.computeNormals(),o.computeEdges(),o.updateBoundingSphereRadius(),this.setCachedConvexTrianglePillar(t,e,n,o,r)},o.prototype.calculateLocalInertia=function(t,e){return e=e||new a,e.set(0,0,0),e},o.prototype.volume=function(){return Number.MAX_VALUE},o.prototype.calculateWorldAABB=function(t,e,n,o){n.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),o.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.updateBoundingSphereRadius=function(){var t=this.data,e=this.elementSize;this.boundingSphereRadius=new a(t.length*e,t[0].length*e,Math.max(Math.abs(this.maxValue),Math.abs(this.minValue))).norm()}},{"../math/Vec3":30,"../utils/Utils":53,"./ConvexPolyhedron":38,"./Shape":43}],41:[function(t,e,n){function o(){r.call(this),this.type=r.types.PARTICLE}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3");o.prototype=new r,o.prototype.constructor=o,o.prototype.calculateLocalInertia=function(t,e){return e=e||new i,e.set(0,0,0),e},o.prototype.volume=function(){return 0},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=0},o.prototype.calculateWorldAABB=function(t,e,n,o){n.copy(t),o.copy(t)}},{"../math/Vec3":30,"./Shape":43}],42:[function(t,e,n){function o(){r.call(this),this.type=r.types.PLANE,this.worldNormal=new i,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3");o.prototype=new r,o.prototype.constructor=o,o.prototype.computeWorldNormal=function(t){var e=this.worldNormal;e.set(0,0,1),t.vmult(e,e),this.worldNormalNeedsUpdate=!1},o.prototype.calculateLocalInertia=function(t,e){return e=e||new i},o.prototype.volume=function(){return Number.MAX_VALUE};var a=new i;o.prototype.calculateWorldAABB=function(t,e,n,o){a.set(0,0,1),e.vmult(a,a);var r=Number.MAX_VALUE;n.set(-r,-r,-r),o.set(r,r,r),1===a.x&&(o.x=t.x),1===a.y&&(o.y=t.y),1===a.z&&(o.z=t.z),-1===a.x&&(n.x=t.x),-1===a.y&&(n.y=t.y),-1===a.z&&(n.z=t.z)},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=Number.MAX_VALUE}},{"../math/Vec3":30,"./Shape":43}],43:[function(t,e,n){function o(){this.id=o.idCounter++,this.type=0,this.boundingSphereRadius=0,this.collisionResponse=!0,this.material=null}e.exports=o;var o=t("./Shape");t("../math/Vec3"),t("../math/Quaternion"),t("../material/Material");o.prototype.constructor=o,o.prototype.updateBoundingSphereRadius=function(){throw"computeBoundingSphereRadius() not implemented for shape type "+this.type},o.prototype.volume=function(){throw"volume() not implemented for shape type "+this.type},o.prototype.calculateLocalInertia=function(t,e){throw"calculateLocalInertia() not implemented for shape type "+this.type},o.idCounter=0,o.types={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256}},{"../material/Material":25,"../math/Quaternion":28,"../math/Vec3":30,"./Shape":43}],44:[function(t,e,n){function o(t){if(r.call(this),this.radius=void 0!==t?Number(t):1,this.type=r.types.SPHERE,this.radius<0)throw new Error("The sphere radius cannot be negative.");this.updateBoundingSphereRadius()}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3");o.prototype=new r,o.prototype.constructor=o,o.prototype.calculateLocalInertia=function(t,e){e=e||new i;var n=2*t*this.radius*this.radius/5;return e.x=n,e.y=n,e.z=n,e},o.prototype.volume=function(){return 4*Math.PI*this.radius/3},o.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=this.radius},o.prototype.calculateWorldAABB=function(t,e,n,o){for(var r=this.radius,i=["x","y","z"],a=0;a<i.length;a++){var s=i[a];n[s]=t[s]-r,o[s]=t[s]+r}}},{"../math/Vec3":30,"./Shape":43}],45:[function(t,e,n){function o(t,e){r.call(this),this.type=r.types.TRIMESH,this.vertices=new Float32Array(t),this.indices=new Int16Array(e),this.normals=new Float32Array(e.length),this.aabb=new s,this.edges=null,this.scale=new i(1,1,1),this.tree=new u,this.updateEdges(),this.updateNormals(),this.updateAABB(),this.updateBoundingSphereRadius(),this.updateTree()}e.exports=o;var r=t("./Shape"),i=t("../math/Vec3"),a=(t("../math/Quaternion"),t("../math/Transform")),s=t("../collision/AABB"),u=t("../utils/Octree");o.prototype=new r,o.prototype.constructor=o;var l=new i;o.prototype.updateTree=function(){var t=this.tree;t.reset(),t.aabb.copy(this.aabb);var e=this.scale;t.aabb.lowerBound.x*=1/e.x,t.aabb.lowerBound.y*=1/e.y,t.aabb.lowerBound.z*=1/e.z,t.aabb.upperBound.x*=1/e.x,t.aabb.upperBound.y*=1/e.y,t.aabb.upperBound.z*=1/e.z;for(var n=new s,o=new i,r=new i,a=new i,u=[o,r,a],l=0;l<this.indices.length/3;l++){var c=3*l;this._getUnscaledVertex(this.indices[c],o),this._getUnscaledVertex(this.indices[c+1],r),this._getUnscaledVertex(this.indices[c+2],a),n.setFromPoints(u),t.insert(n,l)}t.removeEmptyNodes()};var c=new s;o.prototype.getTrianglesInAABB=function(t,e){c.copy(t);var n=this.scale,o=n.x,r=n.y,i=n.z,a=c.lowerBound,s=c.upperBound;return a.x/=o,a.y/=r,a.z/=i,s.x/=o,s.y/=r,s.z/=i,this.tree.aabbQuery(c,e)},o.prototype.setScale=function(t){var e=this.scale.x===this.scale.y===this.scale.z,n=t.x===t.y===t.z;e&&n||this.updateNormals(),this.scale.copy(t),this.updateAABB(),this.updateBoundingSphereRadius()},o.prototype.updateNormals=function(){for(var t=l,e=this.normals,n=0;n<this.indices.length/3;n++){var r=3*n,i=this.indices[r],a=this.indices[r+1],s=this.indices[r+2];this.getVertex(i,v),this.getVertex(a,y),this.getVertex(s,m),o.computeNormal(y,v,m,t),e[r]=t.x,e[r+1]=t.y,e[r+2]=t.z}},o.prototype.updateEdges=function(){for(var t={},e=function(e,n){var o=i>r?r+"_"+i:i+"_"+r;t[o]=!0},n=0;n<this.indices.length/3;n++){var o=3*n,r=this.indices[o],i=this.indices[o+1],a=this.indices[o+2];e(r,i),e(i,a),e(a,r)}var s=Object.keys(t);this.edges=new Int16Array(2*s.length);for(var n=0;n<s.length;n++){var u=s[n].split("_");this.edges[2*n]=parseInt(u[0],10),this.edges[2*n+1]=parseInt(u[1],10)}},o.prototype.getEdgeVertex=function(t,e,n){var o=this.edges[2*t+(e?1:0)];this.getVertex(o,n)};var p=new i,h=new i;o.prototype.getEdgeVector=function(t,e){var n=p,o=h;this.getEdgeVertex(t,0,n),this.getEdgeVertex(t,1,o),o.vsub(n,e)};var d=new i,f=new i;o.computeNormal=function(t,e,n,o){e.vsub(t,f),n.vsub(e,d),d.cross(f,o),o.isZero()||o.normalize()};var v=new i,y=new i,m=new i;o.prototype.getVertex=function(t,e){var n=this.scale;return this._getUnscaledVertex(t,e),e.x*=n.x,e.y*=n.y,e.z*=n.z,e},o.prototype._getUnscaledVertex=function(t,e){var n=3*t,o=this.vertices;return e.set(o[n],o[n+1],o[n+2])},o.prototype.getWorldVertex=function(t,e,n,o){return this.getVertex(t,o),a.pointToWorldFrame(e,n,o,o),o},o.prototype.getTriangleVertices=function(t,e,n,o){var r=3*t;this.getVertex(this.indices[r],e),this.getVertex(this.indices[r+1],n),this.getVertex(this.indices[r+2],o)},o.prototype.getNormal=function(t,e){var n=3*t;return e.set(this.normals[n],this.normals[n+1],this.normals[n+2])};var g=new s;o.prototype.calculateLocalInertia=function(t,e){this.computeLocalAABB(g);var n=g.upperBound.x-g.lowerBound.x,o=g.upperBound.y-g.lowerBound.y,r=g.upperBound.z-g.lowerBound.z;return e.set(1/12*t*(2*o*2*o+2*r*2*r),1/12*t*(2*n*2*n+2*r*2*r),1/12*t*(2*o*2*o+2*n*2*n))};var b=new i;o.prototype.computeLocalAABB=function(t){var e=t.lowerBound,n=t.upperBound,o=this.vertices.length,r=(this.vertices,b);this.getVertex(0,r),e.copy(r),n.copy(r);for(var i=0;i!==o;i++)this.getVertex(i,r),r.x<e.x?e.x=r.x:r.x>n.x&&(n.x=r.x),r.y<e.y?e.y=r.y:r.y>n.y&&(n.y=r.y),r.z<e.z?e.z=r.z:r.z>n.z&&(n.z=r.z)},o.prototype.updateAABB=function(){this.computeLocalAABB(this.aabb)},o.prototype.updateBoundingSphereRadius=function(){for(var t=0,e=this.vertices,n=new i,o=0,r=e.length/3;o!==r;o++){this.getVertex(o,n);var a=n.norm2();a>t&&(t=a)}this.boundingSphereRadius=Math.sqrt(t)};var w=(new i,new a),x=new s;o.prototype.calculateWorldAABB=function(t,e,n,o){var r=w,i=x;r.position=t,r.quaternion=e,this.aabb.toWorldFrame(r,i),n.copy(i.lowerBound),o.copy(i.upperBound)},o.prototype.volume=function(){return 4*Math.PI*this.boundingSphereRadius/3},o.createTorus=function(t,e,n,r,i){t=t||1,e=e||.5,n=n||8,r=r||6,i=i||2*Math.PI;for(var a=[],s=[],u=0;n>=u;u++)for(var l=0;r>=l;l++){var c=l/r*i,p=u/n*Math.PI*2,h=(t+e*Math.cos(p))*Math.cos(c),d=(t+e*Math.cos(p))*Math.sin(c),f=e*Math.sin(p);a.push(h,d,f)}for(var u=1;n>=u;u++)for(var l=1;r>=l;l++){var v=(r+1)*u+l-1,y=(r+1)*(u-1)+l-1,m=(r+1)*(u-1)+l,g=(r+1)*u+l;s.push(v,y,g),s.push(y,m,g)}return new o(a,s)}},{"../collision/AABB":3,"../math/Quaternion":28,"../math/Transform":29,"../math/Vec3":30,"../utils/Octree":50,"./Shape":43}],46:[function(t,e,n){function o(){r.call(this),this.iterations=10,this.tolerance=1e-7}e.exports=o;var r=(t("../math/Vec3"),t("../math/Quaternion"),t("./Solver"));o.prototype=new r;var i=[],a=[],s=[];o.prototype.solve=function(t,e){var n,o,r,u,l,c,p=0,h=this.iterations,d=this.tolerance*this.tolerance,f=this.equations,v=f.length,y=e.bodies,m=y.length,g=t;if(0!==v)for(var b=0;b!==m;b++)y[b].updateSolveMassProperties();var w=a,x=s,C=i;w.length=v,x.length=v,C.length=v;for(var b=0;b!==v;b++){var E=f[b];C[b]=0,x[b]=E.computeB(g),w[b]=1/E.computeC()}if(0!==v){for(var b=0;b!==m;b++){var S=y[b],M=S.vlambda,_=S.wlambda;M.set(0,0,0),_&&_.set(0,0,0)}for(p=0;p!==h;p++){u=0;for(var P=0;P!==v;P++){var E=f[P];n=x[P],o=w[P],c=C[P],l=E.computeGWlambda(),r=o*(n-l-E.eps*c),c+r<E.minForce?r=E.minForce-c:c+r>E.maxForce&&(r=E.maxForce-c),C[P]+=r,u+=r>0?r:-r,E.addToWlambda(r)}if(d>u*u)break}for(var b=0;b!==m;b++){var S=y[b],R=S.velocity,A=S.angularVelocity;R.vadd(S.vlambda,R),A&&A.vadd(S.wlambda,A)}}return p}},{"../math/Quaternion":28,"../math/Vec3":30,"./Solver":47}],47:[function(t,e,n){function o(){this.equations=[]}e.exports=o,o.prototype.solve=function(t,e){return 0},o.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},o.prototype.removeEquation=function(t){var e=this.equations,n=e.indexOf(t);-1!==n&&e.splice(n,1)},o.prototype.removeAllEquations=function(){this.equations.length=0}},{}],48:[function(t,e,n){function o(t){for(u.call(this),this.iterations=10,this.tolerance=1e-7,this.subsolver=t,this.nodes=[],this.nodePool=[];this.nodePool.length<128;)this.nodePool.push(this.createNode())}function r(t){for(var e=t.length,n=0;n!==e;n++){var o=t[n];if(!(o.visited||o.body.type&d))return o}return!1}function i(t,e,n,o){for(f.push(t),t.visited=!0,e(t,n,o);f.length;)for(var i,a=f.pop();i=r(a.children);)i.visited=!0,e(i,n,o),f.push(i)}function a(t,e,n){e.push(t.body);for(var o=t.eqs.length,r=0;r!==o;r++){var i=t.eqs[r];-1===n.indexOf(i)&&n.push(i)}}function s(t,e){return e.id-t.id}e.exports=o;var u=(t("../math/Vec3"),t("../math/Quaternion"),t("./Solver")),l=t("../objects/Body");o.prototype=new u;var c=[],p=[],h={bodies:[]},d=l.STATIC,f=[];o.prototype.createNode=function(){return{body:null,children:[],eqs:[],visited:!1}},o.prototype.solve=function(t,e){for(var n=c,o=this.nodePool,u=e.bodies,l=this.equations,d=l.length,f=u.length,v=this.subsolver;o.length<f;)o.push(this.createNode());n.length=f;for(var y=0;f>y;y++)n[y]=o[y];for(var y=0;y!==f;y++){var m=n[y];m.body=u[y],m.children.length=0,m.eqs.length=0,m.visited=!1}for(var g=0;g!==d;g++){var b=l[g],y=u.indexOf(b.bi),w=u.indexOf(b.bj),x=n[y],C=n[w];x.children.push(C),x.eqs.push(b),C.children.push(x),C.eqs.push(b)}var E,S=0,M=p;v.tolerance=this.tolerance,v.iterations=this.iterations;for(var _=h;E=r(n);){M.length=0,_.bodies.length=0,i(E,a,_.bodies,M);var P=M.length;M=M.sort(s);for(var y=0;y!==P;y++)v.addEquation(M[y]);v.solve(t,_);v.removeAllEquations(),S++}return S}},{"../math/Quaternion":28,"../math/Vec3":30,"../objects/Body":31,"./Solver":47}],49:[function(t,e,n){var o=function(){};e.exports=o,o.prototype={constructor:o,addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e),this},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)?!0:!1},removeEventListener:function(t,e){if(void 0===this._listeners)return this;var n=this._listeners;if(void 0===n[t])return this;var o=n[t].indexOf(e);return-1!==o&&n[t].splice(o,1),this},dispatchEvent:function(t){if(void 0===this._listeners)return this;var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var o=0,r=n.length;r>o;o++)n[o].call(this,t)}return this}}},{}],50:[function(t,e,n){function o(t){t=t||{},this.root=t.root||null,this.aabb=t.aabb?t.aabb.clone():new i,this.data=[],this.children=[]}function r(t,e){e=e||{},e.root=null,e.aabb=t,o.call(this,e),this.maxDepth="undefined"!=typeof e.maxDepth?e.maxDepth:8}var i=t("../collision/AABB"),a=t("../math/Vec3");e.exports=r,r.prototype=new o,o.prototype.reset=function(t,e){this.children.length=this.data.length=0},o.prototype.insert=function(t,e,n){var o=this.data;if(n=n||0,!this.aabb.contains(t))return!1;var r=this.children;if(n<(this.maxDepth||this.root.maxDepth)){var i=!1;r.length||(this.subdivide(),i=!0);for(var a=0;8!==a;a++)if(r[a].insert(t,e,n+1))return!0;i&&(r.length=0)}return o.push(e),!0};var s=new a;o.prototype.subdivide=function(){var t=this.aabb,e=t.lowerBound,n=t.upperBound,r=this.children;r.push(new o({aabb:new i({lowerBound:new a(0,0,0)})}),new o({aabb:new i({lowerBound:new a(1,0,0)})}),new o({aabb:new i({lowerBound:new a(1,1,0)})}),new o({aabb:new i({lowerBound:new a(1,1,1)})}),new o({aabb:new i({lowerBound:new a(0,1,1)})}),new o({aabb:new i({lowerBound:new a(0,0,1)})}),new o({aabb:new i({lowerBound:new a(1,0,1)})}),new o({aabb:new i({lowerBound:new a(0,1,0)})})),n.vsub(e,s),s.scale(.5,s);for(var u=this.root||this,l=0;8!==l;l++){var c=r[l];c.root=u;var p=c.aabb.lowerBound;p.x*=s.x,p.y*=s.y,p.z*=s.z,p.vadd(e,p),p.vadd(s,c.aabb.upperBound)}},o.prototype.aabbQuery=function(t,e){for(var n=(this.data,this.children,[this]);n.length;){var o=n.pop();o.aabb.overlaps(t)&&Array.prototype.push.apply(e,o.data),Array.prototype.push.apply(n,o.children)}return e};var u=new i;o.prototype.rayQuery=function(t,e,n){return t.getAABB(u),u.toLocalFrame(e,u),this.aabbQuery(u,n),n},o.prototype.removeEmptyNodes=function(){for(var t=[this];t.length;){for(var e=t.pop(),n=e.children.length-1;n>=0;n--)e.children[n].data.length||e.children.splice(n,1);Array.prototype.push.apply(t,e.children)}}},{"../collision/AABB":3,"../math/Vec3":30}],51:[function(t,e,n){function o(){this.objects=[],this.type=Object}e.exports=o,o.prototype.release=function(){for(var t=arguments.length,e=0;e!==t;e++)this.objects.push(arguments[e])},o.prototype.get=function(){return 0===this.objects.length?this.constructObject():this.objects.pop()},o.prototype.constructObject=function(){throw new Error("constructObject() not implemented in this Pool subclass yet!")}},{}],52:[function(t,e,n){function o(){this.data={keys:[]}}e.exports=o,o.prototype.get=function(t,e){if(t>e){var n=e;e=t,t=n}return this.data[t+"-"+e]},o.prototype.set=function(t,e,n){if(t>e){var o=e;e=t,t=o}var r=t+"-"+e;this.get(t,e)||this.data.keys.push(r),this.data[r]=n},o.prototype.reset=function(){for(var t=this.data,e=t.keys;e.length>0;){var n=e.pop();delete t[n]}}},{}],53:[function(t,e,n){function o(){}e.exports=o,o.defaults=function(t,e){t=t||{};for(var n in e)n in t||(t[n]=e[n]);return t}},{}],54:[function(t,e,n){function o(){i.call(this),this.type=r}e.exports=o;var r=t("../math/Vec3"),i=t("./Pool");o.prototype=new i,o.prototype.constructObject=function(){return new r}},{"../math/Vec3":30,"./Pool":51}],55:[function(t,e,n){function o(t){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new p,this.world=t,this.currentContactMaterial=null,this.enableFrictionReduction=!1}function r(t,e,n){for(var o=null,r=t.length,i=0;i!==r;i++){var a=t[i],s=q;t[(i+1)%r].vsub(a,s);var u=z;s.cross(e,u);var l=W;n.vsub(a,l);var c=u.dot(l);if(!(null===o||c>0&&o===!0||0>=c&&o===!1))return!1;null===o&&(o=c>0)}return!0}e.exports=o;var i=t("../collision/AABB"),a=t("../shapes/Shape"),s=t("../collision/Ray"),u=t("../math/Vec3"),l=t("../math/Transform"),c=(t("../shapes/ConvexPolyhedron"),t("../math/Quaternion")),p=(t("../solver/Solver"),t("../utils/Vec3Pool")),h=t("../equations/ContactEquation"),d=t("../equations/FrictionEquation");o.prototype.createContactEquation=function(t,e,n,o,r,i){var a;this.contactPointPool.length?(a=this.contactPointPool.pop(),a.bi=t,a.bj=e):a=new h(t,e),a.enabled=t.collisionResponse&&e.collisionResponse&&n.collisionResponse&&o.collisionResponse;var s=this.currentContactMaterial;a.restitution=s.restitution,a.setSpookParams(s.contactEquationStiffness,s.contactEquationRelaxation,this.world.dt);var u=n.material||t.material,l=o.material||e.material;return u&&l&&u.restitution>=0&&l.restitution>=0&&(a.restitution=u.restitution*l.restitution),a.si=r||n,a.sj=i||o,a},o.prototype.createFrictionEquationsFromContact=function(t,e){var n=t.bi,o=t.bj,r=t.si,i=t.sj,a=this.world,s=this.currentContactMaterial,u=s.friction,l=r.material||n.material,c=i.material||o.material;if(l&&c&&l.friction>=0&&c.friction>=0&&(u=l.friction*c.friction),u>0){var p=u*a.gravity.length(),h=n.invMass+o.invMass;h>0&&(h=1/h);var f=this.frictionEquationPool,v=f.length?f.pop():new d(n,o,p*h),y=f.length?f.pop():new d(n,o,p*h);return v.bi=y.bi=n,v.bj=y.bj=o,v.minForce=y.minForce=-p*h,v.maxForce=y.maxForce=p*h,v.ri.copy(t.ri),v.rj.copy(t.rj),y.ri.copy(t.ri),y.rj.copy(t.rj),t.ni.tangents(v.t,y.t),v.setSpookParams(s.frictionEquationStiffness,s.frictionEquationRelaxation,a.dt),y.setSpookParams(s.frictionEquationStiffness,s.frictionEquationRelaxation,a.dt),v.enabled=y.enabled=t.enabled,e.push(v,y),!0}return!1};var f=new u,v=new u,y=new u;o.prototype.createFrictionFromAverage=function(t){var e=this.result[this.result.length-1];if(this.createFrictionEquationsFromContact(e,this.frictionResult)&&1!==t){var n=this.frictionResult[this.frictionResult.length-2],o=this.frictionResult[this.frictionResult.length-1];f.setZero(),v.setZero(),y.setZero();for(var r=e.bi,i=(e.bj,0);i!==t;i++)e=this.result[this.result.length-1-i],e.bodyA!==r?(f.vadd(e.ni,f),v.vadd(e.ri,v),y.vadd(e.rj,y)):(f.vsub(e.ni,f),v.vadd(e.rj,v),y.vadd(e.ri,y));var a=1/t;v.scale(a,n.ri),y.scale(a,n.rj),o.ri.copy(n.ri),o.rj.copy(n.rj),f.normalize(),f.tangents(n.t,o.t)}};var m=new u,g=new u,b=new c,w=new c;o.prototype.getContacts=function(t,e,n,o,r,i,a){this.contactPointPool=r,this.frictionEquationPool=a,this.result=o,this.frictionResult=i;for(var s=b,u=w,l=m,c=g,p=0,h=t.length;p!==h;p++){var d=t[p],f=e[p],v=null;d.material&&f.material&&(v=n.getContactMaterial(d.material,f.material)||null);for(var y=0;y<d.shapes.length;y++){d.quaternion.mult(d.shapeOrientations[y],s),d.quaternion.vmult(d.shapeOffsets[y],l),l.vadd(d.position,l);for(var x=d.shapes[y],C=0;C<f.shapes.length;C++){f.quaternion.mult(f.shapeOrientations[C],u),f.quaternion.vmult(f.shapeOffsets[C],c),c.vadd(f.position,c);var E=f.shapes[C];if(!(l.distanceTo(c)>x.boundingSphereRadius+E.boundingSphereRadius)){var S=null;x.material&&E.material&&(S=n.getContactMaterial(x.material,E.material)||null),this.currentContactMaterial=S||v||n.defaultContactMaterial;var M=this[x.type|E.type];M&&(x.type<E.type?M.call(this,x,E,l,c,s,u,d,f,x,E):M.call(this,E,x,c,l,u,s,f,d,x,E))}}}}};o.prototype[a.types.BOX|a.types.BOX]=o.prototype.boxBox=function(t,e,n,o,r,i,a,s){t.convexPolyhedronRepresentation.material=t.material,e.convexPolyhedronRepresentation.material=e.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(t.convexPolyhedronRepresentation,e.convexPolyhedronRepresentation,n,o,r,i,a,s,t,e)},o.prototype[a.types.BOX|a.types.CONVEXPOLYHEDRON]=o.prototype.boxConvex=function(t,e,n,o,r,i,a,s){t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexConvex(t.convexPolyhedronRepresentation,e,n,o,r,i,a,s,t,e)},o.prototype[a.types.BOX|a.types.PARTICLE]=o.prototype.boxParticle=function(t,e,n,o,r,i,a,s){t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexParticle(t.convexPolyhedronRepresentation,e,n,o,r,i,a,s,t,e)},o.prototype[a.types.SPHERE]=o.prototype.sphereSphere=function(t,e,n,o,r,i,a,s){var u=this.createContactEquation(a,s,t,e);o.vsub(n,u.ni),u.ni.normalize(),u.ri.copy(u.ni),u.rj.copy(u.ni),u.ri.mult(t.radius,u.ri),u.rj.mult(-e.radius,u.rj),u.ri.vadd(n,u.ri),u.ri.vsub(a.position,u.ri),u.rj.vadd(o,u.rj),u.rj.vsub(s.position,u.rj),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)};var x=new u,C=new u,E=new u;o.prototype[a.types.PLANE|a.types.TRIMESH]=o.prototype.planeTrimesh=function(t,e,n,o,r,i,a,s){var c=new u,p=x;p.set(0,0,1),r.vmult(p,p);for(var h=0;h<e.vertices.length/3;h++){e.getVertex(h,c);var d=new u;d.copy(c),l.pointToWorldFrame(o,i,d,c);var f=C;c.vsub(n,f);var v=p.dot(f);if(0>=v){var y=this.createContactEquation(a,s,t,e);y.ni.copy(p);var m=E;p.scale(f.dot(p),m),c.vsub(m,m),y.ri.copy(m),y.ri.vsub(a.position,y.ri),y.rj.copy(c),y.rj.vsub(s.position,y.rj),this.result.push(y),this.createFrictionEquationsFromContact(y,this.frictionResult)}}};var S=new u,M=new u,_=(new u,new u),P=new u,R=new u,A=new u,N=new u,T=new u,I=new u,B=new u,D=new u,O=new u,k=new u,L=new i,F=[];o.prototype[a.types.SPHERE|a.types.TRIMESH]=o.prototype.sphereTrimesh=function(t,e,n,o,r,i,a,u){var c=R,p=A,h=N,d=T,f=I,v=B,y=L,m=P,g=M,b=F;l.pointToLocalFrame(o,i,n,f);var w=t.radius;y.lowerBound.set(f.x-w,f.y-w,f.z-w),y.upperBound.set(f.x+w,f.y+w,f.z+w),e.getTrianglesInAABB(y,b);for(var x=_,C=t.radius*t.radius,E=0;E<b.length;E++)for(var V=0;3>V;V++)if(e.getVertex(e.indices[3*b[E]+V],x),x.vsub(f,g),g.norm2()<=C){m.copy(x),l.pointToWorldFrame(o,i,m,x),x.vsub(n,g);var j=this.createContactEquation(a,u,t,e);j.ni.copy(g),j.ni.normalize(),j.ri.copy(j.ni),j.ri.scale(t.radius,j.ri),j.ri.vadd(n,j.ri),j.ri.vsub(a.position,j.ri),j.rj.copy(x),j.rj.vsub(u.position,j.rj),this.result.push(j),this.createFrictionEquationsFromContact(j,this.frictionResult)}for(var E=0;E<b.length;E++)for(var V=0;3>V;V++){e.getVertex(e.indices[3*b[E]+V],c),e.getVertex(e.indices[3*b[E]+(V+1)%3],p),p.vsub(c,h),f.vsub(p,v);var q=v.dot(h);f.vsub(c,v);var z=v.dot(h);if(z>0&&0>q){f.vsub(c,v),d.copy(h),d.normalize(),z=v.dot(d),d.scale(z,v),v.vadd(c,v);var W=v.distanceTo(f);if(W<t.radius){var j=this.createContactEquation(a,u,t,e);v.vsub(f,j.ni),j.ni.normalize(),j.ni.scale(t.radius,j.ri),l.pointToWorldFrame(o,i,v,v),v.vsub(u.position,j.rj),l.vectorToWorldFrame(i,j.ni,j.ni),l.vectorToWorldFrame(i,j.ri,j.ri),this.result.push(j),this.createFrictionEquationsFromContact(j,this.frictionResult)}}}for(var U=D,H=O,K=k,G=S,E=0,Y=b.length;E!==Y;E++){e.getTriangleVertices(b[E],U,H,K),e.getNormal(b[E],G),f.vsub(U,v);var W=v.dot(G);if(G.scale(W,v),f.vsub(v,v),W=v.distanceTo(f),s.pointInTriangle(v,U,H,K)&&W<t.radius){var j=this.createContactEquation(a,u,t,e);v.vsub(f,j.ni),j.ni.normalize(),j.ni.scale(t.radius,j.ri),l.pointToWorldFrame(o,i,v,v),v.vsub(u.position,j.rj),l.vectorToWorldFrame(i,j.ni,j.ni),l.vectorToWorldFrame(i,j.ri,j.ri),this.result.push(j),this.createFrictionEquationsFromContact(j,this.frictionResult)}}b.length=0};var V=new u,j=new u;o.prototype[a.types.SPHERE|a.types.PLANE]=o.prototype.spherePlane=function(t,e,n,o,r,i,a,s){var u=this.createContactEquation(a,s,t,e);if(u.ni.set(0,0,1),i.vmult(u.ni,u.ni),u.ni.negate(u.ni),u.ni.normalize(),u.ni.mult(t.radius,u.ri),n.vsub(o,V),u.ni.mult(u.ni.dot(V),j),V.vsub(j,u.rj),-V.dot(u.ni)<=t.radius){var l=u.ri,c=u.rj;l.vadd(n,l),l.vsub(a.position,l),c.vadd(o,c),c.vsub(s.position,c),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)}};var q=new u,z=new u,W=new u,U=new u,H=new u,K=new u,G=new u,Y=[new u,new u,new u,new u,new u,new u],X=new u,Q=new u,Z=new u,$=new u;o.prototype[a.types.SPHERE|a.types.BOX]=o.prototype.sphereBox=function(t,e,n,o,r,i,a,s){var u=this.v3pool,l=Y;n.vsub(o,U),e.getSideNormals(l,i);for(var c=t.radius,p=!1,h=Q,d=Z,f=$,v=null,y=0,m=0,g=0,b=null,w=0,x=l.length;w!==x&&p===!1;w++){var C=H;C.copy(l[w]);var E=C.norm();C.normalize();var S=U.dot(C);if(E+c>S&&S>0){var M=K,_=G;M.copy(l[(w+1)%3]),_.copy(l[(w+2)%3]);var P=M.norm(),R=_.norm();M.normalize(),_.normalize();var A=U.dot(M),N=U.dot(_);if(P>A&&A>-P&&R>N&&N>-R){var T=Math.abs(S-E-c);(null===b||b>T)&&(b=T,m=A,g=N,v=E,h.copy(C),d.copy(M),f.copy(_),y++)}}}if(y){p=!0;var I=this.createContactEquation(a,s,t,e);h.mult(-c,I.ri),I.ni.copy(h),I.ni.negate(I.ni),h.mult(v,h),d.mult(m,d),h.vadd(d,h),f.mult(g,f),h.vadd(f,I.rj),I.ri.vadd(n,I.ri),I.ri.vsub(a.position,I.ri),I.rj.vadd(o,I.rj),I.rj.vsub(s.position,I.rj),this.result.push(I),this.createFrictionEquationsFromContact(I,this.frictionResult)}for(var B=u.get(),D=X,O=0;2!==O&&!p;O++)for(var k=0;2!==k&&!p;k++)for(var L=0;2!==L&&!p;L++)if(B.set(0,0,0),O?B.vadd(l[0],B):B.vsub(l[0],B),k?B.vadd(l[1],B):B.vsub(l[1],B),L?B.vadd(l[2],B):B.vsub(l[2],B),o.vadd(B,D),D.vsub(n,D),D.norm2()<c*c){p=!0;var I=this.createContactEquation(a,s,t,e);I.ri.copy(D),I.ri.normalize(),I.ni.copy(I.ri),I.ri.mult(c,I.ri),I.rj.copy(B),I.ri.vadd(n,I.ri),I.ri.vsub(a.position,I.ri),I.rj.vadd(o,I.rj),I.rj.vsub(s.position,I.rj),this.result.push(I),this.createFrictionEquationsFromContact(I,this.frictionResult)}u.release(B),B=null;for(var F=u.get(),V=u.get(),I=u.get(),j=u.get(),T=u.get(),q=l.length,O=0;O!==q&&!p;O++)for(var k=0;k!==q&&!p;k++)if(O%3!==k%3){l[k].cross(l[O],F),F.normalize(),l[O].vadd(l[k],V),I.copy(n),I.vsub(V,I),I.vsub(o,I);var z=I.dot(F);F.mult(z,j);for(var L=0;L===O%3||L===k%3;)L++;T.copy(n),T.vsub(j,T),T.vsub(V,T),T.vsub(o,T);var W=Math.abs(z),J=T.norm();if(W<l[L].norm()&&c>J){p=!0;var tt=this.createContactEquation(a,s,t,e);V.vadd(j,tt.rj),tt.rj.copy(tt.rj),T.negate(tt.ni),tt.ni.normalize(),tt.ri.copy(tt.rj),tt.ri.vadd(o,tt.ri),tt.ri.vsub(n,tt.ri),tt.ri.normalize(),tt.ri.mult(c,tt.ri),tt.ri.vadd(n,tt.ri),tt.ri.vsub(a.position,tt.ri),tt.rj.vadd(o,tt.rj),tt.rj.vsub(s.position,tt.rj),this.result.push(tt),this.createFrictionEquationsFromContact(tt,this.frictionResult)}}u.release(F,V,I,j,T)};var J=new u,tt=new u,et=new u,nt=new u,ot=new u,rt=new u,it=new u,at=new u,st=new u,ut=new u;o.prototype[a.types.SPHERE|a.types.CONVEXPOLYHEDRON]=o.prototype.sphereConvex=function(t,e,n,o,i,a,s,u){var l=this.v3pool;n.vsub(o,J);for(var c=e.faceNormals,p=e.faces,h=e.vertices,d=t.radius,f=0;f!==h.length;f++){var v=h[f],y=ot;a.vmult(v,y),o.vadd(y,y);var m=nt;if(y.vsub(n,m),m.norm2()<d*d){b=!0;var g=this.createContactEquation(s,u,t,e);return g.ri.copy(m),g.ri.normalize(),g.ni.copy(g.ri),g.ri.mult(d,g.ri),y.vsub(o,g.rj),g.ri.vadd(n,g.ri),g.ri.vsub(s.position,g.ri),g.rj.vadd(o,g.rj),g.rj.vsub(u.position,g.rj),this.result.push(g),void this.createFrictionEquationsFromContact(g,this.frictionResult)}}for(var b=!1,f=0,w=p.length;f!==w&&b===!1;f++){var x=c[f],C=p[f],E=rt;a.vmult(x,E);var S=it;a.vmult(h[C[0]],S),S.vadd(o,S);var M=at;E.mult(-d,M),n.vadd(M,M);var _=st;M.vsub(S,_);var P=_.dot(E),R=ut;if(n.vsub(S,R),0>P&&R.dot(E)>0){for(var A=[],N=0,T=C.length;N!==T;N++){var I=l.get();a.vmult(h[C[N]],I),o.vadd(I,I),A.push(I)}if(r(A,E,n)){b=!0;var g=this.createContactEquation(s,u,t,e);E.mult(-d,g.ri),E.negate(g.ni);var B=l.get();E.mult(-P,B);var D=l.get();E.mult(-d,D),n.vsub(o,g.rj),g.rj.vadd(D,g.rj),g.rj.vadd(B,g.rj),g.rj.vadd(o,g.rj),g.rj.vsub(u.position,g.rj),g.ri.vadd(n,g.ri),g.ri.vsub(s.position,g.ri),l.release(B),l.release(D),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult);for(var N=0,O=A.length;N!==O;N++)l.release(A[N]);return}for(var N=0;N!==C.length;N++){var k=l.get(),L=l.get();a.vmult(h[C[(N+1)%C.length]],k),a.vmult(h[C[(N+2)%C.length]],L),o.vadd(k,k),o.vadd(L,L);var F=tt;L.vsub(k,F);var V=et;F.unit(V);var j=l.get(),q=l.get();n.vsub(k,q);var z=q.dot(V);V.mult(z,j),j.vadd(k,j);var W=l.get();if(j.vsub(n,W),z>0&&z*z<F.norm2()&&W.norm2()<d*d){var g=this.createContactEquation(s,u,t,e);j.vsub(o,g.rj),j.vsub(n,g.ni),g.ni.normalize(),g.ni.mult(d,g.ri),g.rj.vadd(o,g.rj),g.rj.vsub(u.position,g.rj),g.ri.vadd(n,g.ri),g.ri.vsub(s.position,g.ri),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult);for(var N=0,O=A.length;N!==O;N++)l.release(A[N]);return l.release(k),l.release(L),l.release(j),l.release(W),void l.release(q)}l.release(k),l.release(L),l.release(j),l.release(W),l.release(q)}for(var N=0,O=A.length;N!==O;N++)l.release(A[N])}}};new u,new u;o.prototype[a.types.PLANE|a.types.BOX]=o.prototype.planeBox=function(t,e,n,o,r,i,a,s){e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.planeConvex(t,e.convexPolyhedronRepresentation,n,o,r,i,a,s)};var lt=new u,ct=new u,pt=new u,ht=new u;o.prototype[a.types.PLANE|a.types.CONVEXPOLYHEDRON]=o.prototype.planeConvex=function(t,e,n,o,r,i,a,s){var u=lt,l=ct;l.set(0,0,1),r.vmult(l,l);for(var c=0,p=pt,h=0;h!==e.vertices.length;h++){u.copy(e.vertices[h]),i.vmult(u,u),o.vadd(u,u),u.vsub(n,p);var d=l.dot(p);if(0>=d){var f=this.createContactEquation(a,s,t,e),v=ht;l.mult(l.dot(p),v),u.vsub(v,v),v.vsub(n,f.ri),f.ni.copy(l),u.vsub(o,f.rj),f.ri.vadd(n,f.ri),f.ri.vsub(a.position,f.ri),f.rj.vadd(o,f.rj),f.rj.vsub(s.position,f.rj),this.result.push(f),c++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(f,this.frictionResult)}}this.enableFrictionReduction&&c&&this.createFrictionFromAverage(c)};var dt=new u,ft=new u;o.prototype[a.types.CONVEXPOLYHEDRON]=o.prototype.convexConvex=function(t,e,n,o,r,i,a,s,u,l,c,p){var h=dt;if(!(n.distanceTo(o)>t.boundingSphereRadius+e.boundingSphereRadius)&&t.findSeparatingAxis(e,n,r,o,i,h,c,p)){var d=[],f=ft;t.clipAgainstHull(n,r,e,o,i,h,-100,100,d);for(var v=0,y=0;y!==d.length;y++){var m=this.createContactEquation(a,s,t,e,u,l),g=m.ri,b=m.rj;h.negate(m.ni),d[y].normal.negate(f),f.mult(d[y].depth,f),d[y].point.vadd(f,g),b.copy(d[y].point),g.vsub(n,g),b.vsub(o,b),g.vadd(n,g),g.vsub(a.position,g),b.vadd(o,b),b.vsub(s.position,b),this.result.push(m),v++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(m,this.frictionResult)}this.enableFrictionReduction&&v&&this.createFrictionFromAverage(v)}};var vt=new u,yt=new u,mt=new u;
o.prototype[a.types.PLANE|a.types.PARTICLE]=o.prototype.planeParticle=function(t,e,n,o,r,i,a,s){var u=vt;u.set(0,0,1),a.quaternion.vmult(u,u);var l=yt;o.vsub(a.position,l);var c=u.dot(l);if(0>=c){var p=this.createContactEquation(s,a,e,t);p.ni.copy(u),p.ni.negate(p.ni),p.ri.set(0,0,0);var h=mt;u.mult(u.dot(o),h),o.vsub(h,h),p.rj.copy(h),this.result.push(p),this.createFrictionEquationsFromContact(p,this.frictionResult)}};var gt=new u;o.prototype[a.types.PARTICLE|a.types.SPHERE]=o.prototype.sphereParticle=function(t,e,n,o,r,i,a,s){var u=gt;u.set(0,0,1),o.vsub(n,u);var l=u.norm2();if(l<=t.radius*t.radius){var c=this.createContactEquation(s,a,e,t);u.normalize(),c.rj.copy(u),c.rj.mult(t.radius,c.rj),c.ni.copy(u),c.ni.negate(c.ni),c.ri.set(0,0,0),this.result.push(c),this.createFrictionEquationsFromContact(c,this.frictionResult)}};var bt=new c,wt=new u,xt=(new u,new u),Ct=new u,Et=new u;o.prototype[a.types.PARTICLE|a.types.CONVEXPOLYHEDRON]=o.prototype.convexParticle=function(t,e,n,o,r,i,a,s){var u=-1,l=xt,c=Et,p=null,h=0,d=wt;if(d.copy(o),d.vsub(n,d),r.conjugate(bt),bt.vmult(d,d),t.pointIsInside(d)){t.worldVerticesNeedsUpdate&&t.computeWorldVertices(n,r),t.worldFaceNormalsNeedsUpdate&&t.computeWorldFaceNormals(r);for(var f=0,v=t.faces.length;f!==v;f++){var y=[t.worldVertices[t.faces[f][0]]],m=t.worldFaceNormals[f];o.vsub(y[0],Ct);var g=-m.dot(Ct);(null===p||Math.abs(g)<Math.abs(p))&&(p=g,u=f,l.copy(m),h++)}if(-1!==u){var b=this.createContactEquation(s,a,e,t);l.mult(p,c),c.vadd(o,c),c.vsub(n,c),b.rj.copy(c),l.negate(b.ni),b.ri.set(0,0,0);var w=b.ri,x=b.rj;w.vadd(o,w),w.vsub(s.position,w),x.vadd(n,x),x.vsub(a.position,x),this.result.push(b),this.createFrictionEquationsFromContact(b,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}},o.prototype[a.types.BOX|a.types.HEIGHTFIELD]=o.prototype.boxHeightfield=function(t,e,n,o,r,i,a,s){t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexHeightfield(t.convexPolyhedronRepresentation,e,n,o,r,i,a,s)};var St=new u,Mt=new u,_t=[0];o.prototype[a.types.CONVEXPOLYHEDRON|a.types.HEIGHTFIELD]=o.prototype.convexHeightfield=function(t,e,n,o,r,i,a,s){var u=e.data,c=e.elementSize,p=t.boundingSphereRadius,h=Mt,d=_t,f=St;l.pointToLocalFrame(o,i,n,f);var v=Math.floor((f.x-p)/c)-1,y=Math.ceil((f.x+p)/c)+1,m=Math.floor((f.y-p)/c)-1,g=Math.ceil((f.y+p)/c)+1;if(!(0>y||0>g||v>u.length||m>u[0].length)){0>v&&(v=0),0>y&&(y=0),0>m&&(m=0),0>g&&(g=0),v>=u.length&&(v=u.length-1),y>=u.length&&(y=u.length-1),g>=u[0].length&&(g=u[0].length-1),m>=u[0].length&&(m=u[0].length-1);var b=[];e.getRectMinMax(v,m,y,g,b);var w=b[0],x=b[1];if(!(f.z-p>x||f.z+p<w))for(var C=v;y>C;C++)for(var E=m;g>E;E++)e.getConvexTrianglePillar(C,E,!1),l.pointToWorldFrame(o,i,e.pillarOffset,h),n.distanceTo(h)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.convexConvex(t,e.pillarConvex,n,h,r,i,a,s,null,null,d,null),e.getConvexTrianglePillar(C,E,!0),l.pointToWorldFrame(o,i,e.pillarOffset,h),n.distanceTo(h)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.convexConvex(t,e.pillarConvex,n,h,r,i,a,s,null,null,d,null)}};var Pt=new u,Rt=new u;o.prototype[a.types.SPHERE|a.types.HEIGHTFIELD]=o.prototype.sphereHeightfield=function(t,e,n,o,r,i,a,s){var u=e.data,c=t.radius,p=e.elementSize,h=Rt,d=Pt;l.pointToLocalFrame(o,i,n,d);var f=Math.floor((d.x-c)/p)-1,v=Math.ceil((d.x+c)/p)+1,y=Math.floor((d.y-c)/p)-1,m=Math.ceil((d.y+c)/p)+1;if(!(0>v||0>m||f>u.length||m>u[0].length)){0>f&&(f=0),0>v&&(v=0),0>y&&(y=0),0>m&&(m=0),f>=u.length&&(f=u.length-1),v>=u.length&&(v=u.length-1),m>=u[0].length&&(m=u[0].length-1),y>=u[0].length&&(y=u[0].length-1);var g=[];e.getRectMinMax(f,y,v,m,g);var b=g[0],w=g[1];if(!(d.z-c>w||d.z+c<b))for(var x=this.result,C=f;v>C;C++)for(var E=y;m>E;E++){var S=x.length;e.getConvexTrianglePillar(C,E,!1),l.pointToWorldFrame(o,i,e.pillarOffset,h),n.distanceTo(h)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.sphereConvex(t,e.pillarConvex,n,h,r,i,a,s),e.getConvexTrianglePillar(C,E,!0),l.pointToWorldFrame(o,i,e.pillarOffset,h),n.distanceTo(h)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&this.sphereConvex(t,e.pillarConvex,n,h,r,i,a,s);var M=x.length-S;if(M>2)return}}}},{"../collision/AABB":3,"../collision/Ray":9,"../equations/ContactEquation":19,"../equations/FrictionEquation":21,"../math/Quaternion":28,"../math/Transform":29,"../math/Vec3":30,"../shapes/ConvexPolyhedron":38,"../shapes/Shape":43,"../solver/Solver":47,"../utils/Vec3Pool":54}],56:[function(t,e,n){function o(){l.apply(this),this.dt=-1,this.allowSleep=!1,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=0,this.quatNormalizeFast=!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new i,this.broadphase=new g,this.bodies=[],this.solver=new s,this.constraints=[],this.narrowphase=new u(this),this.collisionMatrix=new c,this.collisionMatrixPrevious=new c,this.materials=[],this.contactmaterials=[],this.contactMaterialTable=new f,this.defaultMaterial=new p("default"),this.defaultContactMaterial=new h(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null}}e.exports=o;var r=t("../shapes/Shape"),i=t("../math/Vec3"),a=t("../math/Quaternion"),s=t("../solver/GSSolver"),u=(t("../utils/Vec3Pool"),t("../equations/ContactEquation"),t("../equations/FrictionEquation"),t("./Narrowphase")),l=t("../utils/EventTarget"),c=t("../collision/ArrayCollisionMatrix"),p=t("../material/Material"),h=t("../material/ContactMaterial"),d=t("../objects/Body"),f=t("../utils/TupleDictionary"),v=t("../collision/RaycastResult"),y=t("../collision/AABB"),m=t("../collision/Ray"),g=t("../collision/NaiveBroadphase");o.prototype=new l;var b=(new y,new m);if(o.prototype.getContactMaterial=function(t,e){return this.contactMaterialTable.get(t.id,e.id)},o.prototype.numObjects=function(){return this.bodies.length},o.prototype.collisionMatrixTick=function(){var t=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=t,this.collisionMatrix.reset()},o.prototype.add=o.prototype.addBody=function(t){-1===this.bodies.indexOf(t)&&(t.index=this.bodies.length,this.bodies.push(t),t.world=this,t.initPosition.copy(t.position),t.initVelocity.copy(t.velocity),t.timeLastSleepy=this.time,t instanceof d&&(t.initAngularVelocity.copy(t.angularVelocity),t.initQuaternion.copy(t.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=t,this.dispatchEvent(this.addBodyEvent))},o.prototype.addConstraint=function(t){this.constraints.push(t)},o.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&this.constraints.splice(e,1)},o.prototype.rayTest=function(t,e,n){n instanceof v?this.raycastClosest(t,e,{skipBackfaces:!0},n):this.raycastAll(t,e,{skipBackfaces:!0},n)},o.prototype.raycastAll=function(t,e,n,o){return n.mode=m.ALL,n.from=t,n.to=e,n.callback=o,b.intersectWorld(this,n)},o.prototype.raycastAny=function(t,e,n,o){return n.mode=m.ANY,n.from=t,n.to=e,n.result=o,b.intersectWorld(this,n)},o.prototype.raycastClosest=function(t,e,n,o){return n.mode=m.CLOSEST,n.from=t,n.to=e,n.result=o,b.intersectWorld(this,n)},o.prototype.remove=function(t){t.world=null;var e=this.bodies.length-1,n=this.bodies,o=n.indexOf(t);if(-1!==o){n.splice(o,1);for(var r=0;r!==n.length;r++)n[r].index=r;this.collisionMatrix.setNumObjects(e),this.removeBodyEvent.body=t,this.dispatchEvent(this.removeBodyEvent)}},o.prototype.removeBody=o.prototype.remove,o.prototype.addMaterial=function(t){this.materials.push(t)},o.prototype.addContactMaterial=function(t){this.contactmaterials.push(t),this.contactMaterialTable.set(t.materials[0].id,t.materials[1].id,t)},"undefined"==typeof performance&&(performance={}),!performance.now){var w=Date.now();performance.timing&&performance.timing.navigationStart&&(w=performance.timing.navigationStart),performance.now=function(){return Date.now()-w}}var x=new i;o.prototype.step=function(t,e,n){if(n=n||10,e=e||0,0===e)this.internalStep(t),this.time+=t;else{var o=Math.floor((this.time+e)/t)-Math.floor(this.time/t);o=Math.min(o,n);for(var r=performance.now(),i=0;i!==o&&(this.internalStep(t),!(performance.now()-r>1e3*t));i++);this.time+=e;for(var a=this.time%t,s=a/t,u=x,l=this.bodies,c=0;c!==l.length;c++){var p=l[c];p.type!==d.STATIC&&p.sleepState!==d.SLEEPING?(p.position.vsub(p.previousPosition,u),u.scale(s,u),p.position.vadd(u,p.interpolatedPosition)):(p.interpolatedPosition.copy(p.position),p.interpolatedQuaternion.copy(p.quaternion))}}};var C={type:"postStep"},E={type:"preStep"},S={type:"collide",body:null,contact:null},M=[],_=[],P=[],R=[],A=(new i,new i,new i,new i,new i,new i,new i,new i,new i,new a,new a),N=new a,T=new i;o.prototype.internalStep=function(t){this.dt=t;var e,n=this.contacts,o=P,i=R,a=this.numObjects(),s=this.bodies,u=this.solver,l=this.gravity,c=this.doProfiling,p=this.profile,h=d.DYNAMIC,f=this.constraints,v=_,y=(l.norm(),l.x),m=l.y,g=l.z,b=0;for(c&&(e=performance.now()),b=0;b!==a;b++){var w=s[b];if(w.type&h){var x=w.force,I=w.mass;x.x+=I*y,x.y+=I*m,x.z+=I*g}}for(var b=0,B=this.subsystems.length;b!==B;b++)this.subsystems[b].update();c&&(e=performance.now()),o.length=0,i.length=0,this.broadphase.collisionPairs(this,o,i),c&&(p.broadphase=performance.now()-e);var D=f.length;for(b=0;b!==D;b++){var O=f[b];if(!O.collideConnected)for(var k=o.length-1;k>=0;k-=1)(O.bodyA===o[k]&&O.bodyB===i[k]||O.bodyB===o[k]&&O.bodyA===i[k])&&(o.splice(k,1),i.splice(k,1))}this.collisionMatrixTick(),c&&(e=performance.now());var L=M,F=n.length;for(b=0;b!==F;b++)L.push(n[b]);n.length=0;var V=this.frictionEquations.length;for(b=0;b!==V;b++)v.push(this.frictionEquations[b]);this.frictionEquations.length=0,this.narrowphase.getContacts(o,i,this,n,L,this.frictionEquations,v),c&&(p.narrowphase=performance.now()-e),c&&(e=performance.now());for(var b=0;b<this.frictionEquations.length;b++)u.addEquation(this.frictionEquations[b]);for(var j=n.length,q=0;q!==j;q++){var z,O=n[q],w=O.bi,W=O.bj;O.si,O.sj;z=w.material&&W.material?this.getContactMaterial(w.material,W.material)||this.defaultContactMaterial:this.defaultContactMaterial;var U=z.friction;if(w.material&&W.material&&(w.material.friction>=0&&W.material.friction>=0&&(U=w.material.friction*W.material.friction),w.material.restitution>=0&&W.material.restitution>=0&&(O.restitution=w.material.restitution*W.material.restitution)),u.addEquation(O),w.allowSleep&&w.type===d.DYNAMIC&&w.sleepState===d.SLEEPING&&W.sleepState===d.AWAKE&&W.type!==d.STATIC){var H=W.velocity.norm2()+W.angularVelocity.norm2(),K=Math.pow(W.sleepSpeedLimit,2);H>=2*K&&(w._wakeUpAfterNarrowphase=!0)}if(W.allowSleep&&W.type===d.DYNAMIC&&W.sleepState===d.SLEEPING&&w.sleepState===d.AWAKE&&w.type!==d.STATIC){var G=w.velocity.norm2()+w.angularVelocity.norm2(),Y=Math.pow(w.sleepSpeedLimit,2);G>=2*Y&&(W._wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(w,W,!0),this.collisionMatrixPrevious.get(w,W)||(S.body=W,S.contact=O,w.dispatchEvent(S),S.body=w,W.dispatchEvent(S))}for(c&&(p.makeContactConstraints=performance.now()-e,e=performance.now()),b=0;b!==a;b++){var w=s[b];w._wakeUpAfterNarrowphase&&(w.wakeUp(),w._wakeUpAfterNarrowphase=!1)}var D=f.length;for(b=0;b!==D;b++){var O=f[b];O.update();for(var k=0,X=O.equations.length;k!==X;k++){var Q=O.equations[k];u.addEquation(Q)}}u.solve(t,this),c&&(p.solve=performance.now()-e),u.removeAllEquations();var Z=Math.pow;for(b=0;b!==a;b++){var w=s[b];if(w.type&h){var $=Z(1-w.linearDamping,t),J=w.velocity;J.mult($,J);var tt=w.angularVelocity;if(tt){var et=Z(1-w.angularDamping,t);tt.mult(et,tt)}}}for(this.dispatchEvent(E),b=0;b!==a;b++){var w=s[b];w.preStep&&w.preStep.call(w)}c&&(e=performance.now());var nt=A,ot=N,rt=this.stepnumber,it=d.DYNAMIC|d.KINEMATIC,at=rt%(this.quatNormalizeSkip+1)===0,st=this.quatNormalizeFast,ut=.5*t;r.types.PLANE,r.types.CONVEXPOLYHEDRON;for(b=0;b!==a;b++){var lt=s[b],ct=lt.force,pt=lt.torque;if(lt.type&it&&lt.sleepState!==d.SLEEPING){var ht=lt.velocity,dt=lt.angularVelocity,ft=lt.position,vt=lt.quaternion,yt=lt.invMass,mt=lt.invInertiaWorld;ht.x+=ct.x*yt*t,ht.y+=ct.y*yt*t,ht.z+=ct.z*yt*t,lt.angularVelocity&&(mt.vmult(pt,T),T.mult(t,T),T.vadd(dt,dt)),ft.x+=ht.x*t,ft.y+=ht.y*t,ft.z+=ht.z*t,lt.angularVelocity&&(nt.set(dt.x,dt.y,dt.z,0),nt.mult(vt,ot),vt.x+=ut*ot.x,vt.y+=ut*ot.y,vt.z+=ut*ot.z,vt.w+=ut*ot.w,at&&(st?vt.normalizeFast():vt.normalize())),lt.aabb&&(lt.aabbNeedsUpdate=!0),lt.updateInertiaWorld&&lt.updateInertiaWorld()}}for(this.clearForces(),this.broadphase.dirty=!0,c&&(p.integrate=performance.now()-e),this.time+=t,this.stepnumber+=1,this.dispatchEvent(C),b=0;b!==a;b++){var w=s[b],gt=w.postStep;gt&&gt.call(w)}if(this.allowSleep)for(b=0;b!==a;b++)s[b].sleepTick(this.time)},o.prototype.clearForces=function(){for(var t=this.bodies,e=t.length,n=0;n!==e;n++){var o=t[n];o.force,o.torque;o.force.set(0,0,0),o.torque.set(0,0,0)}}},{"../collision/AABB":3,"../collision/ArrayCollisionMatrix":4,"../collision/NaiveBroadphase":7,"../collision/Ray":9,"../collision/RaycastResult":10,"../equations/ContactEquation":19,"../equations/FrictionEquation":21,"../material/ContactMaterial":24,"../material/Material":25,"../math/Quaternion":28,"../math/Vec3":30,"../objects/Body":31,"../shapes/Shape":43,"../solver/GSSolver":46,"../utils/EventTarget":49,"../utils/TupleDictionary":52,"../utils/Vec3Pool":54,"./Narrowphase":55}]},{},[2])(2)})},function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e,n,a,u){if(!l(t))return t;var c=s(e)&&(f(e)||y(e)),h=c?void 0:m(e);return p(h||e,function(s,l){if(h&&(l=s,s=e[l]),o(s))a||(a=[]),u||(u=[]),i(t,e,l,r,n,a,u);else{var p=t[l],d=n?n(p,s,l,t,e):void 0,f=void 0===d;f&&(d=s),void 0===d&&(!c||l in t)||!f&&(d===d?d===p:p!==p)||(t[l]=d)}}),t}function i(t,e,n,o,r,i,a){for(var u=i.length,l=e[n];u--;)if(i[u]==l)return void(t[n]=a[u]);var p=t[n],h=r?r(p,l,n,t,e):void 0,m=void 0===h;m&&(h=l,s(l)&&(f(l)||y(l))?h=f(p)?p:s(p)?c(p):[]:v(l)||d(l)?h=d(p)?g(p):v(p)?p:{}:m=!1),i.push(l),a.push(h),m?t[n]=o(h,l,r,i,a):(h===h?h!==p:p===p)&&(t[n]=h)}function a(t){return function(e){return null==e?void 0:e[t]}}function s(t){return null!=t&&u(w(t))}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&b>=t}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var c=n(92),p=n(93),h=n(94),d=n(23),f=n(33),v=n(99),y=n(101),m=n(102),g=n(103),b=9007199254740991,w=a("length"),x=h(r);t.exports=x},function(t,e){function n(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){for(var n=-1,o=t.length;++n<o&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function o(t){return a(function(e,n){var o=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,l=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,l,5),a-=2):(s="function"==typeof l?l:void 0,a-=s?1:0),u&&i(n[0],n[1],u)&&(s=3>a?void 0:s,a=1);++o<a;){var c=n[o];c&&t(e,c,s)}return e})}var r=n(95),i=n(96),a=n(97);t.exports=o},function(t,e){function n(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,o,r){return t.call(e,n,o,r)};case 4:return function(n,o,r,i){return t.call(e,n,o,r,i)};case 5:return function(n,o,r,i,a){return t.call(e,n,o,r,i,a)}}return function(){return t.apply(e,arguments)}}function o(t){return t}t.exports=n},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&a(c(t))}function r(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?l:e,t>-1&&t%1==0&&e>t}function i(t,e,n){if(!s(n))return!1;var i=typeof e;if("number"==i?o(n)&&r(e,n.length):"string"==i&&e in n){var a=n[e];return t===t?t===a:a!==a}return!1}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,l=9007199254740991,c=n("length");t.exports=i},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(o);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,o=-1,i=r(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(o=-1;++o<e;)s[o]=n[o];return s[e]=a,t.apply(this,s)}}var o="Expected a function",r=Math.max;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}function o(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function r(t){return i(t)&&h.call(t)==s}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:r(t)?d.test(c.call(t)):n(t)&&u.test(t)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,p=l.hasOwnProperty,h=l.toString,d=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){return a(t,e,u)}function i(t){var e;if(!o(t)||h.call(t)!=l||s(t)||!p.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return r(t,function(t,e){n=e}),void 0===n||p.call(t,n)}var a=n(100),s=n(23),u=n(53),l="[object Object]",c=Object.prototype,p=c.hasOwnProperty,h=c.toString;t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=o(e),a=r(e),s=a.length,u=t?s:-1;t?u--:++u<s;){var l=a[u];if(n(i[l],l,i)===!1)break}return e}}function o(t){return r(t)?t:Object(t)}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var i=n();t.exports=i},function(t,e){function n(t){return!!t&&"object"==typeof t}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&T>=t}function r(t){return n(t)&&o(t.length)&&!!R[N.call(t)]}var i="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",p="[object Map]",h="[object Number]",d="[object Object]",f="[object RegExp]",v="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",_="[object Uint16Array]",P="[object Uint32Array]",R={};R[b]=R[w]=R[x]=R[C]=R[E]=R[S]=R[M]=R[_]=R[P]=!0,R[i]=R[a]=R[g]=R[s]=R[u]=R[l]=R[c]=R[p]=R[h]=R[d]=R[f]=R[v]=R[y]=R[m]=!1;var A=Object.prototype,N=A.toString,T=9007199254740991;t.exports=r},function(t,e,n){function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&a(g(t))}function i(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?m:e,t>-1&&t%1==0&&e>t}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function s(t){for(var e=l(t),n=e.length,o=n&&t.length,r=!!o&&a(o)&&(h(t)||p(t)),s=-1,u=[];++s<n;){var c=e[s];(r&&i(c,o)||v.call(t,c))&&u.push(c)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(h(t)||p(t))&&e||0;for(var n=t.constructor,o=-1,r="function"==typeof n&&n.prototype===t,s=Array(e),l=e>0;++o<e;)s[o]=o+"";for(var c in t)l&&i(c,e)||"constructor"==c&&(r||!v.call(t,c))||s.push(c);return s}var c=n(98),p=n(23),h=n(33),d=/^\d+$/,f=Object.prototype,v=f.hasOwnProperty,y=c(Object,"keys"),m=9007199254740991,g=o("length"),b=y?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?s(t):u(t)?y(t):[]}:s;t.exports=b},function(t,e,n){function o(t){return r(t,i(t))}var r=n(104),i=n(53);t.exports=o},function(t,e){function n(t,e,n){n||(n={});for(var o=-1,r=e.length;++o<r;){var i=e[o];n[i]=t[i]}return n}t.exports=n},function(t,e,n){"use strict";var o=n(5),r=n(42),i=n(83),a={componentDidMount:function(){this.props.autoFocus&&i(r(this))}},s={Mixin:a,focusDOMComponent:function(){i(o.getNode(this._rootNodeID))}};t.exports=s},function(t,e,n){"use strict";function o(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function i(t){switch(t){case R.topCompositionStart:return A.compositionStart;case R.topCompositionEnd:return A.compositionEnd;case R.topCompositionUpdate:return A.compositionUpdate}}function a(t,e){return t===R.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case R.topKeyUp:return-1!==w.indexOf(e.keyCode);case R.topKeyDown:return e.keyCode!==x;case R.topKeyPress:case R.topMouseDown:case R.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function l(t,e,n,o,r){var l,c;if(C?l=i(t):T?s(t,o)&&(l=A.compositionEnd):a(t,o)&&(l=A.compositionStart),!l)return null;M&&(T||l!==A.compositionStart?l===A.compositionEnd&&T&&(c=T.getData()):T=y.getPooled(e));var p=m.getPooled(l,n,o,r);if(c)p.data=c;else{var h=u(o);null!==h&&(p.data=h)}return f.accumulateTwoPhaseDispatches(p),p}function c(t,e){switch(t){case R.topCompositionEnd:return u(e);case R.topKeyPress:var n=e.which;return n!==_?null:(N=!0,P);case R.topTextInput:var o=e.data;return o===P&&N?null:o;default:return null}}function p(t,e){if(T){if(t===R.topCompositionEnd||s(t,e)){var n=T.getData();return y.release(T),T=null,n}return null}switch(t){case R.topPaste:return null;case R.topKeyPress:return e.which&&!r(e)?String.fromCharCode(e.which):null;case R.topCompositionEnd:return M?null:e.data;default:return null}}function h(t,e,n,o,r){var i;if(i=S?c(t,o):p(t,o),!i)return null;var a=g.getPooled(A.beforeInput,n,o,r);return a.data=i,f.accumulateTwoPhaseDispatches(a),a}var d=n(10),f=n(19),v=n(4),y=n(114),m=n(145),g=n(148),b=n(13),w=[9,13,27,32],x=229,C=v.canUseDOM&&"CompositionEvent"in window,E=null;v.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var S=v.canUseDOM&&"TextEvent"in window&&!E&&!o(),M=v.canUseDOM&&(!C||E&&E>8&&11>=E),_=32,P=String.fromCharCode(_),R=d.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[R.topCompositionEnd,R.topKeyPress,R.topTextInput,R.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[R.topBlur,R.topCompositionEnd,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[R.topBlur,R.topCompositionStart,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[R.topBlur,R.topCompositionUpdate,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]}},N=!1,T=null,I={eventTypes:A,extractEvents:function(t,e,n,o,r){return[l(t,e,n,o,r),h(t,e,n,o,r)]}};t.exports=I},function(t,e,n){"use strict";var o=n(54),r=n(4),i=n(7),a=(n(162),n(153)),s=n(167),u=n(171),l=(n(3),u(function(t){return s(t)})),c=!1,p="cssFloat";if(r.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(d){c=!0}void 0===document.documentElement.style.cssFloat&&(p="styleFloat")}var f={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];null!=o&&(e+=l(n)+":",e+=a(n,o)+";")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=a(r,e[r]);if("float"===r&&(r=p),i)n[r]=i;else{var s=c&&o.shorthandPropertyExpansions[r];if(s)for(var u in s)n[u]="";else n[r]=""}}}};i.measureMethods(f,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=f},function(t,e,n){"use strict";function o(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function r(t){var e=E.getPooled(A.change,T,t,S(t));w.accumulateTwoPhaseDispatches(e),C.batchedUpdates(i,e)}function i(t){b.enqueueEvents(t),b.processEventQueue(!1)}function a(t,e){N=t,T=e,N.attachEvent("onchange",r)}function s(){N&&(N.detachEvent("onchange",r),N=null,T=null)}function u(t,e,n){return t===R.topChange?n:void 0}function l(t,e,n){t===R.topFocus?(s(),a(e,n)):t===R.topBlur&&s()}function c(t,e){N=t,T=e,I=t.value,B=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(N,"value",k),N.attachEvent("onpropertychange",h)}function p(){N&&(delete N.value,N.detachEvent("onpropertychange",h),N=null,T=null,I=null,B=null)}function h(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==I&&(I=e,r(t))}}function d(t,e,n){return t===R.topInput?n:void 0}function f(t,e,n){t===R.topFocus?(p(),c(e,n)):t===R.topBlur&&p()}function v(t,e,n){return t!==R.topSelectionChange&&t!==R.topKeyUp&&t!==R.topKeyDown||!N||N.value===I?void 0:(I=N.value,T)}function y(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function m(t,e,n){return t===R.topClick?n:void 0}var g=n(10),b=n(18),w=n(19),x=n(4),C=n(8),E=n(15),S=n(45),M=n(48),_=n(80),P=n(13),R=g.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[R.topBlur,R.topChange,R.topClick,R.topFocus,R.topInput,R.topKeyDown,R.topKeyUp,R.topSelectionChange]}},N=null,T=null,I=null,B=null,D=!1;x.canUseDOM&&(D=M("change")&&(!("documentMode"in document)||document.documentMode>8));var O=!1;x.canUseDOM&&(O=M("input")&&(!("documentMode"in document)||document.documentMode>9));var k={get:function(){return B.get.call(this)},set:function(t){I=""+t,B.set.call(this,t)}},L={eventTypes:A,extractEvents:function(t,e,n,r,i){var a,s;if(o(e)?D?a=u:s=l:_(e)?O?a=d:(a=v,s=f):y(e)&&(a=m),a){var c=a(t,e,n);if(c){var p=E.getPooled(A.change,c,r,i);return p.type="change",w.accumulateTwoPhaseDispatches(p),p}}s&&s(t,e,n)}};t.exports=L},function(t,e){"use strict";var n=0,o={createReactRootIndex:function(){return n++}};t.exports=o},function(t,e,n){"use strict";function o(t){return t.substring(1,t.indexOf(" "))}var r=n(4),i=n(164),a=n(9),s=n(85),u=n(1),l=/^(<[^ \/>]+)/,c="data-danger-index",p={dangerouslyRenderMarkup:function(t){r.canUseDOM?void 0:u(!1);for(var e,n={},p=0;p<t.length;p++)t[p]?void 0:u(!1),e=o(t[p]),e=s(e)?e:"*",n[e]=n[e]||[],n[e][p]=t[p];var h=[],d=0;for(e in n)if(n.hasOwnProperty(e)){var f,v=n[e];for(f in v)if(v.hasOwnProperty(f)){var y=v[f];v[f]=y.replace(l,"$1 "+c+'="'+f+'" ')}for(var m=i(v.join(""),a),g=0;g<m.length;++g){var b=m[g];b.hasAttribute&&b.hasAttribute(c)&&(f=+b.getAttribute(c),b.removeAttribute(c),h.hasOwnProperty(f)?u(!1):void 0,h[f]=b,d+=1)}}return d!==h.length?u(!1):void 0,h.length!==t.length?u(!1):void 0,h},dangerouslyReplaceNodeWithMarkup:function(t,e){r.canUseDOM?void 0:u(!1),e?void 0:u(!1),"html"===t.tagName.toLowerCase()?u(!1):void 0;var n;n="string"==typeof e?i(e,a)[0]:e,t.parentNode.replaceChild(n,t)}};t.exports=p},function(t,e,n){"use strict";var o=n(13),r=[o({ResponderEventPlugin:null}),o({SimpleEventPlugin:null}),o({TapEventPlugin:null}),o({EnterLeaveEventPlugin:null}),o({ChangeEventPlugin:null}),o({SelectEventPlugin:null}),o({BeforeInputEventPlugin:null})];t.exports=r},function(t,e,n){"use strict";var o=n(10),r=n(19),i=n(27),a=n(5),s=n(13),u=o.topLevelTypes,l=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},p=[null,null],h={eventTypes:c,extractEvents:function(t,e,n,o,s){if(t===u.topMouseOver&&(o.relatedTarget||o.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var h;if(e.window===e)h=e;else{var d=e.ownerDocument;h=d?d.defaultView||d.parentWindow:window}var f,v,y="",m="";if(t===u.topMouseOut?(f=e,y=n,v=l(o.relatedTarget||o.toElement),v?m=a.getID(v):v=h,v=v||h):(f=h,v=e,m=n),f===v)return null;var g=i.getPooled(c.mouseLeave,y,o,s);g.type="mouseleave",g.target=f,g.relatedTarget=v;var b=i.getPooled(c.mouseEnter,m,o,s);return b.type="mouseenter",b.target=v,b.relatedTarget=f,r.accumulateEnterLeaveDispatches(g,b,y,m),p[0]=g,p[1]=b,p}};t.exports=h},function(t,e,n){"use strict";function o(t){return t===y.topMouseUp||t===y.topTouchEnd||t===y.topTouchCancel}function r(t){return t===y.topMouseMove||t===y.topTouchMove}function i(t){return t===y.topMouseDown||t===y.topTouchStart}function a(t,e,n,o){var r=t.type||"unknown-event";t.currentTarget=v.Mount.getNode(o),e?d.invokeGuardedCallbackWithCatch(r,n,t,o):d.invokeGuardedCallback(r,n,t,o),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,o=t._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)a(t,e,n[r],o[r]);else n&&a(t,e,n,o);t._dispatchListeners=null,t._dispatchIDs=null}function u(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var o=0;o<e.length&&!t.isPropagationStopped();o++)if(e[o](t,n[o]))return n[o]}else if(e&&e(t,n))return n;return null}function l(t){var e=u(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchIDs;Array.isArray(e)?f(!1):void 0;var o=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,o}function p(t){return!!t._dispatchListeners}var h=n(10),d=n(68),f=n(1),v=(n(3),{Mount:null,injectMount:function(t){v.Mount=t}}),y=h.topLevelTypes,m={isEndish:o,isMoveish:r,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getNode:function(t){return v.Mount.getNode(t)},getID:function(t){return v.Mount.getID(t)},injection:v};t.exports=m},function(t,e,n){"use strict";function o(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=n(12),i=n(2),a=n(79);i(o.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,o=n.length,r=this.getText(),i=r.length;for(t=0;o>t&&n[t]===r[t];t++);var a=o-t;for(e=1;a>=e&&n[o-e]===r[i-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=r.slice(t,s),this._fallbackText}}),r.addPoolingTo(o),t.exports=o},function(t,e,n){"use strict";var o,r=n(16),i=n(4),a=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,u=r.injection.HAS_BOOLEAN_VALUE,l=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,p=r.injection.HAS_POSITIVE_NUMERIC_VALUE,h=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var d=document.implementation;o=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,capture:a|u,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|u,classID:a,className:o?a:s,cols:a|p,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,"default":u,defer:u,dir:null,disabled:a|u,download:h,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,
min:null,minLength:a,multiple:s|u,muted:s|u,name:null,nonce:a,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:a,rows:a|p,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|p,sizes:a,span:p,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},function(t,e,n){"use strict";var o=n(120),r=n(127),i=n(132),a=n(2),s=n(154),u={};a(u,i),a(u,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",o,o.findDOMNode),render:s("render","ReactDOM","react-dom",o,o.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",o,o.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",r,r.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",r,r.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,t.exports=u},function(t,e,n){"use strict";var o=(n(20),n(42)),r=(n(3),"_getDOMNodeDidWarn"),i={getDOMNode:function(){return this.constructor[r]=!0,o(this)}};t.exports=i},function(t,e,n){"use strict";function o(t,e,n){var o=void 0===t[n];null!=e&&o&&(t[n]=i(e,null))}var r=n(14),i=n(47),a=n(50),s=n(51),u=(n(3),{instantiateChildren:function(t,e,n){if(null==t)return null;var r={};return s(t,o,r),r},updateChildren:function(t,e,n,o){if(!e&&!t)return null;var s;for(s in e)if(e.hasOwnProperty(s)){var u=t&&t[s],l=u&&u._currentElement,c=e[s];if(null!=u&&a(l,c))r.receiveComponent(u,c,n,o),e[s]=u;else{u&&r.unmountComponent(u,s);var p=i(c,null);e[s]=p}}for(s in t)!t.hasOwnProperty(s)||e&&e.hasOwnProperty(s)||r.unmountComponent(t[s]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];r.unmountComponent(n)}}});t.exports=u},function(t,e,n){"use strict";function o(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}function r(t){}var i=n(38),a=n(11),s=n(6),u=n(20),l=n(7),c=n(26),p=(n(25),n(14)),h=n(40),d=n(2),f=n(22),v=n(1),y=n(50);n(3);r.prototype.render=function(){var t=u.get(this)._currentElement.type;return t(this.props,this.context,this.updater)};var m=1,g={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=m++,this._rootNodeID=t;var o,i,a=this._processProps(this._currentElement.props),l=this._processContext(n),c=this._currentElement.type,d="prototype"in c;d&&(o=new c(a,l,h)),(!d||null===o||o===!1||s.isValidElement(o))&&(i=o,o=new r(c)),o.props=a,o.context=l,o.refs=f,o.updater=h,this._instance=o,u.set(o,this);var y=o.state;void 0===y&&(o.state=y=null),"object"!=typeof y||Array.isArray(y)?v(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===i&&(i=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(i);var g=p.mountComponent(this._renderedComponent,t,e,this._processChildContext(n));return o.componentDidMount&&e.getReactMountReady().enqueue(o.componentDidMount,o),g},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(t)},_maskContext:function(t){var e=null,n=this._currentElement.type,o=n.contextTypes;if(!o)return f;e={};for(var r in o)e[r]=t[r];return e},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,o=n.getChildContext&&n.getChildContext();if(o){"object"!=typeof e.childContextTypes?v(!1):void 0;for(var r in o)r in e.childContextTypes?void 0:v(!1);return d({},t,o)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var r=this.getName();for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?v(!1):void 0,a=t[i](e,i,r,n)}catch(s){a=s}if(a instanceof Error){o(this);n===c.prop}}},receiveComponent:function(t,e,n){var o=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,o,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,n,o,r){var i,a=this._instance,s=this._context===r?a.context:this._processContext(r);e===n?i=n.props:(i=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(i,s));var u=this._processPendingState(i,s),l=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(i,u,s);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,i,u,s,t,r)):(this._currentElement=n,this._context=r,a.props=i,a.state=u,a.context=s)},_processPendingState:function(t,e){var n=this._instance,o=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(r&&1===o.length)return o[0];for(var i=d({},r?o[0]:n.state),a=r?1:0;a<o.length;a++){var s=o[a];d(i,"function"==typeof s?s.call(n,i,t,e):s)}return i},_performComponentUpdate:function(t,e,n,o,r,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,o),this._currentElement=t,this._context=i,l.props=e,l.state=n,l.context=o,this._updateRenderedComponent(r,i),c&&r.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,o=n._currentElement,r=this._renderValidatedComponent();if(y(o,r))p.receiveComponent(n,r,t,this._processChildContext(e));else{var i=this._rootNodeID,a=n._rootNodeID;p.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(r);var s=p.mountComponent(this._renderedComponent,i,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(t,e){i.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(){var t;a.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===t||t===!1||s.isValidElement(t)?void 0:v(!1),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?v(!1):void 0;var o=e.getPublicInstance(),r=n.refs===f?n.refs={}:n.refs;r[t]=o},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof r?null:t},_instantiateReactComponent:null};l.measureMethods(g,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:g};t.exports=b},function(t,e,n){"use strict";var o=n(11),r=n(62),i=n(64),a=n(17),s=n(5),u=n(7),l=n(14),c=n(8),p=n(41),h=n(42),d=n(160);n(3);i.inject();var f=u.measure("React","render",s.render),v={findDOMNode:h,render:f,unmountComponentAtNode:s.unmountComponentAtNode,version:p,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:o,InstanceHandles:a,Mount:s,Reconciler:l,TextComponent:r});t.exports=v},function(t,e){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(t,e,o){if(!e.disabled)return e;var r={};for(var i in e)e.hasOwnProperty(i)&&!n[i]&&(r[i]=e[i]);return r}};t.exports=o},function(t,e,n){"use strict";function o(){return this}function r(){var t=this._reactInternalComponent;return!!t}function i(){}function a(t,e){var n=this._reactInternalComponent;n&&(I.enqueueSetPropsInternal(n,t),e&&I.enqueueCallbackInternal(n,e))}function s(t,e){var n=this._reactInternalComponent;n&&(I.enqueueReplacePropsInternal(n,t),e&&I.enqueueCallbackInternal(n,e))}function u(t,e){e&&(null!=e.dangerouslySetInnerHTML&&(null!=e.children?k(!1):void 0,"object"==typeof e.dangerouslySetInnerHTML&&K in e.dangerouslySetInnerHTML?void 0:k(!1)),null!=e.style&&"object"!=typeof e.style?k(!1):void 0)}function l(t,e,n,o){var r=A.findReactContainerForID(t);if(r){var i=r.nodeType===G?r.ownerDocument:r;q(e,i)}o.getReactMountReady().enqueue(c,{id:t,registrationName:e,listener:n})}function c(){var t=this;C.putListener(t.id,t.registrationName,t.listener)}function p(){var t=this;t._rootNodeID?void 0:k(!1);var e=A.getNode(t._rootNodeID);switch(e?void 0:k(!1),t._tag){case"iframe":t._wrapperState.listeners=[C.trapBubbledEvent(x.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&t._wrapperState.listeners.push(C.trapBubbledEvent(x.topLevelTypes[n],Y[n],e));break;case"img":t._wrapperState.listeners=[C.trapBubbledEvent(x.topLevelTypes.topError,"error",e),C.trapBubbledEvent(x.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[C.trapBubbledEvent(x.topLevelTypes.topReset,"reset",e),C.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",e)]}}function h(){M.mountReadyWrapper(this)}function d(){P.postUpdateWrapper(this)}function f(t){J.call($,t)||(Z.test(t)?void 0:k(!1),$[t]=!0)}function v(t,e){return t.indexOf("-")>=0||null!=e.is}function y(t){f(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var m=n(105),g=n(107),b=n(16),w=n(35),x=n(10),C=n(24),E=n(37),S=n(121),M=n(124),_=n(125),P=n(61),R=n(128),A=n(5),N=n(133),T=n(7),I=n(40),B=n(2),D=n(29),O=n(30),k=n(1),L=(n(48),n(13)),F=n(31),V=n(49),j=(n(86),n(52),n(3),C.deleteListener),q=C.listenTo,z=C.registrationNameModules,W={string:!0,number:!0},U=L({children:null}),H=L({style:null}),K=L({__html:null}),G=1,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},Z=(B({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),$={},J={}.hasOwnProperty;y.displayName="ReactDOMComponent",y.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t;var o=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(p,this);break;case"button":o=S.getNativeProps(this,o,n);break;case"input":M.mountWrapper(this,o,n),o=M.getNativeProps(this,o,n);break;case"option":_.mountWrapper(this,o,n),o=_.getNativeProps(this,o,n);break;case"select":P.mountWrapper(this,o,n),o=P.getNativeProps(this,o,n),n=P.processChildContext(this,o,n);break;case"textarea":R.mountWrapper(this,o,n),o=R.getNativeProps(this,o,n)}u(this,o);var r;if(e.useCreateElement){var i=n[A.ownerDocumentContextKey],a=i.createElement(this._currentElement.type);w.setAttributeForID(a,this._rootNodeID),A.getID(a),this._updateDOMProperties({},o,e,a),this._createInitialChildren(e,o,n,a),r=a}else{var s=this._createOpenTagMarkupAndPutListeners(e,o),l=this._createContentMarkup(e,o,n);r=!l&&X[this._tag]?s+"/>":s+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(h,this);case"button":case"select":case"textarea":o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this)}return r},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];if(null!=r)if(z.hasOwnProperty(o))r&&l(this._rootNodeID,o,r,t);else{o===H&&(r&&(r=this._previousStyleCopy=B({},e.style)),r=g.createMarkupForStyles(r));var i=null;null!=this._tag&&v(this._tag,e)?o!==U&&(i=w.createMarkupForCustomAttribute(o,r)):i=w.createMarkupForProperty(o,r),i&&(n+=" "+i)}}if(t.renderToStaticMarkup)return n;var a=w.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(t,e,n){var o="",r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(o=r.__html);else{var i=W[typeof e.children]?e.children:null,a=null!=i?null:e.children;if(null!=i)o=O(i);else if(null!=a){var s=this.mountChildren(a,t,n);o=s.join("")}}return Q[this._tag]&&"\n"===o.charAt(0)?"\n"+o:o},_createInitialChildren:function(t,e,n,o){var r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&F(o,r.__html);else{var i=W[typeof e.children]?e.children:null,a=null!=i?null:e.children;if(null!=i)V(o,i);else if(null!=a)for(var s=this.mountChildren(a,t,n),u=0;u<s.length;u++)o.appendChild(s[u])}},receiveComponent:function(t,e,n){var o=this._currentElement;this._currentElement=t,this.updateComponent(e,o,t,n)},updateComponent:function(t,e,n,o){var r=e.props,i=this._currentElement.props;switch(this._tag){case"button":r=S.getNativeProps(this,r),i=S.getNativeProps(this,i);break;case"input":M.updateWrapper(this),r=M.getNativeProps(this,r),i=M.getNativeProps(this,i);break;case"option":r=_.getNativeProps(this,r),i=_.getNativeProps(this,i);break;case"select":r=P.getNativeProps(this,r),i=P.getNativeProps(this,i);break;case"textarea":R.updateWrapper(this),r=R.getNativeProps(this,r),i=R.getNativeProps(this,i)}u(this,i),this._updateDOMProperties(r,i,t,null),this._updateDOMChildren(r,i,t,o),!D&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=i),"select"===this._tag&&t.getReactMountReady().enqueue(d,this)},_updateDOMProperties:function(t,e,n,o){var r,i,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r))if(r===H){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else z.hasOwnProperty(r)?t[r]&&j(this._rootNodeID,r):(b.properties[r]||b.isCustomAttribute(r))&&(o||(o=A.getNode(this._rootNodeID)),w.deleteValueForProperty(o,r));for(r in e){var u=e[r],c=r===H?this._previousStyleCopy:t[r];if(e.hasOwnProperty(r)&&u!==c)if(r===H)if(u?u=this._previousStyleCopy=B({},u):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else z.hasOwnProperty(r)?u?l(this._rootNodeID,r,u,n):c&&j(this._rootNodeID,r):v(this._tag,e)?(o||(o=A.getNode(this._rootNodeID)),r===U&&(u=null),w.setValueForAttribute(o,r,u)):(b.properties[r]||b.isCustomAttribute(r))&&(o||(o=A.getNode(this._rootNodeID)),null!=u?w.setValueForProperty(o,r,u):w.deleteValueForProperty(o,r))}a&&(o||(o=A.getNode(this._rootNodeID)),g.setValueForStyles(o,a))},_updateDOMChildren:function(t,e,n,o){var r=W[typeof t.children]?t.children:null,i=W[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=null!=r?null:t.children,l=null!=i?null:e.children,c=null!=r||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,o):c&&!p&&this.updateTextContent(""),null!=i?r!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,o)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var e=0;e<t.length;e++)t[e].remove();break;case"input":M.unmountWrapper(this);break;case"html":case"head":case"body":k(!1)}if(this.unmountChildren(),C.deleteAllListeners(this._rootNodeID),E.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=A.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=o,t.isMounted=r,t.setState=i,t.replaceState=i,t.forceUpdate=i,t.setProps=a,t.replaceProps=s,t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},T.measureMethods(y,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),B(y.prototype,y.Mixin,N.Mixin),t.exports=y},function(t,e,n){"use strict";function o(t){return r.createFactory(t)}var r=n(6),i=(n(65),n(170)),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},o);t.exports=a},function(t,e,n){"use strict";function o(){this._rootNodeID&&h.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);u.asap(o,this);var r=e.name;if("radio"===e.type&&null!=r){for(var i=s.getNode(this._rootNodeID),l=i;l.parentNode;)l=l.parentNode;for(var h=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),d=0;d<h.length;d++){var f=h[d];if(f!==i&&f.form===i.form){var v=s.getID(f);v?void 0:c(!1);var y=p[v];y?void 0:c(!1),u.asap(o,y)}}}return n}var i=n(39),a=n(36),s=n(5),u=n(8),l=n(2),c=n(1),p={},h={getNativeProps:function(t,e,n){var o=a.getValue(e),r=a.getChecked(e),i=l({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=o?o:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return i},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=n?n:null,onChange:r.bind(t)}},mountReadyWrapper:function(t){p[t._rootNodeID]=t},unmountWrapper:function(t){delete p[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&i.updatePropertyByID(t._rootNodeID,"checked",n||!1);var o=a.getValue(e);null!=o&&i.updatePropertyByID(t._rootNodeID,"value",""+o)}};t.exports=h},function(t,e,n){"use strict";var o=n(57),r=n(61),i=n(2),a=(n(3),r.valueContextKey),s={mountWrapper:function(t,e,n){var o=n[a],r=null;if(null!=o)if(r=!1,Array.isArray(o)){for(var i=0;i<o.length;i++)if(""+o[i]==""+e.value){r=!0;break}}else r=""+o==""+e.value;t._wrapperState={selected:r}},getNativeProps:function(t,e,n){var r=i({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(r.selected=t._wrapperState.selected);var a="";return o.forEach(e.children,function(t){null!=t&&("string"==typeof t||"number"==typeof t)&&(a+=t)}),r.children=a,r}};t.exports=s},function(t,e,n){"use strict";function o(t,e,n,o){return t===n&&e===o}function r(t){var e=document.selection,n=e.createRange(),o=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var i=r.text.length,a=i+o;return{start:i,end:a}}function i(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,i=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=o(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,p=s.cloneRange();p.selectNodeContents(t),p.setEnd(s.startContainer,s.startOffset);var h=o(p.startContainer,p.startOffset,p.endContainer,p.endOffset),d=h?0:p.toString().length,f=d+c,v=document.createRange();v.setStart(n,r),v.setEnd(i,a);var y=v.collapsed;return{start:y?f:d,end:y?d:f}}function a(t,e){var n,o,r=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,o=n):e.start>e.end?(n=e.end,o=e.start):(n=e.start,o=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",o-n),r.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),o=t[c()].length,r=Math.min(e.start,o),i="undefined"==typeof e.end?r:Math.min(e.end,o);if(!n.extend&&r>i){var a=i;i=r,r=a}var s=l(t,r),u=l(t,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(4),l=n(157),c=n(79),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:p?r:i,setOffsets:p?a:s};t.exports=h},function(t,e,n){"use strict";var o=n(64),r=n(138),i=n(41);o.inject();var a={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:i};t.exports=a},function(t,e,n){"use strict";function o(){this._rootNodeID&&c.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=i.executeOnChange(e,t);return s.asap(o,this),n}var i=n(36),a=n(39),s=n(8),u=n(2),l=n(1),c=(n(3),{getNativeProps:function(t,e,n){null!=e.dangerouslySetInnerHTML?l(!1):void 0;var o=u({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,e){var n=e.defaultValue,o=e.children;null!=o&&(null!=n?l(!1):void 0,Array.isArray(o)&&(o.length<=1?void 0:l(!1),o=o[0]),n=""+o),null==n&&(n="");var a=i.getValue(e);t._wrapperState={initialValue:""+(null!=a?a:n),onChange:r.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=i.getValue(e);null!=n&&a.updatePropertyByID(t._rootNodeID,"value",""+n)}});t.exports=c},function(t,e,n){"use strict";function o(t){r.enqueueEvents(t),r.processEventQueue(!1)}var r=n(18),i={handleTopLevel:function(t,e,n,i,a){var s=r.extractEvents(t,e,n,i,a);o(s)}};t.exports=i},function(t,e,n){"use strict";function o(t){var e=h.getID(t),n=p.getReactRootIDFromNodeID(e),o=h.findReactContainerForID(n),r=h.getFirstReactDOM(o);return r}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function i(t){a(t)}function a(t){for(var e=h.getFirstReactDOM(v(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=o(n);for(var r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var i=h.getID(e)||"";m._handleTopLevel(t.topLevelType,e,i,t.nativeEvent,v(t.nativeEvent))}}function s(t){var e=y(window);t(e)}var u=n(81),l=n(4),c=n(12),p=n(17),h=n(5),d=n(8),f=n(2),v=n(45),y=n(165);f(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){var o=n;return o?u.listen(o,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var o=n;return o?u.capture(o,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=s.bind(null,t);u.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(m._enabled){var n=r.getPooled(t,e);try{d.batchedUpdates(i,n)}finally{r.release(n)}}}};t.exports=m},function(t,e,n){"use strict";var o=n(16),r=n(18),i=n(38),a=n(58),s=n(66),u=n(24),l=n(72),c=n(7),p=n(75),h=n(8),d={Component:i.injection,Class:a.injection,DOMProperty:o.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:p.injection,Updates:h.injection};t.exports=d},function(t,e,n){"use strict";var o=n(57),r=n(59),i=n(58),a=n(123),s=n(6),u=(n(65),n(74)),l=n(41),c=n(2),p=n(158),h=s.createElement,d=s.createFactory,f=s.cloneElement,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:r,createElement:h,cloneElement:f,isValidElement:s.isValidElement,PropTypes:u,createClass:i.createClass,createFactory:d,createMixin:function(t){return t},DOM:a,version:l,__spread:c};t.exports=v},function(t,e,n){"use strict";function o(t,e,n){y.push({parentID:t,parentNode:null,type:p.INSERT_MARKUP,markupIndex:m.push(e)-1,content:null,fromIndex:null,toIndex:n})}function r(t,e,n){y.push({parentID:t,parentNode:null,type:p.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:n})}function i(t,e){y.push({parentID:t,parentNode:null,type:p.REMOVE_NODE,markupIndex:null,content:null,fromIndex:e,toIndex:null})}function a(t,e){y.push({parentID:t,parentNode:null,type:p.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function s(t,e){y.push({parentID:t,parentNode:null,type:p.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function u(){y.length&&(c.processChildrenUpdates(y,m),l())}function l(){y.length=0,m.length=0}var c=n(38),p=n(71),h=(n(11),n(14)),d=n(118),f=n(155),v=0,y=[],m=[],g={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return d.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,o){var r;return r=f(e),d.updateChildren(t,r,n,o)},mountChildren:function(t,e,n){var o=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=o;var r=[],i=0;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a],u=this._rootNodeID+a,l=h.mountComponent(s,u,e,n);s._mountIndex=i++,r.push(l)}return r},updateTextContent:function(t){v++;var e=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var o in n)n.hasOwnProperty(o)&&this._unmountChild(n[o]);this.setTextContent(t),e=!1}finally{v--,v||(e?l():u())}},updateMarkup:function(t){v++;var e=!0;try{var n=this._renderedChildren;d.unmountChildren(n);for(var o in n)n.hasOwnProperty(o)&&this._unmountChildByName(n[o],o);this.setMarkup(t),e=!1}finally{v--,v||(e?l():u())}},updateChildren:function(t,e,n){v++;var o=!0;try{this._updateChildren(t,e,n),o=!1}finally{v--,v||(o?l():u())}},_updateChildren:function(t,e,n){var o=this._renderedChildren,r=this._reconcilerUpdateChildren(o,t,e,n);if(this._renderedChildren=r,r||o){var i,a=0,s=0;for(i in r)if(r.hasOwnProperty(i)){var u=o&&o[i],l=r[i];u===l?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChild(u)),this._mountChildByNameAtIndex(l,i,s,e,n)),s++}for(i in o)!o.hasOwnProperty(i)||r&&r.hasOwnProperty(i)||this._unmountChild(o[i])}},unmountChildren:function(){var t=this._renderedChildren;d.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){o(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){i(this._rootNodeID,t._mountIndex)},setTextContent:function(t){s(this._rootNodeID,t)},setMarkup:function(t){a(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,o,r){var i=this._rootNodeID+e,a=h.mountComponent(t,i,o,r);t._mountIndex=n,this.createChild(t,a)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};t.exports=g},function(t,e,n){"use strict";var o=n(1),r={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){r.isValidOwner(n)?void 0:o(!1),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){r.isValidOwner(n)?void 0:o(!1),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};t.exports=r},function(t,e,n){"use strict";function o(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!t&&s.useCreateElement}var r=n(34),i=n(12),a=n(24),s=n(60),u=n(69),l=n(28),c=n(2),p={initialize:u.getSelectionInformation,close:u.restoreSelection},h={initialize:function(){var t=a.isEnabled();return a.setEnabled(!1),t},close:function(t){a.setEnabled(t)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[p,h,d],v={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};c(o.prototype,l.Mixin,v),i.addPoolingTo(o),t.exports=o},function(t,e,n){"use strict";function o(t,e,n){"function"==typeof t?t(e.getPublicInstance()):i.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):i.removeComponentAsRefFrom(e,t,n)}var i=n(134),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&o(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,o=null===e||e===!1;return n||o||e._owner!==t._owner||e.ref!==t.ref},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner);
}},t.exports=a},function(t,e){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(t){}};t.exports=n},function(t,e,n){"use strict";function o(t){a.isValidElement(t)?void 0:f(!1);var e;try{p.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return e=c.getPooled(!1),e.perform(function(){var o=d(t,null),r=o.mountComponent(n,e,h);return u.addChecksumToMarkup(r)},null)}finally{c.release(e),p.injection.injectBatchingStrategy(i)}}function r(t){a.isValidElement(t)?void 0:f(!1);var e;try{p.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return e=c.getPooled(!0),e.perform(function(){var o=d(t,null);return o.mountComponent(n,e,h)},null)}finally{c.release(e),p.injection.injectBatchingStrategy(i)}}var i=n(63),a=n(6),s=n(17),u=n(70),l=n(137),c=n(139),p=n(8),h=n(22),d=n(47),f=n(1);t.exports={renderToString:o,renderToStaticMarkup:r}},function(t,e,n){"use strict";function o(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=i.getPooled(null),this.useCreateElement=!1}var r=n(12),i=n(34),a=n(28),s=n(2),u=n(9),l={initialize:function(){this.reactMountReady.reset()},close:u},c=[l],p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};s(o.prototype,a.Mixin,p),r.addPoolingTo(o),t.exports=o},function(t,e,n){"use strict";var o=n(16),r=o.injection.MUST_USE_ATTRIBUTE,i={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:r,xmlLang:r,xmlSpace:r,y1:r,y2:r,y:r},DOMAttributeNamespaces:{xlinkActuate:i.xlink,xlinkArcrole:i.xlink,xlinkHref:i.xlink,xlinkRole:i.xlink,xlinkShow:i.xlink,xlinkTitle:i.xlink,xlinkType:i.xlink,xmlBase:i.xml,xmlLang:i.xml,xmlSpace:i.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=a},function(t,e,n){"use strict";function o(t){if("selectionStart"in t&&u.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t,e){if(w||null==m||m!==c())return null;var n=o(m);if(!b||!d(b,n)){b=n;var r=l.getPooled(y.select,g,t,e);return r.type="select",r.target=m,a.accumulateTwoPhaseDispatches(r),r}return null}var i=n(10),a=n(19),s=n(4),u=n(69),l=n(15),c=n(84),p=n(80),h=n(13),d=n(86),f=i.topLevelTypes,v=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,y={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},m=null,g=null,b=null,w=!1,x=!1,C=h({onSelect:null}),E={eventTypes:y,extractEvents:function(t,e,n,o,i){if(!x)return null;switch(t){case f.topFocus:(p(e)||"true"===e.contentEditable)&&(m=e,g=n,b=null);break;case f.topBlur:m=null,g=null,b=null;break;case f.topMouseDown:w=!0;break;case f.topContextMenu:case f.topMouseUp:return w=!1,r(o,i);case f.topSelectionChange:if(v)break;case f.topKeyDown:case f.topKeyUp:return r(o,i)}return null},didPutListener:function(t,e,n){e===C&&(x=!0)}};t.exports=E},function(t,e){"use strict";var n=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=o},function(t,e,n){"use strict";var o=n(10),r=n(81),i=n(19),a=n(5),s=n(144),u=n(15),l=n(147),c=n(149),p=n(27),h=n(146),d=n(150),f=n(21),v=n(151),y=n(9),m=n(43),g=n(1),b=n(13),w=o.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},C={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var E in C)C[E].dependencies=[E];var S=b({onClick:null}),M={},_={eventTypes:x,extractEvents:function(t,e,n,o,r){var a=C[t];if(!a)return null;var y;switch(t){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:y=u;break;case w.topKeyPress:if(0===m(o))return null;case w.topKeyDown:case w.topKeyUp:y=c;break;case w.topBlur:case w.topFocus:y=l;break;case w.topClick:if(2===o.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:y=p;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:y=h;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:y=d;break;case w.topScroll:y=f;break;case w.topWheel:y=v;break;case w.topCopy:case w.topCut:case w.topPaste:y=s}y?void 0:g(!1);var b=y.getPooled(a,n,o,r);return i.accumulateTwoPhaseDispatches(b),b},didPutListener:function(t,e,n){if(e===S){var o=a.getNode(t);M[t]||(M[t]=r.listen(o,"click",y))}},willDeleteListener:function(t,e){e===S&&(M[t].remove(),delete M[t])}};t.exports=_},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(15),i={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(o,i),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(15),i={data:null};r.augmentClass(o,i),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(27),i={dataTransfer:null};r.augmentClass(o,i),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(21),i={relatedTarget:null};r.augmentClass(o,i),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(15),i={data:null};r.augmentClass(o,i),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(21),i=n(43),a=n(156),s=n(44),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?i(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?i(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(o,u),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(21),i=n(44),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(o,a),t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o){r.call(this,t,e,n,o)}var r=n(27),i={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(o,i),t.exports=o},function(t,e){"use strict";function n(t){for(var e=1,n=0,r=0,i=t.length,a=-4&i;a>r;){for(;r<Math.min(r+4096,a);r+=4)n+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=o,n%=o}for(;i>r;r++)n+=e+=t.charCodeAt(r);return e%=o,n%=o,e|n<<16}var o=65521;t.exports=n},function(t,e,n){"use strict";function o(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var o=isNaN(e);return o||0===e||i.hasOwnProperty(t)&&i[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var r=n(54),i=r.isUnitlessNumber;t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o,r){return r}n(2),n(3);t.exports=o},function(t,e,n){"use strict";function o(t,e,n){var o=t,r=void 0===o[n];r&&null!=e&&(o[n]=e)}function r(t){if(null==t)return t;var e={};return i(t,o,e),e}var i=n(51);n(3);t.exports=r},function(t,e,n){"use strict";function o(t){if(t.key){var e=i[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var r=n(43),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=o},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function r(t,e){for(var r=n(t),i=0,a=0;r;){if(3===r.nodeType){if(a=i+r.textContent.length,e>=i&&a>=e)return{node:r,offset:e-i};i=a}r=n(o(r))}}t.exports=r},function(t,e,n){"use strict";function o(t){return r.isValidElement(t)?void 0:i(!1),t}var r=n(6),i=n(1);t.exports=o},function(t,e,n){"use strict";function o(t){return'"'+r(t)+'"'}var r=n(30);t.exports=o},function(t,e,n){"use strict";var o=n(5);t.exports=o.renderSubtreeIntoContainer},function(t,e){"use strict";function n(t){return t.replace(o,function(t,e){return e.toUpperCase()})}var o=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function o(t){return r(t.replace(i,"ms-"))}var r=n(161),i=/^-ms-/;t.exports=o},function(t,e,n){"use strict";function o(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function r(t){return o(t)?Array.isArray(t)?t.slice():i(t):[t]}var i=n(172);t.exports=r},function(t,e,n){"use strict";function o(t){var e=t.match(c);return e&&e[1].toLowerCase()}function r(t,e){var n=l;l?void 0:u(!1);var r=o(t),i=r&&s(r);if(i){n.innerHTML=i[1]+t+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=t;var p=n.getElementsByTagName("script");p.length&&(e?void 0:u(!1),a(p).forEach(e));for(var h=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var i=n(4),a=n(163),s=n(85),u=n(1),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=r},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){"use strict";function n(t){return t.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function o(t){return r(t).replace(i,"-ms-")}var r=n(166),i=/^ms-/;t.exports=o},function(t,e){"use strict";function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e,n){"use strict";function o(t){return r(t)&&3==t.nodeType}var r=n(168);t.exports=o},function(t,e){"use strict";function n(t,e,n){if(!t)return null;var r={};for(var i in t)o.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}var o=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){"use strict";function o(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?r(!1):void 0,"number"!=typeof e?r(!1):void 0,0===e||e-1 in t?void 0:r(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var o=Array(e),i=0;e>i;i++)o[i]=t[i];return o}var r=n(1);t.exports=o},function(t,e,n){"use strict";t.exports=n(116)}]);